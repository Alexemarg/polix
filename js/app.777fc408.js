(function(t){function e(e){for(var a,s,i=e[0],c=e[1],l=e[2],u=0,d=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);f&&f(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,s=1;s<n.length;s++){var i=n[s];0!==o[i]&&(a=!1)}a&&(r.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},s={app:0},o={app:0},r=[];function i(t){return c.p+"js/"+({about:"about",editor:"editor",game:"game",news:"news",settings:"settings"}[t]||t)+"."+{about:"6dc532b3",editor:"b883d071",game:"6624d4d4",news:"58e05383",settings:"8c8a391c","chunk-2d0ac44a":"22b726ca","chunk-2d0cf34c":"a4c143ba","chunk-2d237182":"5f8750ca"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={editor:1,game:1,news:1};s[t]?e.push(s[t]):0!==s[t]&&n[t]&&e.push(s[t]=new Promise((function(e,n){for(var a="css/"+({about:"about",editor:"editor",game:"game",news:"news",settings:"settings"}[t]||t)+"."+{about:"31d6cfe0",editor:"8f3b8862",game:"0fac81a8",news:"2c2765ac",settings:"31d6cfe0","chunk-2d0ac44a":"31d6cfe0","chunk-2d0cf34c":"31d6cfe0","chunk-2d237182":"31d6cfe0"}[t]+".css",o=c.p+a,r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var l=r[i],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===o))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){l=d[i],u=l.getAttribute("data-href");if(u===a||u===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var a=e&&e.target&&e.target.src||o,r=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete s[t],f.parentNode.removeChild(f),n(r)},f.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){s[t]=0})));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise((function(e,n){a=o[t]=[e,n]}));e.push(a[2]=r);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=i(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(f);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",d.name="ChunkLoadError",d.type=a,d.request=s,n[1](d)}o[t]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/polix/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var f=u;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),s=n.n(a);s.a},"14ee":function(t,e,n){},"17ed":function(t,e,n){},2816:function(t,e,n){},"2dae":function(t,e,n){"use strict";var a=n("14ee"),s=n.n(a);s.a},"4eab":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"img_pixel",style:t.url?"background: url("+t.url+")":"background: #"+(t.color||"0000")},[n("img",{staticStyle:{height:"100%",width:"100%",visibility:"hidden"},attrs:{src:t.url},on:{error:function(e){!t.src.startsWith("data:")&&(t.url=t.fail)}}})])},s=[],o={props:["src","fail","color"],data(){return{url:this.src}},watch:{src(t){this.url=t}}},r=o,i=(n("c186"),n("2877")),c=Object(i["a"])(r,a,s,!1,null,null,null);e["default"]=c.exports},"56d7":function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"set",(function(){return T})),n.d(a,"sva",(function(){return z})),n.d(a,"gameProjData",(function(){return B}));var s={};n.r(s),n.d(s,"loadLang",(function(){return q})),n.d(s,"loadVersList",(function(){return R})),n.d(s,"changeVersion",(function(){return V})),n.d(s,"loadBuild",(function(){return I})),n.d(s,"loadEngine",(function(){return K})),n.d(s,"setSidebarHide",(function(){return U})),n.d(s,"dialog",(function(){return F}));n("5319"),n("ddb0"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ff-main bg-dr",attrs:{id:"app"}},[n("div",{attrs:{id:"frame"}},[n("Sidebar",{directives:[{name:"show",rawName:"v-show",value:!t.isSbHidden,expression:"!isSbHidden"}]}),n("main",{staticClass:"p-0 bg-noise"},[n("router-view")],1)],1),n("b-modal",{attrs:{id:"modal_dialog",title:t.modal.capt,"header-class":"bg-lt text-light ff-main","body-class":"bg-pr text-light ff-sec","footer-class":"bg-lt text-light ff-main",centered:""},on:{close:function(e){return t.modal.onanswer(0)}}},[n("p",{staticStyle:{height:"30vh"}},[t._v(" "+t._s(t.modal.msg)+" ")]),t._t("default",t._l(t.modal.btns,(function(e,a){return n("b-button",{key:a,attrs:{variant:e[1]},on:{click:function(e){t.modal.onanswer(a),t.$bvModal.hide("modal_dialog")}}},[t._v(" "+t._s(e[0])+" ")])})),{slot:"modal-footer"})],2)],1)},i=[],c=n("5530"),l=n("2f62"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",{staticClass:"bg-noise text-pr bg-pr",class:{minimized:t.isMn},attrs:{id:"sb"}},[n("b-row",{staticClass:"m-0 bg-lt"},[n("b-col",{staticClass:"p-0"},[n("b-button",{staticClass:"m-3 p-0 border-0",attrs:{id:"b_menu"},on:{click:function(e){t.isMn=!t.isMn}}},[n("b-icon",{staticClass:"text-pr",attrs:{icon:"list","font-scale":"2.5"}})],1)],1)],1),n("b-nav",{attrs:{variant:"link",vertical:"",small:""}},[n("Navigation"),n("footer",{staticClass:"sb_minzbl t-pc t-ss text-se"},[t._v(" 2020 "+t._s(t.$t("allRgRvd"))+" ")])],1)],1)},d=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-nav",{attrs:{vertical:"",id:"nav"}},[n("b-nav-item",{attrs:{to:"/game"}},[n("b-row",{staticClass:"m-0 p-3 text-pr"},[n("b-col",{staticClass:"p-0",attrs:{cols:"auto"}},[n("b-icon",{staticClass:"text-pr",attrs:{icon:"controller","font-scale":"2"}})],1),n("b-col",{staticClass:"sb_minzbl p-0 pl-3 pt-2"},[t._v(" "+t._s(t.$t("m_game"))+" ")])],1)],1),n("b-nav-item",{attrs:{to:"/editor"}},[n("b-row",{staticClass:"m-0 p-3 text-pr"},[n("b-col",{staticClass:"p-0",attrs:{cols:"auto"}},[n("b-icon",{staticClass:"text-pr",attrs:{icon:"pencil-square","font-scale":"2"}})],1),n("b-col",{staticClass:"sb_minzbl p-0 pl-3 pt-2"},[t._v(" "+t._s(t.$t("m_editor"))+" ")])],1)],1),n("b-nav-item",{attrs:{to:"/wiki"}},[n("b-row",{staticClass:"m-0 p-3 text-pr"},[n("b-col",{staticClass:"p-0",attrs:{cols:"auto"}},[n("b-icon",{staticClass:"text-pr",attrs:{icon:"book","font-scale":"2"}})],1),n("b-col",{staticClass:"sb_minzbl p-0 pl-3 pt-2"},[t._v(" "+t._s(t.$t("m_wiki"))+" ")])],1)],1),n("b-nav-item",{attrs:{to:"/news",disabled:""}},[n("b-row",{staticClass:"m-0 p-3 text-pr"},[n("b-col",{staticClass:"p-0",attrs:{cols:"auto"}},[n("b-icon",{staticClass:"text-pr",attrs:{icon:"newspaper","font-scale":"2"}})],1),n("b-col",{staticClass:"sb_minzbl p-0 pl-3 pt-2"},[t._v(" "+t._s(t.$t("m_news"))+" ")])],1)],1),n("b-nav-item",{attrs:{to:"/settings",disabled:""}},[n("b-row",{staticClass:"m-0 p-3 text-pr"},[n("b-col",{staticClass:"p-0",attrs:{cols:"auto"}},[n("b-icon",{staticClass:"text-pr",attrs:{icon:"gear","font-scale":"2"}})],1),n("b-col",{staticClass:"sb_minzbl p-0 pl-3 pt-2"},[t._v(" "+t._s(t.$t("m_stgs"))+" ")])],1)],1),n("b-nav-item",{attrs:{to:"/about",disabled:""}},[n("b-row",{staticClass:"m-0 p-3 text-pr"},[n("b-col",{staticClass:"p-0",attrs:{cols:"auto"}},[n("b-icon",{staticClass:"text-pr",attrs:{icon:"info-circle","font-scale":"2"}})],1),n("b-col",{staticClass:"sb_minzbl p-0 pl-3 pt-2"},[t._v(" "+t._s(t.$t("m_about"))+" ")])],1)],1)],1)},p=[],b=(n("963f"),n("2877")),m={},g=Object(b["a"])(m,f,p,!1,null,null,null),v=g.exports,h=n("6e92"),w=n("f8cc");const _="i_sb_ismn";var y={data(){return h["a"].watch(_,()=>{this.isMn=h["a"].load(_,!1,w["a"].from.bool)}),{isMn:h["a"].load(_,!1,w["a"].from.bool),testn:0}},components:{Navigation:v},watch:{isMn(t){h["a"].save(_,t,w["a"].to.bool)}},methods:{}},C=y,x=(n("2dae"),Object(b["a"])(C,u,d,!1,null,null,null)),j=x.exports,O={data(){return{}},components:{Sidebar:j},computed:Object(c["a"])({},Object(l["b"])(["modal","isSbHidden"])),mounted(){}},S=O,k=(n("034f"),Object(b["a"])(S,r,i,!1,null,null,null)),$=k.exports,E=n("8c4f");o["default"].use(E["a"]);const N=[{path:"*",redirect:"/game"},{path:"/game",component:()=>n.e("game").then(n.bind(null,"9365"))},{path:"/editor",component:()=>n.e("editor").then(n.bind(null,"be56"))},{path:"/wiki",component:()=>n.e("news").then(n.bind(null,"7a06"))},{path:"/news",component:()=>n.e("news").then(n.bind(null,"4b86"))},{path:"/settings",component:()=>n.e("settings").then(n.bind(null,"b41f"))},{path:"/about",component:()=>n.e("about").then(n.bind(null,"a1d1"))}];var M=new E["a"]({base:"/polix/",routes:N});const P={vlist:[],build:{},issbhidden:!1,sva:h["a"].load("s_va","last"),lang:h["a"].load("s_l","ru"),langlist:new Set(["ru","en"]),progress:[0,0,""],session:{type:"",starttime:0},project:{},modal:{}};var L=P,A={verNum:t=>t.build.v,selVerAlias:t=>t.sva,lang:t=>t.lang,langList:t=>t.langlist,vlist:t=>t.vlist,sva:t=>t.sva,vn:t=>t.build.v||(/^\d+\.\d+\.\d+$/.test(t.sva)?t.sva:"*.*.*"),v:t=>t.build.v,progress:t=>t.progress,modal:t=>t.modal,isSbHidden:t=>t.issbhidden};function T(t,e){Object.assign(t,e)}function z(t,e){h["a"].save("s_va",e.a||e.n),t.build.v=e.n}function B(t,e){t.sgproj=e;const n=`p/${t.sgproj.devid}/${t.sgproj.projid}/`;window.$shared.R={img:n+"i/",aud:n+"a/",shd:n+"s/",map:n+"m/",loc:n+"l/"}}var D=n("a925");o["default"].use(D["a"]);const H=new D["a"];var J=n("b56f");function q({commit:t,dispatch:e,getters:n},a){n.langList.has(n.lang)||(a="ru"),fetch(`lang/${a}.json`).then(t=>t.json()).then(e=>{H.setLocaleMessage(a,e),H.locale=a,document.querySelector("html").setAttribute("lang",a),h["a"].save("s_l",a),t("set",{lang:a})}).catch(t=>{console.error('Не удалось загрузить файл локализации языка "'+a+'": ',t)})}function R({commit:t,dispatch:e}){return new Promise((e,n)=>{fetch("e/build/list.json").then(t=>t.json()).then(n=>{t("set",{vlist:n}),e()}).catch(n)})}function V({commit:t,dispatch:e},n){t("sva",n),location.reload()}function I({commit:t,dispatch:e,getters:n}){return new Promise((e,a)=>{fetch("e/build/"+n.sva+".json").then(t=>t.json()).then(n=>{t("set",{build:n}),e()}).catch(a)})}function K({commit:t,dispatch:e,getters:n},a){return new Promise((t,e)=>{Object(J["a"])(`e/core/${n.v}/${a}.js`).then(e=>{console.log("Библиотеки загружены"),console.log(`Загрузка ядра: ${a}_${n.v}.js`),t("Процесс загрузки движка успешно завершен")}).catch(t=>e("Ошибка загрузки библиотек: "+t))})}function U({commit:t},e=!0){t("set",{issbhidden:e})}function F(t,e){t.commit("set",{modal:e}),ot.$bvModal.show("modal_dialog")}o["default"].use(l["a"]);var W=new l["a"].Store({state:L,actions:s,mutations:a,getters:A,strict:!0}),G=(n("f9e3"),n("2dd8"),n("5f5b")),Q=n("498a"),X=n("dbbe"),Y=n("a7e2"),Z=n("0025"),tt=n("8c60"),et=n("1f1a"),nt=n("3c97"),at=n("b1e0");o["default"].config.productionTip=!1,o["default"].use(G["a"]),o["default"].use(Q["a"]),o["default"].use(X["a"]),o["default"].use(Y["a"]),o["default"].use(Z["a"]),o["default"].use(tt["a"]),o["default"].use(et["a"]),o["default"].use(nt["a"]),o["default"].use(at["a"]);const st=n("917b");st.keys().forEach(t=>{const e=st(t),n=t.replace(/(^\.\/)|(\.\w+$)/g,"");/^_/.test(n)||o["default"].component(n,e.default||e)});var ot=e["default"]=new o["default"]({router:M,store:W,i18n:H,render:t=>t($)}).$mount("#app");W.dispatch("loadLang",W.getters.lang).catch(t=>{console.log("Ошибка при загрузке языка"),console.dir(t)}),W.dispatch("loadBuild").catch(t=>{console.log("Ошибка при загрузке информации о версии движка"),console.dir(t)})},"6e92":function(t,e,n){"use strict";n("4d63"),n("25f0"),n("466d"),n("ddb0");const a=new Map;function s(t,e){window.localStorage.setItem(t,e)}function o(t,e){const n=window.localStorage.getItem(t);return null!=n?n:e}window.addEventListener("storage",t=>{const e=a.get(t.key);e&&e(t.newValue,t)});const r="#";function i(t){const e=[],n=new RegExp("^"+t+r+"\\d+$");for(let a in localStorage)localStorage.hasOwnProperty(a)&&n.test(a)&&e.push(a.match(/\d+$/)[0]);return e.sort((t,e)=>t-e),e.map(e=>t+r+e)}e["a"]={watch:(t,e)=>a.set(t,e),save(t,e,n){s(t,n?n(e):e)},load(t,e,n){const a=o(t,e);return n?n(a):a},many:{getNextKey(t){let e=0;while(o(t+r+e))++e;return t+r+e},loadAll(t,e){const n=i(t),a=new Map;return n.forEach(t=>{const n=o(t),s=e?e(n):n;null==s||"number"===typeof s&&isNaN(s)||a.set(t,s)}),a},loadKeys:i}}},"85ec":function(t,e,n){},"917b":function(t,e,n){var a={"./ProgressBar.vue":"fc05","./img-pixel.vue":"4eab"};function s(t){var e=o(t);return n(e)}function o(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=o,t.exports=s,s.id="917b"},"963f":function(t,e,n){"use strict";var a=n("2816"),s=n.n(a);s.a},b56f:function(t,e,n){"use strict";n("ddb0");const a=new Set;e["a"]=function(t,e=!1){return new Promise((n,s)=>{if(e&&a.has(t))return n();const o=document.createElement("script");o.src=t,o.onload=()=>{a.add(t),n()},o.onerror=()=>{s()},document.head.append(o)})}},c186:function(t,e,n){"use strict";var a=n("17ed"),s=n.n(a);s.a},d720:function(t,e,n){"use strict";var a=n("f247"),s=n.n(a);s.a},f247:function(t,e,n){},f8cc:function(t,e,n){"use strict";e["a"]={from:{bool:t=>!!+t,json(t,e){if("string"!==typeof t)return e;try{return JSON.parse(t)}catch(n){return e}},time:{minutes:t=>new Date(6e4*t)}},to:{bool:t=>+t,json:JSON.stringify,time:{minutes:t=>Math.trunc(t/6e4)}},copy(t){return JSON.parse(JSON.stringify(t))}}},fc05:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"progs"},t._l(t.val[1],(function(e){return n("div",{key:e,class:e>t.val[0]?"bg-lt":"bg-ac"},[n("div")])})),0)},s=[],o={props:{val:Array}},r=o,i=(n("d720"),n("2877")),c=Object(i["a"])(r,a,s,!1,null,null,null);e["default"]=c.exports}});
//# sourceMappingURL=app.777fc408.js.map