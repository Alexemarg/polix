{"version":3,"sources":["webpack:///./src/components/editor/EditMap.vue?aeeb","webpack:///./node_modules/ajv/lib/dotjs/format.js","webpack:///./node_modules/ajv/lib/dotjs/not.js","webpack:///./node_modules/ajv/lib/dotjs/const.js","webpack:///./node_modules/core-js/modules/es.string.split.js","webpack:///./src/components/editor/rules/VarRow.vue?93ac","webpack:///./node_modules/core-js/modules/es.string.starts-with.js","webpack:///./node_modules/ajv/lib/dotjs/oneOf.js","webpack:///./node_modules/uri-js/dist/es5/uri.all.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./node_modules/ajv/lib/dotjs/comment.js","webpack:///./node_modules/ajv/lib/dotjs/contains.js","webpack:///./node_modules/ajv/lib/dotjs/anyOf.js","webpack:///./node_modules/ajv/lib/dotjs/index.js","webpack:///./src/helpers/project_editor/layerFormatter.js","webpack:///./node_modules/ajv/lib/data.js","webpack:///./src/components/editor/rules/RulesEditor.vue?7d8f","webpack:///./node_modules/fast-deep-equal/index.js","webpack:///./node_modules/ajv/lib/dotjs/propertyNames.js","webpack:///./node_modules/ajv/lib/dotjs/ref.js","webpack:///./node_modules/ajv/lib/dotjs/pattern.js","webpack:///./node_modules/ajv/lib/dotjs/custom.js","webpack:///./node_modules/ajv/lib/compile/ucs2length.js","webpack:///./node_modules/ajv/lib/dotjs/_limitProperties.js","webpack:///./node_modules/ajv/lib/ajv.js","webpack:///./node_modules/ajv/lib/definition_schema.js","webpack:///./src/pages/Editor.vue?591e","webpack:///./node_modules/ajv/lib/dotjs/items.js","webpack:///./node_modules/ajv/lib/compile/error_classes.js","webpack:///./node_modules/json-schema-traverse/index.js","webpack:///./node_modules/ajv/lib/compile/index.js","webpack:///./node_modules/ajv/lib/dotjs/_limitLength.js","webpack:///./node_modules/ajv/lib/compile/formats.js","webpack:///./node_modules/ajv/lib/dotjs/multipleOf.js","webpack:///./node_modules/ajv/lib/compile/resolve.js","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./src/components/editor/rules/RuleRow.vue?316e","webpack:///./node_modules/ajv/lib/compile/async.js","webpack:///./node_modules/ajv/lib/dotjs/required.js","webpack:///./node_modules/ajv/lib/dotjs/dependencies.js","webpack:///./src/helpers/dataShare.js","webpack:///./node_modules/ajv/lib/compile/schema_obj.js","webpack:///./node_modules/ajv/lib/dotjs/properties.js","webpack:///./src/pages/Editor.vue?48bf","webpack:///./src/components/editor/EditProject.vue?12fa","webpack:///./src/components/FormSchema.vue?e451","webpack:///./src/components/form/Field.vue?ad4b","webpack:///./src/components/form/Audio.vue?fac1","webpack:///./src/helpers/fileToBase64.js","webpack:///./src/components/form/AudioPlayer.vue?42d7","webpack:///./src/helpers/getJSONSizeInBytes.js","webpack:///src/components/form/AudioPlayer.vue","webpack:///./src/components/form/AudioPlayer.vue?c133","webpack:///./src/components/form/AudioPlayer.vue","webpack:///src/components/form/Audio.vue","webpack:///./src/components/form/Audio.vue?929f","webpack:///./src/components/form/Audio.vue","webpack:///./src/components/form/Image.vue?1dd6","webpack:///src/components/form/Image.vue","webpack:///./src/components/form/Image.vue?1160","webpack:///./src/components/form/Image.vue","webpack:///./src/components/form/Input.vue?2b0f","webpack:///src/components/form/Input.vue","webpack:///./src/components/form/Input.vue?36a7","webpack:///./src/components/form/Input.vue","webpack:///./src/helpers/getObjectFieldByLink.js","webpack:///src/components/form/Field.vue","webpack:///./src/components/form/Field.vue?96ba","webpack:///./src/components/form/Field.vue?1dca","webpack:///./src/components/editor/rules/RulesEditor.vue?af98","webpack:///./src/components/editor/rules/RuleRow.vue?90b2","webpack:///src/components/editor/rules/RuleRow.vue","webpack:///./src/components/editor/rules/RuleRow.vue?baa7","webpack:///./src/components/editor/rules/RuleRow.vue?5283","webpack:///./src/components/editor/rules/RuleEdit.vue?548c","webpack:///src/components/editor/rules/RuleEdit.vue","webpack:///./src/components/editor/rules/RuleEdit.vue?8860","webpack:///./src/components/editor/rules/RuleEdit.vue","webpack:///./src/components/FormSchemaSimple.vue?9d76","webpack:///src/components/FormSchemaSimple.vue","webpack:///./src/components/FormSchemaSimple.vue?fbe0","webpack:///./src/components/FormSchemaSimple.vue","webpack:///./src/components/editor/rules/VarRow.vue?ef69","webpack:///src/components/editor/rules/VarRow.vue","webpack:///./src/components/editor/rules/VarRow.vue?4a48","webpack:///./src/components/editor/rules/VarRow.vue?3b6b","webpack:///./src/helpers/rulesParser.js","webpack:///src/components/editor/rules/RulesEditor.vue","webpack:///./src/components/editor/rules/RulesEditor.vue?190f","webpack:///./src/components/editor/rules/RulesEditor.vue?b9ed","webpack:///src/components/FormSchema.vue","webpack:///./src/components/FormSchema.vue?be4d","webpack:///./src/components/FormSchema.vue","webpack:///./src/components/editor/EditMap.vue?cfd2","webpack:///./src/components/editor/maps/PropsList.vue?e8fb","webpack:///src/components/editor/maps/PropsList.vue","webpack:///./src/components/editor/maps/PropsList.vue?f4ba","webpack:///./src/components/editor/maps/PropsList.vue","webpack:///src/components/editor/EditMap.vue","webpack:///./src/components/editor/EditMap.vue?2a2f","webpack:///./src/components/editor/EditMap.vue?43ee","webpack:///./src/components/editor/ImageResourses.vue?5a59","webpack:///src/components/editor/ImageResourses.vue","webpack:///./src/components/editor/ImageResourses.vue?b615","webpack:///./src/components/editor/ImageResourses.vue","webpack:///./src/components/editor/DataRes.vue?630d","webpack:///src/components/editor/DataRes.vue","webpack:///./src/components/editor/DataRes.vue?98ad","webpack:///./src/components/editor/DataRes.vue","webpack:///./src/components/editor/AnimRes.vue?e3d4","webpack:///./src/components/editor/anims/Preview.vue?6eea","webpack:///./src/components/editor/anims/initPreview.js","webpack:///src/components/editor/anims/Preview.vue","webpack:///./src/components/editor/anims/Preview.vue?7f69","webpack:///./src/components/editor/anims/Preview.vue","webpack:///src/components/editor/AnimRes.vue","webpack:///./src/components/editor/AnimRes.vue?b57f","webpack:///./src/components/editor/AnimRes.vue","webpack:///./src/components/editor/AudioRes.vue?9a82","webpack:///src/components/editor/AudioRes.vue","webpack:///./src/components/editor/AudioRes.vue?b8ba","webpack:///./src/components/editor/AudioRes.vue","webpack:///src/components/editor/EditProject.vue","webpack:///./src/components/editor/EditProject.vue?d66e","webpack:///./src/components/editor/EditProject.vue?1161","webpack:///./src/components/editor/ProjectList.vue?70ec","webpack:///src/components/editor/ProjectList.vue","webpack:///./src/components/editor/ProjectList.vue?8efa","webpack:///./src/components/editor/ProjectList.vue","webpack:///./src/helpers/getAverageColor.js","webpack:///./src/helpers/projectEditor.js","webpack:///./src/helpers/JSONSchema.js","webpack:///src/pages/Editor.vue","webpack:///./src/pages/Editor.vue?b88a","webpack:///./src/pages/Editor.vue?faf9","webpack:///./node_modules/ajv/lib/dotjs/_limit.js","webpack:///./src/helpers/project_editor/layerProcess.js","webpack:///./src/helpers/projectDataParser.js","webpack:///./node_modules/ajv/lib/compile/rules.js","webpack:///./node_modules/ajv/lib/dotjs/uniqueItems.js","webpack:///./node_modules/ajv/lib/dotjs/validate.js","webpack:///./node_modules/ajv/lib/dotjs/_limitItems.js","webpack:///./node_modules/ajv/lib/dotjs/if.js","webpack:///./node_modules/ajv/lib/dotjs/enum.js","webpack:///./node_modules/ajv/lib/dotjs/allOf.js","webpack:///./node_modules/ajv/lib/cache.js","webpack:///./src/components/editor/EditProject.vue?a708","webpack:///./node_modules/fast-json-stable-stringify/index.js","webpack:///./src/components/form/Field.vue?4ac1","webpack:///./node_modules/ajv/lib/compile/util.js","webpack:///./node_modules/ajv/lib/keyword.js"],"names":["module","exports","it","$keyword","$ruleType","out","$lvl","level","$dataLvl","dataLevel","$schema","schema","$schemaPath","schemaPath","util","getProperty","$errSchemaPath","errSchemaPath","$breakOnError","opts","allErrors","$data","format","$schemaValue","$isData","getData","dataPathArr","$unknownFormats","unknownFormats","$allowUnknown","Array","isArray","$format","$isObject","$formatType","async","formats","logger","warn","indexOf","Error","RegExp","validate","type","$async","$formatRef","$$outStack","push","createErrors","toQuotedString","messages","escapeQuotes","verbose","__err","pop","compositeRule","$errs","$it","copy","$nextValid","strictKeywords","Object","keys","length","schemaHasRules","RULES","all","$allErrorsOption","$wasComposite","$valid","fixRegExpWellKnownSymbolLogic","isRegExp","anObject","requireObjectCoercible","speciesConstructor","advanceStringIndex","toLength","callRegExpExec","regexpExec","fails","arrayPush","min","Math","MAX_UINT32","SUPPORTS_Y","SPLIT","nativeSplit","maybeCallNative","internalSplit","split","separator","limit","string","String","this","lim","undefined","call","match","lastIndex","lastLength","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","separatorCopy","source","slice","index","apply","test","O","splitter","regexp","res","done","value","rx","S","C","unicodeMatching","p","q","A","e","z","i","$","getOwnPropertyDescriptor","f","notARegExp","correctIsRegExpLogic","IS_PURE","nativeStartsWith","startsWith","CORRECT_IS_REGEXP_LOGIC","MDN_POLYFILL_BUG","descriptor","prototype","writable","target","proto","forced","searchString","that","arguments","search","$closingBraces","$currentBaseId","baseId","$prevValid","$passingSchemas","arr1","$sch","$i","l1","global","factory","merge","_len","sets","_key","xl","x","join","subexp","str","typeOf","o","toString","shift","toLowerCase","toUpperCase","toArray","obj","setInterval","assign","key","buildExps","isIRI","ALPHA$$","DIGIT$$","HEXDIG$$","PCT_ENCODED$","GEN_DELIMS$$","SUB_DELIMS$$","RESERVED$$","UCSCHAR$$","IPRIVATE$$","UNRESERVED$$","SCHEME$","USERINFO$","DEC_OCTET_RELAXED$","IPV4ADDRESS$","H16$","LS32$","IPV6ADDRESS1$","IPV6ADDRESS2$","IPV6ADDRESS3$","IPV6ADDRESS4$","IPV6ADDRESS5$","IPV6ADDRESS6$","IPV6ADDRESS7$","IPV6ADDRESS8$","IPV6ADDRESS9$","IPV6ADDRESS$","ZONEID$","IPV6ADDRZ_RELAXED$","IPVFUTURE$","IP_LITERAL$","REG_NAME$","HOST$","PORT$","AUTHORITY$","PCHAR$","SEGMENT$","SEGMENT_NZ$","SEGMENT_NZ_NC$","PATH_ABEMPTY$","PATH_ABSOLUTE$","PATH_NOSCHEME$","PATH_ROOTLESS$","PATH_EMPTY$","QUERY$","FRAGMENT$","HIER_PART$","URI$","RELATIVE_PART$","RELATIVE$","NOT_SCHEME","NOT_USERINFO","NOT_HOST","NOT_PATH","NOT_PATH_NOSCHEME","NOT_QUERY","NOT_FRAGMENT","ESCAPE","UNRESERVED","OTHER_CHARS","PCT_ENCODED","IPV4ADDRESS","IPV6ADDRESS","URI_PROTOCOL","IRI_PROTOCOL","slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","err","TypeError","toConsumableArray","arr2","from","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","errors","baseMinusTMin","floor","stringFromCharCode","fromCharCode","error$1","RangeError","map","array","fn","result","mapDomain","parts","replace","labels","encoded","ucs2decode","counter","charCodeAt","extra","ucs2encode","fromCodePoint","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","k","decode","input","inputLength","n","bias","basic","lastIndexOf","j","oldi","w","t","baseMinusT","splice","encode","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_currentValue2","return","basicLength","handledCPCount","m","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","currentValue","handledCPCountPlusOne","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_currentValue","qMinusT","toUnicode","toASCII","punycode","SCHEMES","pctEncChar","chr","c","pctDecChars","newStr","il","parseInt","substr","c2","_c","c3","_normalizeComponentEncoding","components","protocol","decodeUnreserved","decStr","scheme","userinfo","host","path","query","fragment","_stripLeadingZeros","_normalizeIPv4","matches","_matches","address","_normalizeIPv6","_matches2","zone","_address$toLowerCase$","reverse","_address$toLowerCase$2","last","first","firstFields","lastFields","isLastFieldIPv4Address","fieldCount","lastFieldsStart","fields","allZeroFields","reduce","acc","field","lastLongest","longestZeroFields","sort","a","b","newHost","newFirst","newLast","URI_PARSE","NO_MATCH_IS_UNDEFINED","parse","uriString","options","iri","reference","port","isNaN","error","schemeHandler","unicodeSupport","domainHost","_recomposeAuthority","uriTokens","_","$1","$2","RDS1","RDS2","RDS3","RDS5","removeDotSegments","im","s","serialize","authority","charAt","absolutePath","resolveComponents","relative","skipNormalization","tolerant","resolve","baseURI","relativeURI","schemelessOptions","normalize","uri","equal","uriA","uriB","escapeComponent","unescapeComponent","handler","handler$1","ATEXT$$","QTEXT$$","VCHAR$$","SOME_DELIMS$$","NOT_LOCAL_PART","NOT_HFNAME","NOT_HFVALUE","handler$2","mailtoComponents","to","unknownHeaders","headers","hfields","hfield","toAddrs","_x","_xl","subject","body","_x2","_xl2","addr","toAddr","atIdx","localPart","domain","name","URN_PARSE","handler$3","urnComponents","nid","nss","urnScheme","uriComponents","UUID","handler$4","uuidComponents","uuid","defineProperty","$comment","$idx","$dataNxt","$nextData","$nonEmptySchema","errorPath","getPathExpr","jsonPointers","$passData","$code","varOccurences","varReplace","cleanUpCode","$noEmptySchema","every","allOf","anyOf","const","contains","dependencies","items","maximum","minimum","maxItems","minItems","maxLength","minLength","maxProperties","minProperties","multipleOf","not","oneOf","pattern","properties","propertyNames","required","uniqueItems","stringify","layerData","layer","data","r","KEYWORDS","metaSchema","keywordsJsonPointers","JSON","segments","keywords","$ref","constructor","valueOf","hasOwnProperty","$key","$invalidName","$dataProperties","$ownProperties","ownProperties","$refCode","isRoot","root","$refVal","resolveRef","$message","MissingRefError","message","missingRefs","inline","code","passContext","$parentData","$parentDataProperty","__callValidate","$regexp","usePattern","$errorKeyword","$compile","$inline","$macro","$ruleValidate","$validateCode","$rule","$definition","$rDef","definition","$validateSchema","validateSchema","useCustomRule","compile","macro","$ruleErrs","$ruleErr","$asyncKeyword","statements","def_callRuleValidate","modifying","valid","keyword","def_customError","len","pos","$op","compileSchema","Cache","SchemaObject","stableStringify","rules","$dataMetaSchema","Ajv","addSchema","addMetaSchema","getSchema","removeSchema","addFormat","errorsText","_addSchema","_compile","compileAsync","customKeyword","addKeyword","add","getKeyword","get","removeKeyword","remove","validateKeyword","errorClasses","ValidationError","Validation","MissingRef","META_SCHEMA_ID","META_IGNORE_OPTIONS","META_SUPPORT_DATA","_opts","setLogger","_schemas","_refs","_fragments","_formats","_cache","cache","_loadingSchemas","_compilations","_getId","chooseGetId","loopRequired","Infinity","errorDataPath","_errorDataPathProperty","_metaOpts","getMetaSchemaOptions","addInitialFormats","addInitialKeywords","addDefaultMetaSchema","meta","nullable","addInitialSchemas","schemaKeyRef","v","schemaObj","_meta","_skipValidation","id","normalizeId","checkUnique","skipValidation","throwOrLogError","defaultMeta","self","keyRef","_getSchemaObj","_getSchemaFragment","ref","_removeAllSchemas","clear","del","cacheKey","schemas","regex","shouldAddSchema","cached","addUsedSchema","recursiveMeta","willValidate","localRefs","ids","put","compiling","callValidate","currentOpts","refs","refVal","_validate","schemaId","_get$IdOrId","_get$Id","$id","dataVar","text","dataPath","$dataSchema","optsSchemas","metaOpts","log","noop","console","definitions","simpleTypes","$additionalItems","additionalItems","$currErrSchemaPath","ajv","validation","missingRef","url","missingSchema","fullPath","errorSubclass","Subclass","create","traverse","cb","pre","post","_traverse","jsonPtr","rootSchema","parentJsonPtr","parentKeyword","parentSchema","keyIndex","sch","arrayKeywords","propsKeywords","prop","escapeJsonPtr","allKeys","skipKeywords","additionalProperties","patternProperties","default","enum","exclusiveMaximum","exclusiveMinimum","validateGenerator","ucs2length","patterns","patternsHash","defaults","defaultsHash","customRules","checkCompiling","compilation","localCompile","cv","sourceCode","endCompiling","_schema","_root","isTop","useDefault","vars","refValCode","patternCode","defaultCode","customRuleCode","processCode","makeValidate","Function","_refVal","refCode","refIndex","resolvedRef","rootRefId","addLocalRef","localSchema","inlineRef","inlineRefs","replaceLocalRef","removeLocalRef","refId","regexStr","valueStr","rule","deps","compIndex","statement","DATE","DAYS","TIME","HOSTNAME","URI","URIREF","URITEMPLATE","URL","JSON_POINTER","JSON_POINTER_URI_FRAGMENT","RELATIVE_JSON_POINTER","mode","isLeapYear","year","date","month","day","time","full","hour","minute","second","timeZone","fast","email","hostname","ipv4","ipv6","date_time","DATE_TIME_SEPARATOR","dateTime","NOT_URI_FRAGMENT","Z_ANCHOR","multipleOfPrecision","resolveSchema","refPath","_getFullPath","getFullPath","resolveRecursive","getJsonPointer","parsedRef","resolveUrl","resolveIds","PREVENT_SCOPE_CHANGE","toHash","part","unescapeFragment","SIMPLE_INLINED","checkNoRef","countKeys","item","count","TRAILING_SLASH_HASH","baseIds","fullPaths","escapeFragment","wellKnownSymbol","MATCH","METHOD_NAME","callback","loadSchema","loadMetaSchemaOf","then","_compileAsync","Promise","loadMissingSchema","added","schemaPromise","removePromise","$vSchema","$required","$property","i1","$propertySch","$currentErrorPath","$loopRequired","$propertyPath","$missingProperty","l2","$propertyKey","$prop","$useData","arr3","i3","l3","getPath","$schemaDeps","$propertyDeps","$deps","i2","clearTriggers","window","$triggers","start","setPause","destroy","getMapData","setAudioSettings","setLayer","setBlockPropsEdit","clearEvents","$events","onEngineLoad","$shared","$libs","$comps","$info","aud","blocks","isDebug","editObjectType","sBlockId","sBlockIdAlt","sStructId","sStructIdAlt","sLayerKey","LSK_audiostgs","setAudStgs","audioSettings","audStgs","LS","load","Convert","json","vol","save","dir","clearTriggersAndEvents","setData","$schemaKeys","$pProperties","$pPropertyKeys","$aProperties","$someProperties","$noAdditional","$additionalIsSchema","$removeAdditional","removeAdditional","$checkAdditional","$requiredHash","$pProperty","$additionalProperty","$useDefaults","useDefaults","$hasDefault","arr4","i4","l4","render","_vm","_h","$createElement","_self","isLoaded","isEditMode","staticClass","attrs","staticStyle","projs","size","editor","parser","projPreview","projName","scopedSlots","_u","on","deleteCurrentProj","_v","editCurrentProj","proxy","projectBytes","projDescr","newProj","sprojkey","selectProject","exitEdit","staticRenderFns","$event","isEditFile","canceFileEdit","endProjectEdit","sFile","title","directives","rawName","expression","class","changedFiles","saveProject","runProject","widget","markChanged","commitFileChanges","_l","file","ix","has","editFile","reskeyToIconAssociations","isEditRules","isHasInvalid","isHasChanges","preventDefault","commit","val","requiredFields","isInv","isRequiresRules","rls","isSpecial","selectList","model","$$v","isTarIndex","isValid","example","max","_accept","state","asBase64","defaultVal","success","reject","reader","FileReader","readAsDataURL","onload","onerror","src","isAutoPlay","isRepeat","timeupdate","play","pause","stop","rangeWhell","volume","getFileSize","setProgress","cur","lengthInUtf8Bytes","encodeURIComponent","steps","el_progbar","props","watch","$refs","audio_player","methods","currentTime","duration","delY","deltaY","tarEl","audio_player_progress","maxWidth","getComputedStyle","width","progress","offsetX","component","AudioPlayer","itype","typeAssociations","number","integer","$el","trunc","computed","inObject","link","stepsChain","finder","list","targetKey","condition","cKey","cVal","forEach","_tarIx","Set","FInput","SelectAudio","SelectImage","_link","_list","table","$emit","trim","rulesPack","sRPId","selectRulesPack","editName","sEditRPId","_k","keyCode","setName","eName","addNewRulesPack","toggleStgsEditor","sRulesPack","ruleparser","event","editRule","addNewRule","deleteVar","addVar","newVarName","rulePair","e_capt","project","e_tid","e_cid","e_idc","args","deleteRule","closeRuleEditor","schema_rpstgs","commitStgsChanges","inact","inactive","style","colorList","ruleData","cid","ctxName","methName","getValue","idc","sidc","methList","methProps","_var","projdata","Field","RuleRow","ruleList","typeid","ctxid","refreshRuleProps","totalVal","privateFields","_private","rlsparser","$destroy","$set","keyByIxFromObject","valueByIxFromObject","getListCaptToIdc","idcPrefix","methKey","methid","argPrefix","varPrefix","RulesParser","newRulesPack","rp","actions","settings","rulesPacksVars","evArgs","rulesPacksVarsMap","Map","concat","createGetVarValFunction","varMap","compressVariableNames","rulepack","aliasToIx","rpair","idchain","rulesCtxs","ctxMeths","methodProps","tid","mid","isEvent","isAction","typeName","targCtxId","listOfType","ctxKey","defaultRulePackName","RuleEdit","VarRow","FormSchemaSimple","e_isact","e_ix","isTargetEdit","$parent","$forceUpdate","refreshVars","rulePack","newRPId","evt","rd","curRulePair","openRuleEditor","_ctx","$bvModal","show","isClose","hide","targetRuleList","trySetNameToCurrentRulePack","RulesEditor","selectBlock","structs","selectStruct","sMapId","selectMap","schema_map","maps","commitMapManifestChanges","blockPropsData","blockPropsCB","newField","set","isChanged","entries","pair","delete","isReady","layers","sLayerName","sEditObjectType","FormSchema","PropsList","vuec","propslist","$store","dispatch","sumBlockDataList","sumStructDataList","l","startData","parent","isLocal","mapId","isAlt","setEditObjectType","editData","upd_map","saveLayerData","sCategName","categ","category","sFileId","editImage","delImage","addNewImage","img","d","onImgSelectCommit","editFileName","categoriesNames","delFile","addNewFile","imgByCAI","onFormSchemaDelete","onFormSchemaCommit","upd_data","add_data","categTitle","animData","changeCategory","N","ANIMATION","SPRITE","generateSprite","elemid","scene","cfg","el_imgContainer","document","createElement","display","getElementById","append","el_img","Image","appendChild","textures","addSpriteSheet","Phaser","elSizePx","height","sprite","frameWidth","fWidth","frameHeight","fHeight","anims","frames","generateFrameNumbers","fStart","end","fEnd","frameRate","fRate","yoyo","repeat","setOrigin","setDisplaySize","game","Game","CANVAS","pixelArt","idai","int","initPreview","Preview","_categories","endData","upd_anim","add_anim","addEventListener","mn","MapEditor","ImageResourses","DataRes","AnimRes","AudioRes","projData","schemaProps","exit","newData","capt","msg","btns","saveChanges","routeData","$router","runloc","open","href","projects","key_proj","selected","projTimeUpd","getAverageColor","base64img","imgEl","blockSize","defaultRGB","g","canvas","context","getContext","rgb","naturalHeight","offsetHeight","naturalWidth","offsetWidth","drawImage","getImageData","toHex","num","padStart","hex","init","edit","vue","projSchema","thatTimeInMins","minutes","Date","now","t_c","t_u","v_t","getters","vn","v_s","Schema","PROJECT","MAP","BLOCK","RPSTGS","Editor","___portate","oldProj","findIndex","__c","before","after","___saveProj","prolData","JSONSchemaHelper","jsonsh","createNewProject","setProject","emptyProjectData","ProjectDataParser","$$$PROJECT","setAutoPreview","base64data","pv_a","schema_block","create_map","add_map","mapdata","blocksProps","LayerFormat","typeGen","schemaRoot","recursive","defs","def","schemasList","originalSchemas","inlinedSchemas","schId","compiledSchema","defId","defSchema","values","schema_or_sid","LSK_projPef","getFirstProjKey","_test_newProjData","projsLoaded","ProjectEditorView","ProjectList","schemaProj","JSONSchema","projeditor","inlined","newProject","localStorage","removeItem","projls","projKey","proj","$isMax","$exclusiveKeyword","$schemaExcl","$isDataExcl","$notOp","$schemaValueExcl","$exclusive","$exclType","$exclIsNumber","$opExpr","$opStr","emptyFiller","createEmptyMap","fill","resizeLayer","layerProcess","layerData_str","key_searchName","tryJSONParse","browserLang","navigator","language","userLanguage","intlDate","Intl","DateTimeFormat","weekday","projectData","images","audio","datas","manifest","cellSize","cs","deflt","pv","isHasAutoPreview","anim","h","fs","fe","yy","animCfg","texName","filter","frame","audAll","info","ingId","imgNameByCAI","mapSize","mapIx_OR_map","mapColor","mapData","mapIx","layerList","LayerProcess","mapGravity","p_g","d_blocks","collisblBlocksIds","is_p","blocksTextures","d_structs","texture","color","isPhysical","structsTextures","structsSizeList","d_entities","getEntityData","ent","al","descr","velX","vx","velY","vy","maxVelX","mx","maxVelY","my","acelX","ax","acelY","ay","dragX","dx","dragY","dy","ruleModules","ALL","TYPES","types","group","implKeywords","implements","custom","$itemType","$typeIsArray","$method","$refKeywords","schemaHasRulesExcept","$unknownKwd","schemaUnknownRules","$keywordsMsg","$top","rootId","strictDefaults","$defaultMsg","$closingBraces1","$closingBraces2","$typeSchema","extendRefs","coerceTypes","$coerceToTypes","coerceToTypes","$rulesGroup","$shouldUseGroup","$dataType","$coerced","$bracesCoercion","$type","checkDataType","arr5","i5","l5","$shouldUseRule","$ruleImplementsSomeKeyword","impl","finalCleanUpCode","$thenSch","$elseSch","$thenPresent","$elsePresent","$ifClause","$allSchemasEmpty","cmp","cycles","node","aobj","bobj","seen","toJSON","isFinite","seenIndex","dataType","negate","EQUAL","AND","OK","NOT","checkDataTypes","dataTypes","object","null","unescapeJsonPointer","escapeJsonPointer","COERCE_TO_TYPES","optionCoerceTypes","hash","IDENTIFIER","SINGLE_QUOTE","expr","EMPTY_ELSE","EMPTY_IF_NO_ELSE","EMPTY_IF_WITH_ELSE","ERRORS_REGEXP","REMOVE_ERRORS","REMOVE_ERRORS_ASYNC","RETURN_VALID","RETURN_TRUE","RETURN_ASYNC","RETURN_DATA_ASYNC","ROOTDATA_REGEXP","REMOVE_ROOTDATA","exceptKeyword","currentPath","isNumber","joinPaths","lvl","paths","up","jsonPointer","segment","decodeURIComponent","definitionSchema","_addRule","ruleGroup","rg","throwError","_validateKeyword"],"mappings":"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","file":"js/editor.b883d071.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMap.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMap.vue?vue&type=style&index=0&lang=css&\"","'use strict';\nmodule.exports = function generate_format(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  if (it.opts.format === false) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n    return out;\n  }\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $unknownFormats = it.opts.unknownFormats,\n    $allowUnknown = Array.isArray($unknownFormats);\n  if ($isData) {\n    var $format = 'format' + $lvl,\n      $isObject = 'isObject' + $lvl,\n      $formatType = 'formatType' + $lvl;\n    out += ' var ' + ($format) + ' = formats[' + ($schemaValue) + ']; var ' + ($isObject) + ' = typeof ' + ($format) + ' == \\'object\\' && !(' + ($format) + ' instanceof RegExp) && ' + ($format) + '.validate; var ' + ($formatType) + ' = ' + ($isObject) + ' && ' + ($format) + '.type || \\'string\\'; if (' + ($isObject) + ') { ';\n    if (it.async) {\n      out += ' var async' + ($lvl) + ' = ' + ($format) + '.async; ';\n    }\n    out += ' ' + ($format) + ' = ' + ($format) + '.validate; } if (  ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n    }\n    out += ' (';\n    if ($unknownFormats != 'ignore') {\n      out += ' (' + ($schemaValue) + ' && !' + ($format) + ' ';\n      if ($allowUnknown) {\n        out += ' && self._opts.unknownFormats.indexOf(' + ($schemaValue) + ') == -1 ';\n      }\n      out += ') || ';\n    }\n    out += ' (' + ($format) + ' && ' + ($formatType) + ' == \\'' + ($ruleType) + '\\' && !(typeof ' + ($format) + ' == \\'function\\' ? ';\n    if (it.async) {\n      out += ' (async' + ($lvl) + ' ? await ' + ($format) + '(' + ($data) + ') : ' + ($format) + '(' + ($data) + ')) ';\n    } else {\n      out += ' ' + ($format) + '(' + ($data) + ') ';\n    }\n    out += ' : ' + ($format) + '.test(' + ($data) + '))))) {';\n  } else {\n    var $format = it.formats[$schema];\n    if (!$format) {\n      if ($unknownFormats == 'ignore') {\n        it.logger.warn('unknown format \"' + $schema + '\" ignored in schema at path \"' + it.errSchemaPath + '\"');\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else if ($allowUnknown && $unknownFormats.indexOf($schema) >= 0) {\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else {\n        throw new Error('unknown format \"' + $schema + '\" is used in schema at path \"' + it.errSchemaPath + '\"');\n      }\n    }\n    var $isObject = typeof $format == 'object' && !($format instanceof RegExp) && $format.validate;\n    var $formatType = $isObject && $format.type || 'string';\n    if ($isObject) {\n      var $async = $format.async === true;\n      $format = $format.validate;\n    }\n    if ($formatType != $ruleType) {\n      if ($breakOnError) {\n        out += ' if (true) { ';\n      }\n      return out;\n    }\n    if ($async) {\n      if (!it.async) throw new Error('async format in sync schema');\n      var $formatRef = 'formats' + it.util.getProperty($schema) + '.validate';\n      out += ' if (!(await ' + ($formatRef) + '(' + ($data) + '))) { ';\n    } else {\n      out += ' if (! ';\n      var $formatRef = 'formats' + it.util.getProperty($schema);\n      if ($isObject) $formatRef += '.validate';\n      if (typeof $format == 'function') {\n        out += ' ' + ($formatRef) + '(' + ($data) + ') ';\n      } else {\n        out += ' ' + ($formatRef) + '.test(' + ($data) + ') ';\n      }\n      out += ') { ';\n    }\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('format') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { format:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match format \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_not(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  if ((it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.createErrors = false;\n    var $allErrorsOption;\n    if ($it.opts.allErrors) {\n      $allErrorsOption = $it.opts.allErrors;\n      $it.opts.allErrors = false;\n    }\n    out += ' ' + (it.validate($it)) + ' ';\n    $it.createErrors = true;\n    if ($allErrorsOption) $it.opts.allErrors = $allErrorsOption;\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (' + ($nextValid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n  } else {\n    out += '  var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if ($breakOnError) {\n      out += ' if (false) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_const(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!$isData) {\n    out += ' var schema' + ($lvl) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ' = equal(' + ($data) + ', schema' + ($lvl) + '); if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('const') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValue: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to constant\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VarRow.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VarRow.vue?vue&type=style&index=0&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\nvar nativeStartsWith = ''.startsWith;\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('startsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'startsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.startsWith` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.startswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = String(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var index = toLength(min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return nativeStartsWith\n      ? nativeStartsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","'use strict';\nmodule.exports = function generate_oneOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $prevValid = 'prevValid' + $lvl,\n    $passingSchemas = 'passingSchemas' + $lvl;\n  out += 'var ' + ($errs) + ' = errors , ' + ($prevValid) + ' = false , ' + ($valid) + ' = false , ' + ($passingSchemas) + ' = null; ';\n  var $wasComposite = it.compositeRule;\n  it.compositeRule = $it.compositeRule = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n      } else {\n        out += ' var ' + ($nextValid) + ' = true; ';\n      }\n      if ($i) {\n        out += ' if (' + ($nextValid) + ' && ' + ($prevValid) + ') { ' + ($valid) + ' = false; ' + ($passingSchemas) + ' = [' + ($passingSchemas) + ', ' + ($i) + ']; } else { ';\n        $closingBraces += '}';\n      }\n      out += ' if (' + ($nextValid) + ') { ' + ($valid) + ' = ' + ($prevValid) + ' = true; ' + ($passingSchemas) + ' = ' + ($i) + '; }';\n    }\n  }\n  it.compositeRule = $it.compositeRule = $wasComposite;\n  out += '' + ($closingBraces) + 'if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('oneOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { passingSchemas: ' + ($passingSchemas) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match exactly one schema in oneOf\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; return false; ';\n    }\n  }\n  out += '} else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }';\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  return out;\n}\n","/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.URI = global.URI || {})));\n}(this, (function (exports) { 'use strict';\n\nfunction merge() {\n    for (var _len = arguments.length, sets = Array(_len), _key = 0; _key < _len; _key++) {\n        sets[_key] = arguments[_key];\n    }\n\n    if (sets.length > 1) {\n        sets[0] = sets[0].slice(0, -1);\n        var xl = sets.length - 1;\n        for (var x = 1; x < xl; ++x) {\n            sets[x] = sets[x].slice(1, -1);\n        }\n        sets[xl] = sets[xl].slice(1);\n        return sets.join('');\n    } else {\n        return sets[0];\n    }\n}\nfunction subexp(str) {\n    return \"(?:\" + str + \")\";\n}\nfunction typeOf(o) {\n    return o === undefined ? \"undefined\" : o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase();\n}\nfunction toUpperCase(str) {\n    return str.toUpperCase();\n}\nfunction toArray(obj) {\n    return obj !== undefined && obj !== null ? obj instanceof Array ? obj : typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj) : [];\n}\nfunction assign(target, source) {\n    var obj = target;\n    if (source) {\n        for (var key in source) {\n            obj[key] = source[key];\n        }\n    }\n    return obj;\n}\n\nfunction buildExps(isIRI) {\n    var ALPHA$$ = \"[A-Za-z]\",\n        CR$ = \"[\\\\x0D]\",\n        DIGIT$$ = \"[0-9]\",\n        DQUOTE$$ = \"[\\\\x22]\",\n        HEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),\n        //case-insensitive\n    LF$$ = \"[\\\\x0A]\",\n        SP$$ = \"[\\\\x20]\",\n        PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),\n        //expanded\n    GEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n        SUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n        RESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n        UCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",\n        //subset, excludes bidi control characters\n    IPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",\n        //subset\n    UNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n        SCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n        USERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n        DEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n        DEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),\n        //relaxed parsing rules\n    IPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n        H16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n        LS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n        IPV6ADDRESS1$ = subexp(subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$),\n        //                           6( h16 \":\" ) ls32\n    IPV6ADDRESS2$ = subexp(\"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$),\n        //                      \"::\" 5( h16 \":\" ) ls32\n    IPV6ADDRESS3$ = subexp(subexp(H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$),\n        //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n    IPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$),\n        //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n    IPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$),\n        //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n    IPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" + H16$ + \"\\\\:\" + LS32$),\n        //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n    IPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\" + LS32$),\n        //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n    IPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\" + H16$),\n        //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n    IPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"),\n        //[ *6( h16 \":\" ) h16 ] \"::\"\n    IPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n        ZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),\n        //RFC 6874\n    IPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),\n        //RFC 6874\n    IPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),\n        //RFC 6874, with relaxed parsing rules\n    IPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n        IP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),\n        //RFC 6874\n    REG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n        HOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n        PORT$ = subexp(DIGIT$$ + \"*\"),\n        AUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n        PCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n        SEGMENT$ = subexp(PCHAR$ + \"*\"),\n        SEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n        SEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n        PATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n        PATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),\n        //simplified\n    PATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n        PATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        QUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n        FRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n        HIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        RELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n        RELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        URI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n        ABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n        GENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        RELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        ABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n        SAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        AUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\";\n    return {\n        NOT_SCHEME: new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n        NOT_USERINFO: new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_HOST: new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH: new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH_NOSCHEME: new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_QUERY: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n        NOT_FRAGMENT: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n        ESCAPE: new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        UNRESERVED: new RegExp(UNRESERVED$$, \"g\"),\n        OTHER_CHARS: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n        PCT_ENCODED: new RegExp(PCT_ENCODED$, \"g\"),\n        IPV4ADDRESS: new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n        IPV6ADDRESS: new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\") //RFC 6874, with relaxed parsing rules\n    };\n}\nvar URI_PROTOCOL = buildExps(false);\n\nvar IRI_PROTOCOL = buildExps(true);\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n/** Highest positive signed 32-bit float value */\n\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nvar regexPunycode = /^xn--/;\nvar regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nvar regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nvar errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nvar baseMinusTMin = base - tMin;\nvar floor = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error$1(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tvar result = [];\n\tvar length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tvar parts = string.split('@');\n\tvar result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tvar labels = string.split('.');\n\tvar encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tvar output = [];\n\tvar counter = 0;\n\tvar length = string.length;\n\twhile (counter < length) {\n\t\tvar value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tvar extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) {\n\t\t\t\t// Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nvar ucs2encode = function ucs2encode(array) {\n\treturn String.fromCodePoint.apply(String, toConsumableArray(array));\n};\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nvar basicToDigit = function basicToDigit(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nvar digitToBasic = function digitToBasic(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nvar adapt = function adapt(delta, numPoints, firstTime) {\n\tvar k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (; /* no initialization */delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nvar decode = function decode(input) {\n\t// Don't use UCS-2.\n\tvar output = [];\n\tvar inputLength = input.length;\n\tvar i = 0;\n\tvar n = initialN;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tvar basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (var j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror$1('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (var index = basic > 0 ? basic + 1 : 0; index < inputLength;) /* no final expression */{\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tvar oldi = i;\n\t\tfor (var w = 1, k = base;; /* no condition */k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror$1('invalid-input');\n\t\t\t}\n\n\t\t\tvar digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tvar baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\t\t}\n\n\t\tvar out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\t}\n\n\treturn String.fromCodePoint.apply(String, output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nvar encode = function encode(input) {\n\tvar output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tvar inputLength = input.length;\n\n\t// Initialize the state.\n\tvar n = initialN;\n\tvar delta = 0;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points.\n\tvar _iteratorNormalCompletion = true;\n\tvar _didIteratorError = false;\n\tvar _iteratorError = undefined;\n\n\ttry {\n\t\tfor (var _iterator = input[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\tvar _currentValue2 = _step.value;\n\n\t\t\tif (_currentValue2 < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(_currentValue2));\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError = true;\n\t\t_iteratorError = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t_iterator.return();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError) {\n\t\t\t\tthrow _iteratorError;\n\t\t\t}\n\t\t}\n\t}\n\n\tvar basicLength = output.length;\n\tvar handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tvar m = maxInt;\n\t\tvar _iteratorNormalCompletion2 = true;\n\t\tvar _didIteratorError2 = false;\n\t\tvar _iteratorError2 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator2 = input[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\tvar currentValue = _step2.value;\n\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow.\n\t\t} catch (err) {\n\t\t\t_didIteratorError2 = true;\n\t\t\t_iteratorError2 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t_iterator2.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tvar _iteratorNormalCompletion3 = true;\n\t\tvar _didIteratorError3 = false;\n\t\tvar _iteratorError3 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator3 = input[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\tvar _currentValue = _step3.value;\n\n\t\t\t\tif (_currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror$1('overflow');\n\t\t\t\t}\n\t\t\t\tif (_currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\t\tvar q = delta;\n\t\t\t\t\tfor (var k = base;; /* no condition */k += base) {\n\t\t\t\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar qMinusT = q - t;\n\t\t\t\t\t\tvar baseMinusT = base - t;\n\t\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError3 = true;\n\t\t\t_iteratorError3 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t_iterator3.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nvar toUnicode = function toUnicode(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nvar toASCII = function toASCII(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexNonASCII.test(string) ? 'xn--' + encode(string) : string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nvar punycode = {\n\t/**\n  * A string representing the current Punycode.js version number.\n  * @memberOf punycode\n  * @type String\n  */\n\t'version': '2.1.0',\n\t/**\n  * An object of methods to convert from JavaScript's internal character\n  * representation (UCS-2) to Unicode code points, and back.\n  * @see <https://mathiasbynens.be/notes/javascript-encoding>\n  * @memberOf punycode\n  * @type Object\n  */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\n/**\n * URI.js\n *\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/uri-js\n */\n/**\n * Copyright 2011 Gary Court. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice, this list of\n *       conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n *       of conditions and the following disclaimer in the documentation and/or other materials\n *       provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those of the\n * authors and should not be interpreted as representing official policies, either expressed\n * or implied, of Gary Court.\n */\nvar SCHEMES = {};\nfunction pctEncChar(chr) {\n    var c = chr.charCodeAt(0);\n    var e = void 0;\n    if (c < 16) e = \"%0\" + c.toString(16).toUpperCase();else if (c < 128) e = \"%\" + c.toString(16).toUpperCase();else if (c < 2048) e = \"%\" + (c >> 6 | 192).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();else e = \"%\" + (c >> 12 | 224).toString(16).toUpperCase() + \"%\" + (c >> 6 & 63 | 128).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();\n    return e;\n}\nfunction pctDecChars(str) {\n    var newStr = \"\";\n    var i = 0;\n    var il = str.length;\n    while (i < il) {\n        var c = parseInt(str.substr(i + 1, 2), 16);\n        if (c < 128) {\n            newStr += String.fromCharCode(c);\n            i += 3;\n        } else if (c >= 194 && c < 224) {\n            if (il - i >= 6) {\n                var c2 = parseInt(str.substr(i + 4, 2), 16);\n                newStr += String.fromCharCode((c & 31) << 6 | c2 & 63);\n            } else {\n                newStr += str.substr(i, 6);\n            }\n            i += 6;\n        } else if (c >= 224) {\n            if (il - i >= 9) {\n                var _c = parseInt(str.substr(i + 4, 2), 16);\n                var c3 = parseInt(str.substr(i + 7, 2), 16);\n                newStr += String.fromCharCode((c & 15) << 12 | (_c & 63) << 6 | c3 & 63);\n            } else {\n                newStr += str.substr(i, 9);\n            }\n            i += 9;\n        } else {\n            newStr += str.substr(i, 3);\n            i += 3;\n        }\n    }\n    return newStr;\n}\nfunction _normalizeComponentEncoding(components, protocol) {\n    function decodeUnreserved(str) {\n        var decStr = pctDecChars(str);\n        return !decStr.match(protocol.UNRESERVED) ? str : decStr;\n    }\n    if (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n    if (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    return components;\n}\n\nfunction _stripLeadingZeros(str) {\n    return str.replace(/^0*(.*)/, \"$1\") || \"0\";\n}\nfunction _normalizeIPv4(host, protocol) {\n    var matches = host.match(protocol.IPV4ADDRESS) || [];\n\n    var _matches = slicedToArray(matches, 2),\n        address = _matches[1];\n\n    if (address) {\n        return address.split(\".\").map(_stripLeadingZeros).join(\".\");\n    } else {\n        return host;\n    }\n}\nfunction _normalizeIPv6(host, protocol) {\n    var matches = host.match(protocol.IPV6ADDRESS) || [];\n\n    var _matches2 = slicedToArray(matches, 3),\n        address = _matches2[1],\n        zone = _matches2[2];\n\n    if (address) {\n        var _address$toLowerCase$ = address.toLowerCase().split('::').reverse(),\n            _address$toLowerCase$2 = slicedToArray(_address$toLowerCase$, 2),\n            last = _address$toLowerCase$2[0],\n            first = _address$toLowerCase$2[1];\n\n        var firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n        var lastFields = last.split(\":\").map(_stripLeadingZeros);\n        var isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n        var fieldCount = isLastFieldIPv4Address ? 7 : 8;\n        var lastFieldsStart = lastFields.length - fieldCount;\n        var fields = Array(fieldCount);\n        for (var x = 0; x < fieldCount; ++x) {\n            fields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n        }\n        if (isLastFieldIPv4Address) {\n            fields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n        }\n        var allZeroFields = fields.reduce(function (acc, field, index) {\n            if (!field || field === \"0\") {\n                var lastLongest = acc[acc.length - 1];\n                if (lastLongest && lastLongest.index + lastLongest.length === index) {\n                    lastLongest.length++;\n                } else {\n                    acc.push({ index: index, length: 1 });\n                }\n            }\n            return acc;\n        }, []);\n        var longestZeroFields = allZeroFields.sort(function (a, b) {\n            return b.length - a.length;\n        })[0];\n        var newHost = void 0;\n        if (longestZeroFields && longestZeroFields.length > 1) {\n            var newFirst = fields.slice(0, longestZeroFields.index);\n            var newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n            newHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n        } else {\n            newHost = fields.join(\":\");\n        }\n        if (zone) {\n            newHost += \"%\" + zone;\n        }\n        return newHost;\n    } else {\n        return host;\n    }\n}\nvar URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\nvar NO_MATCH_IS_UNDEFINED = \"\".match(/(){0}/)[1] === undefined;\nfunction parse(uriString) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var components = {};\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    if (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n    var matches = uriString.match(URI_PARSE);\n    if (matches) {\n        if (NO_MATCH_IS_UNDEFINED) {\n            //store each component\n            components.scheme = matches[1];\n            components.userinfo = matches[3];\n            components.host = matches[4];\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = matches[7];\n            components.fragment = matches[8];\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = matches[5];\n            }\n        } else {\n            //IE FIX for improper RegExp matching\n            //store each component\n            components.scheme = matches[1] || undefined;\n            components.userinfo = uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined;\n            components.host = uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined;\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined;\n            components.fragment = uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined;\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined;\n            }\n        }\n        if (components.host) {\n            //normalize IP hosts\n            components.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n        }\n        //determine reference type\n        if (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n            components.reference = \"same-document\";\n        } else if (components.scheme === undefined) {\n            components.reference = \"relative\";\n        } else if (components.fragment === undefined) {\n            components.reference = \"absolute\";\n        } else {\n            components.reference = \"uri\";\n        }\n        //check for reference errors\n        if (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n            components.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n        }\n        //find scheme handler\n        var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n        //check if scheme can't handle IRIs\n        if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n            //if host component is a domain name\n            if (components.host && (options.domainHost || schemeHandler && schemeHandler.domainHost)) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    components.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            }\n            //convert IRI -> URI\n            _normalizeComponentEncoding(components, URI_PROTOCOL);\n        } else {\n            //normalize encodings\n            _normalizeComponentEncoding(components, protocol);\n        }\n        //perform scheme specific parsing\n        if (schemeHandler && schemeHandler.parse) {\n            schemeHandler.parse(components, options);\n        }\n    } else {\n        components.error = components.error || \"URI can not be parsed.\";\n    }\n    return components;\n}\n\nfunction _recomposeAuthority(components, options) {\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    if (components.userinfo !== undefined) {\n        uriTokens.push(components.userinfo);\n        uriTokens.push(\"@\");\n    }\n    if (components.host !== undefined) {\n        //normalize IP hosts, add brackets and escape zone separator for IPv6\n        uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, function (_, $1, $2) {\n            return \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\";\n        }));\n    }\n    if (typeof components.port === \"number\") {\n        uriTokens.push(\":\");\n        uriTokens.push(components.port.toString(10));\n    }\n    return uriTokens.length ? uriTokens.join(\"\") : undefined;\n}\n\nvar RDS1 = /^\\.\\.?\\//;\nvar RDS2 = /^\\/\\.(\\/|$)/;\nvar RDS3 = /^\\/\\.\\.(\\/|$)/;\nvar RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\nfunction removeDotSegments(input) {\n    var output = [];\n    while (input.length) {\n        if (input.match(RDS1)) {\n            input = input.replace(RDS1, \"\");\n        } else if (input.match(RDS2)) {\n            input = input.replace(RDS2, \"/\");\n        } else if (input.match(RDS3)) {\n            input = input.replace(RDS3, \"/\");\n            output.pop();\n        } else if (input === \".\" || input === \"..\") {\n            input = \"\";\n        } else {\n            var im = input.match(RDS5);\n            if (im) {\n                var s = im[0];\n                input = input.slice(s.length);\n                output.push(s);\n            } else {\n                throw new Error(\"Unexpected dot segment condition\");\n            }\n        }\n    }\n    return output.join(\"\");\n}\n\nfunction serialize(components) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var protocol = options.iri ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    //find scheme handler\n    var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n    //perform scheme specific serialization\n    if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n    if (components.host) {\n        //if host component is an IPv6 address\n        if (protocol.IPV6ADDRESS.test(components.host)) {}\n        //TODO: normalize IPv6 address as per RFC 5952\n\n        //if host component is a domain name\n        else if (options.domainHost || schemeHandler && schemeHandler.domainHost) {\n                //convert IDN via punycode\n                try {\n                    components.host = !options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host);\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n            }\n    }\n    //normalize encoding\n    _normalizeComponentEncoding(components, protocol);\n    if (options.reference !== \"suffix\" && components.scheme) {\n        uriTokens.push(components.scheme);\n        uriTokens.push(\":\");\n    }\n    var authority = _recomposeAuthority(components, options);\n    if (authority !== undefined) {\n        if (options.reference !== \"suffix\") {\n            uriTokens.push(\"//\");\n        }\n        uriTokens.push(authority);\n        if (components.path && components.path.charAt(0) !== \"/\") {\n            uriTokens.push(\"/\");\n        }\n    }\n    if (components.path !== undefined) {\n        var s = components.path;\n        if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n            s = removeDotSegments(s);\n        }\n        if (authority === undefined) {\n            s = s.replace(/^\\/\\//, \"/%2F\"); //don't allow the path to start with \"//\"\n        }\n        uriTokens.push(s);\n    }\n    if (components.query !== undefined) {\n        uriTokens.push(\"?\");\n        uriTokens.push(components.query);\n    }\n    if (components.fragment !== undefined) {\n        uriTokens.push(\"#\");\n        uriTokens.push(components.fragment);\n    }\n    return uriTokens.join(\"\"); //merge tokens into a string\n}\n\nfunction resolveComponents(base, relative) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var skipNormalization = arguments[3];\n\n    var target = {};\n    if (!skipNormalization) {\n        base = parse(serialize(base, options), options); //normalize base components\n        relative = parse(serialize(relative, options), options); //normalize relative components\n    }\n    options = options || {};\n    if (!options.tolerant && relative.scheme) {\n        target.scheme = relative.scheme;\n        //target.authority = relative.authority;\n        target.userinfo = relative.userinfo;\n        target.host = relative.host;\n        target.port = relative.port;\n        target.path = removeDotSegments(relative.path || \"\");\n        target.query = relative.query;\n    } else {\n        if (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n            //target.authority = relative.authority;\n            target.userinfo = relative.userinfo;\n            target.host = relative.host;\n            target.port = relative.port;\n            target.path = removeDotSegments(relative.path || \"\");\n            target.query = relative.query;\n        } else {\n            if (!relative.path) {\n                target.path = base.path;\n                if (relative.query !== undefined) {\n                    target.query = relative.query;\n                } else {\n                    target.query = base.query;\n                }\n            } else {\n                if (relative.path.charAt(0) === \"/\") {\n                    target.path = removeDotSegments(relative.path);\n                } else {\n                    if ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n                        target.path = \"/\" + relative.path;\n                    } else if (!base.path) {\n                        target.path = relative.path;\n                    } else {\n                        target.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n                    }\n                    target.path = removeDotSegments(target.path);\n                }\n                target.query = relative.query;\n            }\n            //target.authority = base.authority;\n            target.userinfo = base.userinfo;\n            target.host = base.host;\n            target.port = base.port;\n        }\n        target.scheme = base.scheme;\n    }\n    target.fragment = relative.fragment;\n    return target;\n}\n\nfunction resolve(baseURI, relativeURI, options) {\n    var schemelessOptions = assign({ scheme: 'null' }, options);\n    return serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n}\n\nfunction normalize(uri, options) {\n    if (typeof uri === \"string\") {\n        uri = serialize(parse(uri, options), options);\n    } else if (typeOf(uri) === \"object\") {\n        uri = parse(serialize(uri, options), options);\n    }\n    return uri;\n}\n\nfunction equal(uriA, uriB, options) {\n    if (typeof uriA === \"string\") {\n        uriA = serialize(parse(uriA, options), options);\n    } else if (typeOf(uriA) === \"object\") {\n        uriA = serialize(uriA, options);\n    }\n    if (typeof uriB === \"string\") {\n        uriB = serialize(parse(uriB, options), options);\n    } else if (typeOf(uriB) === \"object\") {\n        uriB = serialize(uriB, options);\n    }\n    return uriA === uriB;\n}\n\nfunction escapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE, pctEncChar);\n}\n\nfunction unescapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED, pctDecChars);\n}\n\nvar handler = {\n    scheme: \"http\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        //report missing host\n        if (!components.host) {\n            components.error = components.error || \"HTTP URIs must have a host.\";\n        }\n        return components;\n    },\n    serialize: function serialize(components, options) {\n        //normalize the default port\n        if (components.port === (String(components.scheme).toLowerCase() !== \"https\" ? 80 : 443) || components.port === \"\") {\n            components.port = undefined;\n        }\n        //normalize the empty path\n        if (!components.path) {\n            components.path = \"/\";\n        }\n        //NOTE: We do not parse query strings for HTTP URIs\n        //as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n        //and not the HTTP spec.\n        return components;\n    }\n};\n\nvar handler$1 = {\n    scheme: \"https\",\n    domainHost: handler.domainHost,\n    parse: handler.parse,\n    serialize: handler.serialize\n};\n\nvar O = {};\nvar isIRI = true;\n//RFC 3986\nvar UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\nvar HEXDIG$$ = \"[0-9A-Fa-f]\"; //case-insensitive\nvar PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)); //expanded\n//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n//const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n//const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n//const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n//const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n//const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n//const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\nvar ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\nvar QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\nvar VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\nvar SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\nvar UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\nvar PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\nvar NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\nvar NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\nvar NOT_HFVALUE = NOT_HFNAME;\nfunction decodeUnreserved(str) {\n    var decStr = pctDecChars(str);\n    return !decStr.match(UNRESERVED) ? str : decStr;\n}\nvar handler$2 = {\n    scheme: \"mailto\",\n    parse: function parse$$1(components, options) {\n        var mailtoComponents = components;\n        var to = mailtoComponents.to = mailtoComponents.path ? mailtoComponents.path.split(\",\") : [];\n        mailtoComponents.path = undefined;\n        if (mailtoComponents.query) {\n            var unknownHeaders = false;\n            var headers = {};\n            var hfields = mailtoComponents.query.split(\"&\");\n            for (var x = 0, xl = hfields.length; x < xl; ++x) {\n                var hfield = hfields[x].split(\"=\");\n                switch (hfield[0]) {\n                    case \"to\":\n                        var toAddrs = hfield[1].split(\",\");\n                        for (var _x = 0, _xl = toAddrs.length; _x < _xl; ++_x) {\n                            to.push(toAddrs[_x]);\n                        }\n                        break;\n                    case \"subject\":\n                        mailtoComponents.subject = unescapeComponent(hfield[1], options);\n                        break;\n                    case \"body\":\n                        mailtoComponents.body = unescapeComponent(hfield[1], options);\n                        break;\n                    default:\n                        unknownHeaders = true;\n                        headers[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n                        break;\n                }\n            }\n            if (unknownHeaders) mailtoComponents.headers = headers;\n        }\n        mailtoComponents.query = undefined;\n        for (var _x2 = 0, _xl2 = to.length; _x2 < _xl2; ++_x2) {\n            var addr = to[_x2].split(\"@\");\n            addr[0] = unescapeComponent(addr[0]);\n            if (!options.unicodeSupport) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    addr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n                } catch (e) {\n                    mailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            } else {\n                addr[1] = unescapeComponent(addr[1], options).toLowerCase();\n            }\n            to[_x2] = addr.join(\"@\");\n        }\n        return mailtoComponents;\n    },\n    serialize: function serialize$$1(mailtoComponents, options) {\n        var components = mailtoComponents;\n        var to = toArray(mailtoComponents.to);\n        if (to) {\n            for (var x = 0, xl = to.length; x < xl; ++x) {\n                var toAddr = String(to[x]);\n                var atIdx = toAddr.lastIndexOf(\"@\");\n                var localPart = toAddr.slice(0, atIdx).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n                var domain = toAddr.slice(atIdx + 1);\n                //convert IDN via punycode\n                try {\n                    domain = !options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain);\n                } catch (e) {\n                    components.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n                to[x] = localPart + \"@\" + domain;\n            }\n            components.path = to.join(\",\");\n        }\n        var headers = mailtoComponents.headers = mailtoComponents.headers || {};\n        if (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n        if (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n        var fields = [];\n        for (var name in headers) {\n            if (headers[name] !== O[name]) {\n                fields.push(name.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) + \"=\" + headers[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar));\n            }\n        }\n        if (fields.length) {\n            components.query = fields.join(\"&\");\n        }\n        return components;\n    }\n};\n\nvar URN_PARSE = /^([^\\:]+)\\:(.*)/;\n//RFC 2141\nvar handler$3 = {\n    scheme: \"urn\",\n    parse: function parse$$1(components, options) {\n        var matches = components.path && components.path.match(URN_PARSE);\n        var urnComponents = components;\n        if (matches) {\n            var scheme = options.scheme || urnComponents.scheme || \"urn\";\n            var nid = matches[1].toLowerCase();\n            var nss = matches[2];\n            var urnScheme = scheme + \":\" + (options.nid || nid);\n            var schemeHandler = SCHEMES[urnScheme];\n            urnComponents.nid = nid;\n            urnComponents.nss = nss;\n            urnComponents.path = undefined;\n            if (schemeHandler) {\n                urnComponents = schemeHandler.parse(urnComponents, options);\n            }\n        } else {\n            urnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n        }\n        return urnComponents;\n    },\n    serialize: function serialize$$1(urnComponents, options) {\n        var scheme = options.scheme || urnComponents.scheme || \"urn\";\n        var nid = urnComponents.nid;\n        var urnScheme = scheme + \":\" + (options.nid || nid);\n        var schemeHandler = SCHEMES[urnScheme];\n        if (schemeHandler) {\n            urnComponents = schemeHandler.serialize(urnComponents, options);\n        }\n        var uriComponents = urnComponents;\n        var nss = urnComponents.nss;\n        uriComponents.path = (nid || options.nid) + \":\" + nss;\n        return uriComponents;\n    }\n};\n\nvar UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\n//RFC 4122\nvar handler$4 = {\n    scheme: \"urn:uuid\",\n    parse: function parse(urnComponents, options) {\n        var uuidComponents = urnComponents;\n        uuidComponents.uuid = uuidComponents.nss;\n        uuidComponents.nss = undefined;\n        if (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n            uuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n        }\n        return uuidComponents;\n    },\n    serialize: function serialize(uuidComponents, options) {\n        var urnComponents = uuidComponents;\n        //normalize UUID\n        urnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n        return urnComponents;\n    }\n};\n\nSCHEMES[handler.scheme] = handler;\nSCHEMES[handler$1.scheme] = handler$1;\nSCHEMES[handler$2.scheme] = handler$2;\nSCHEMES[handler$3.scheme] = handler$3;\nSCHEMES[handler$4.scheme] = handler$4;\n\nexports.SCHEMES = SCHEMES;\nexports.pctEncChar = pctEncChar;\nexports.pctDecChars = pctDecChars;\nexports.parse = parse;\nexports.removeDotSegments = removeDotSegments;\nexports.serialize = serialize;\nexports.resolveComponents = resolveComponents;\nexports.resolve = resolve;\nexports.normalize = normalize;\nexports.equal = equal;\nexports.escapeComponent = escapeComponent;\nexports.unescapeComponent = unescapeComponent;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=uri.all.js.map\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","'use strict';\nmodule.exports = function generate_comment(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $comment = it.util.toQuotedString($schema);\n  if (it.opts.$comment === true) {\n    out += ' console.log(' + ($comment) + ');';\n  } else if (typeof it.opts.$comment == 'function') {\n    out += ' self._opts.$comment(' + ($comment) + ', ' + (it.util.toQuotedString($errSchemaPath)) + ', validate.root.schema);';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_contains(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId,\n    $nonEmptySchema = (it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all));\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($nonEmptySchema) {\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($nextValid) + ' = false; for (var ' + ($idx) + ' = 0; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    out += ' if (' + ($nextValid) + ') break; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($nextValid) + ') {';\n  } else {\n    out += ' if (' + ($data) + '.length == 0) {';\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('contains') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should contain a valid item\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } else { ';\n  if ($nonEmptySchema) {\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n  }\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_anyOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $noEmptySchema = $schema.every(function($sch) {\n    return (it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all));\n  });\n  if ($noEmptySchema) {\n    var $currentBaseId = $it.baseId;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = false;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        out += ' ' + ($valid) + ' = ' + ($valid) + ' || ' + ($nextValid) + '; if (!' + ($valid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('anyOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match some schema in anyOf\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n    out = it.util.cleanUpCode(out);\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\n\n//all requires must be explicit because browserify won't work with dynamic requires\nmodule.exports = {\n  '$ref': require('./ref'),\n  allOf: require('./allOf'),\n  anyOf: require('./anyOf'),\n  '$comment': require('./comment'),\n  const: require('./const'),\n  contains: require('./contains'),\n  dependencies: require('./dependencies'),\n  'enum': require('./enum'),\n  format: require('./format'),\n  'if': require('./if'),\n  items: require('./items'),\n  maximum: require('./_limit'),\n  minimum: require('./_limit'),\n  maxItems: require('./_limitItems'),\n  minItems: require('./_limitItems'),\n  maxLength: require('./_limitLength'),\n  minLength: require('./_limitLength'),\n  maxProperties: require('./_limitProperties'),\n  minProperties: require('./_limitProperties'),\n  multipleOf: require('./multipleOf'),\n  not: require('./not'),\n  oneOf: require('./oneOf'),\n  pattern: require('./pattern'),\n  properties: require('./properties'),\n  propertyNames: require('./propertyNames'),\n  required: require('./required'),\n  uniqueItems: require('./uniqueItems'),\n  validate: require('./validate')\n};\n","export default {\r\n  stringify(layerData){\r\n    /** ANCHOR: Функция зависит от структуры типа: Phaser.Tilemaps.DynamicTilemapLayer*/\r\n    return layerData.layer.data\r\n      .map(r=>r.map(c=>c.index))\r\n      .map(r=>r.join(' ')).join('|');\r\n  },\r\n  parse(layerData){\r\n    return layerData\r\n      .split('|')\r\n      .map(r => r.split(' ').map(i => +i))\r\n  },\r\n}","'use strict';\n\nvar KEYWORDS = [\n  'multipleOf',\n  'maximum',\n  'exclusiveMaximum',\n  'minimum',\n  'exclusiveMinimum',\n  'maxLength',\n  'minLength',\n  'pattern',\n  'additionalItems',\n  'maxItems',\n  'minItems',\n  'uniqueItems',\n  'maxProperties',\n  'minProperties',\n  'required',\n  'additionalProperties',\n  'enum',\n  'format',\n  'const'\n];\n\nmodule.exports = function (metaSchema, keywordsJsonPointers) {\n  for (var i=0; i<keywordsJsonPointers.length; i++) {\n    metaSchema = JSON.parse(JSON.stringify(metaSchema));\n    var segments = keywordsJsonPointers[i].split('/');\n    var keywords = metaSchema;\n    var j;\n    for (j=1; j<segments.length; j++)\n      keywords = keywords[segments[j]];\n\n    for (j=0; j<KEYWORDS.length; j++) {\n      var key = KEYWORDS[j];\n      var schema = keywords[key];\n      if (schema) {\n        keywords[key] = {\n          anyOf: [\n            schema,\n            { $ref: 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n    }\n  }\n\n  return metaSchema;\n};\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RulesEditor.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RulesEditor.vue?vue&type=style&index=0&lang=css&\"","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","'use strict';\nmodule.exports = function generate_propertyNames(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  out += 'var ' + ($errs) + ' = errors;';\n  if ((it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    var $key = 'key' + $lvl,\n      $idx = 'idx' + $lvl,\n      $i = 'i' + $lvl,\n      $invalidName = '\\' + ' + $key + ' + \\'',\n      $dataNxt = $it.dataLevel = it.dataLevel + 1,\n      $nextData = 'data' + $dataNxt,\n      $dataProperties = 'dataProperties' + $lvl,\n      $ownProperties = it.opts.ownProperties,\n      $currentBaseId = it.baseId;\n    if ($ownProperties) {\n      out += ' var ' + ($dataProperties) + ' = undefined; ';\n    }\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    out += ' var startErrs' + ($lvl) + ' = errors; ';\n    var $passData = $key;\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (!' + ($nextValid) + ') { for (var ' + ($i) + '=startErrs' + ($lvl) + '; ' + ($i) + '<errors; ' + ($i) + '++) { vErrors[' + ($i) + '].propertyName = ' + ($key) + '; }   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('propertyNames') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { propertyName: \\'' + ($invalidName) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'property name \\\\\\'' + ($invalidName) + '\\\\\\' is invalid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    if ($breakOnError) {\n      out += ' break; ';\n    }\n    out += ' } }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_ref(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $async, $refCode;\n  if ($schema == '#' || $schema == '#/') {\n    if (it.isRoot) {\n      $async = it.async;\n      $refCode = 'validate';\n    } else {\n      $async = it.root.schema.$async === true;\n      $refCode = 'root.refVal[0]';\n    }\n  } else {\n    var $refVal = it.resolveRef(it.baseId, $schema, it.isRoot);\n    if ($refVal === undefined) {\n      var $message = it.MissingRefError.message(it.baseId, $schema);\n      if (it.opts.missingRefs == 'fail') {\n        it.logger.error($message);\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('$ref') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { ref: \\'' + (it.util.escapeQuotes($schema)) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'can\\\\\\'t resolve reference ' + (it.util.escapeQuotes($schema)) + '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: ' + (it.util.toQuotedString($schema)) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        if ($breakOnError) {\n          out += ' if (false) { ';\n        }\n      } else if (it.opts.missingRefs == 'ignore') {\n        it.logger.warn($message);\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n      } else {\n        throw new it.MissingRefError(it.baseId, $schema, $message);\n      }\n    } else if ($refVal.inline) {\n      var $it = it.util.copy(it);\n      $it.level++;\n      var $nextValid = 'valid' + $it.level;\n      $it.schema = $refVal.schema;\n      $it.schemaPath = '';\n      $it.errSchemaPath = $schema;\n      var $code = it.validate($it).replace(/validate\\.schema/g, $refVal.code);\n      out += ' ' + ($code) + ' ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n      }\n    } else {\n      $async = $refVal.$async === true || (it.async && $refVal.$async !== false);\n      $refCode = $refVal.code;\n    }\n  }\n  if ($refCode) {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    if (it.opts.passContext) {\n      out += ' ' + ($refCode) + '.call(this, ';\n    } else {\n      out += ' ' + ($refCode) + '( ';\n    }\n    out += ' ' + ($data) + ', (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ', rootData)  ';\n    var __callValidate = out;\n    out = $$outStack.pop();\n    if ($async) {\n      if (!it.async) throw new Error('async schema referenced by sync schema');\n      if ($breakOnError) {\n        out += ' var ' + ($valid) + '; ';\n      }\n      out += ' try { await ' + (__callValidate) + '; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = true; ';\n      }\n      out += ' } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = false; ';\n      }\n      out += ' } ';\n      if ($breakOnError) {\n        out += ' if (' + ($valid) + ') { ';\n      }\n    } else {\n      out += ' if (!' + (__callValidate) + ') { if (vErrors === null) vErrors = ' + ($refCode) + '.errors; else vErrors = vErrors.concat(' + ($refCode) + '.errors); errors = vErrors.length; } ';\n      if ($breakOnError) {\n        out += ' else { ';\n      }\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_pattern(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $regexp = $isData ? '(new RegExp(' + $schemaValue + '))' : it.usePattern($schema);\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n  }\n  out += ' !' + ($regexp) + '.test(' + ($data) + ') ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('pattern') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { pattern:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match pattern \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_custom(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $rule = this,\n    $definition = 'definition' + $lvl,\n    $rDef = $rule.definition,\n    $closingBraces = '';\n  var $compile, $inline, $macro, $ruleValidate, $validateCode;\n  if ($isData && $rDef.$data) {\n    $validateCode = 'keywordValidate' + $lvl;\n    var $validateSchema = $rDef.validateSchema;\n    out += ' var ' + ($definition) + ' = RULES.custom[\\'' + ($keyword) + '\\'].definition; var ' + ($validateCode) + ' = ' + ($definition) + '.validate;';\n  } else {\n    $ruleValidate = it.useCustomRule($rule, $schema, it.schema, it);\n    if (!$ruleValidate) return;\n    $schemaValue = 'validate.schema' + $schemaPath;\n    $validateCode = $ruleValidate.code;\n    $compile = $rDef.compile;\n    $inline = $rDef.inline;\n    $macro = $rDef.macro;\n  }\n  var $ruleErrs = $validateCode + '.errors',\n    $i = 'i' + $lvl,\n    $ruleErr = 'ruleErr' + $lvl,\n    $asyncKeyword = $rDef.async;\n  if ($asyncKeyword && !it.async) throw new Error('async keyword in sync schema');\n  if (!($inline || $macro)) {\n    out += '' + ($ruleErrs) + ' = null;';\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($isData && $rDef.$data) {\n    $closingBraces += '}';\n    out += ' if (' + ($schemaValue) + ' === undefined) { ' + ($valid) + ' = true; } else { ';\n    if ($validateSchema) {\n      $closingBraces += '}';\n      out += ' ' + ($valid) + ' = ' + ($definition) + '.validateSchema(' + ($schemaValue) + '); if (' + ($valid) + ') { ';\n    }\n  }\n  if ($inline) {\n    if ($rDef.statements) {\n      out += ' ' + ($ruleValidate.validate) + ' ';\n    } else {\n      out += ' ' + ($valid) + ' = ' + ($ruleValidate.validate) + '; ';\n    }\n  } else if ($macro) {\n    var $it = it.util.copy(it);\n    var $closingBraces = '';\n    $it.level++;\n    var $nextValid = 'valid' + $it.level;\n    $it.schema = $ruleValidate.validate;\n    $it.schemaPath = '';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it).replace(/validate\\.schema/g, $validateCode);\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($code);\n  } else {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    out += '  ' + ($validateCode) + '.call( ';\n    if (it.opts.passContext) {\n      out += 'this';\n    } else {\n      out += 'self';\n    }\n    if ($compile || $rDef.schema === false) {\n      out += ' , ' + ($data) + ' ';\n    } else {\n      out += ' , ' + ($schemaValue) + ' , ' + ($data) + ' , validate.schema' + (it.schemaPath) + ' ';\n    }\n    out += ' , (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ' , rootData )  ';\n    var def_callRuleValidate = out;\n    out = $$outStack.pop();\n    if ($rDef.errors === false) {\n      out += ' ' + ($valid) + ' = ';\n      if ($asyncKeyword) {\n        out += 'await ';\n      }\n      out += '' + (def_callRuleValidate) + '; ';\n    } else {\n      if ($asyncKeyword) {\n        $ruleErrs = 'customErrors' + $lvl;\n        out += ' var ' + ($ruleErrs) + ' = null; try { ' + ($valid) + ' = await ' + (def_callRuleValidate) + '; } catch (e) { ' + ($valid) + ' = false; if (e instanceof ValidationError) ' + ($ruleErrs) + ' = e.errors; else throw e; } ';\n      } else {\n        out += ' ' + ($ruleErrs) + ' = null; ' + ($valid) + ' = ' + (def_callRuleValidate) + '; ';\n      }\n    }\n  }\n  if ($rDef.modifying) {\n    out += ' if (' + ($parentData) + ') ' + ($data) + ' = ' + ($parentData) + '[' + ($parentDataProperty) + '];';\n  }\n  out += '' + ($closingBraces);\n  if ($rDef.valid) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  } else {\n    out += ' if ( ';\n    if ($rDef.valid === undefined) {\n      out += ' !';\n      if ($macro) {\n        out += '' + ($nextValid);\n      } else {\n        out += '' + ($valid);\n      }\n    } else {\n      out += ' ' + (!$rDef.valid) + ' ';\n    }\n    out += ') { ';\n    $errorKeyword = $rule.keyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    var def_customError = out;\n    out = $$outStack.pop();\n    if ($inline) {\n      if ($rDef.errors) {\n        if ($rDef.errors != 'full') {\n          out += '  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } ';\n        }\n      } else {\n        if ($rDef.errors === false) {\n          out += ' ' + (def_customError) + ' ';\n        } else {\n          out += ' if (' + ($errs) + ' == errors) { ' + (def_customError) + ' } else {  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } } ';\n        }\n      }\n    } else if ($macro) {\n      out += '   var err =   '; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError(vErrors); ';\n        } else {\n          out += ' validate.errors = vErrors; return false; ';\n        }\n      }\n    } else {\n      if ($rDef.errors === false) {\n        out += ' ' + (def_customError) + ' ';\n      } else {\n        out += ' if (Array.isArray(' + ($ruleErrs) + ')) { if (vErrors === null) vErrors = ' + ($ruleErrs) + '; else vErrors = vErrors.concat(' + ($ruleErrs) + '); errors = vErrors.length;  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + ';  ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\";  ';\n        if (it.opts.verbose) {\n          out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n        }\n        out += ' } } else { ' + (def_customError) + ' } ';\n      }\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  }\n  return out;\n}\n","'use strict';\n\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nmodule.exports = function ucs2length(str) {\n  var length = 0\n    , len = str.length\n    , pos = 0\n    , value;\n  while (pos < len) {\n    length++;\n    value = str.charCodeAt(pos++);\n    if (value >= 0xD800 && value <= 0xDBFF && pos < len) {\n      // high surrogate, and there is a next character\n      value = str.charCodeAt(pos);\n      if ((value & 0xFC00) == 0xDC00) pos++; // low surrogate\n    }\n  }\n  return length;\n};\n","'use strict';\nmodule.exports = function generate__limitProperties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxProperties' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' Object.keys(' + ($data) + ').length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxProperties') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' properties\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\n\nvar compileSchema = require('./compile')\n  , resolve = require('./compile/resolve')\n  , Cache = require('./cache')\n  , SchemaObject = require('./compile/schema_obj')\n  , stableStringify = require('fast-json-stable-stringify')\n  , formats = require('./compile/formats')\n  , rules = require('./compile/rules')\n  , $dataMetaSchema = require('./data')\n  , util = require('./compile/util');\n\nmodule.exports = Ajv;\n\nAjv.prototype.validate = validate;\nAjv.prototype.compile = compile;\nAjv.prototype.addSchema = addSchema;\nAjv.prototype.addMetaSchema = addMetaSchema;\nAjv.prototype.validateSchema = validateSchema;\nAjv.prototype.getSchema = getSchema;\nAjv.prototype.removeSchema = removeSchema;\nAjv.prototype.addFormat = addFormat;\nAjv.prototype.errorsText = errorsText;\n\nAjv.prototype._addSchema = _addSchema;\nAjv.prototype._compile = _compile;\n\nAjv.prototype.compileAsync = require('./compile/async');\nvar customKeyword = require('./keyword');\nAjv.prototype.addKeyword = customKeyword.add;\nAjv.prototype.getKeyword = customKeyword.get;\nAjv.prototype.removeKeyword = customKeyword.remove;\nAjv.prototype.validateKeyword = customKeyword.validate;\n\nvar errorClasses = require('./compile/error_classes');\nAjv.ValidationError = errorClasses.Validation;\nAjv.MissingRefError = errorClasses.MissingRef;\nAjv.$dataMetaSchema = $dataMetaSchema;\n\nvar META_SCHEMA_ID = 'http://json-schema.org/draft-07/schema';\n\nvar META_IGNORE_OPTIONS = [ 'removeAdditional', 'useDefaults', 'coerceTypes', 'strictDefaults' ];\nvar META_SUPPORT_DATA = ['/properties'];\n\n/**\n * Creates validator instance.\n * Usage: `Ajv(opts)`\n * @param {Object} opts optional options\n * @return {Object} ajv instance\n */\nfunction Ajv(opts) {\n  if (!(this instanceof Ajv)) return new Ajv(opts);\n  opts = this._opts = util.copy(opts) || {};\n  setLogger(this);\n  this._schemas = {};\n  this._refs = {};\n  this._fragments = {};\n  this._formats = formats(opts.format);\n\n  this._cache = opts.cache || new Cache;\n  this._loadingSchemas = {};\n  this._compilations = [];\n  this.RULES = rules();\n  this._getId = chooseGetId(opts);\n\n  opts.loopRequired = opts.loopRequired || Infinity;\n  if (opts.errorDataPath == 'property') opts._errorDataPathProperty = true;\n  if (opts.serialize === undefined) opts.serialize = stableStringify;\n  this._metaOpts = getMetaSchemaOptions(this);\n\n  if (opts.formats) addInitialFormats(this);\n  if (opts.keywords) addInitialKeywords(this);\n  addDefaultMetaSchema(this);\n  if (typeof opts.meta == 'object') this.addMetaSchema(opts.meta);\n  if (opts.nullable) this.addKeyword('nullable', {metaSchema: {type: 'boolean'}});\n  addInitialSchemas(this);\n}\n\n\n\n/**\n * Validate data using schema\n * Schema will be compiled and cached (using serialized JSON as key. [fast-json-stable-stringify](https://github.com/epoberezkin/fast-json-stable-stringify) is used to serialize.\n * @this   Ajv\n * @param  {String|Object} schemaKeyRef key, ref or schema object\n * @param  {Any} data to be validated\n * @return {Boolean} validation result. Errors from the last validation will be available in `ajv.errors` (and also in compiled schema: `schema.errors`).\n */\nfunction validate(schemaKeyRef, data) {\n  var v;\n  if (typeof schemaKeyRef == 'string') {\n    v = this.getSchema(schemaKeyRef);\n    if (!v) throw new Error('no schema with key or ref \"' + schemaKeyRef + '\"');\n  } else {\n    var schemaObj = this._addSchema(schemaKeyRef);\n    v = schemaObj.validate || this._compile(schemaObj);\n  }\n\n  var valid = v(data);\n  if (v.$async !== true) this.errors = v.errors;\n  return valid;\n}\n\n\n/**\n * Create validating function for passed schema.\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Boolean} _meta true if schema is a meta-schema. Used internally to compile meta schemas of custom keywords.\n * @return {Function} validating function\n */\nfunction compile(schema, _meta) {\n  var schemaObj = this._addSchema(schema, undefined, _meta);\n  return schemaObj.validate || this._compile(schemaObj);\n}\n\n\n/**\n * Adds schema to the instance.\n * @this   Ajv\n * @param {Object|Array} schema schema or array of schemas. If array is passed, `key` and other parameters will be ignored.\n * @param {String} key Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n * @param {Boolean} _skipValidation true to skip schema validation. Used internally, option validateSchema should be used instead.\n * @param {Boolean} _meta true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n * @return {Ajv} this for method chaining\n */\nfunction addSchema(schema, key, _skipValidation, _meta) {\n  if (Array.isArray(schema)){\n    for (var i=0; i<schema.length; i++) this.addSchema(schema[i], undefined, _skipValidation, _meta);\n    return this;\n  }\n  var id = this._getId(schema);\n  if (id !== undefined && typeof id != 'string')\n    throw new Error('schema id must be string');\n  key = resolve.normalizeId(key || id);\n  checkUnique(this, key);\n  this._schemas[key] = this._addSchema(schema, _skipValidation, _meta, true);\n  return this;\n}\n\n\n/**\n * Add schema that will be used to validate other schemas\n * options in META_IGNORE_OPTIONS are alway set to false\n * @this   Ajv\n * @param {Object} schema schema object\n * @param {String} key optional schema key\n * @param {Boolean} skipValidation true to skip schema validation, can be used to override validateSchema option for meta-schema\n * @return {Ajv} this for method chaining\n */\nfunction addMetaSchema(schema, key, skipValidation) {\n  this.addSchema(schema, key, skipValidation, true);\n  return this;\n}\n\n\n/**\n * Validate schema\n * @this   Ajv\n * @param {Object} schema schema to validate\n * @param {Boolean} throwOrLogError pass true to throw (or log) an error if invalid\n * @return {Boolean} true if schema is valid\n */\nfunction validateSchema(schema, throwOrLogError) {\n  var $schema = schema.$schema;\n  if ($schema !== undefined && typeof $schema != 'string')\n    throw new Error('$schema must be a string');\n  $schema = $schema || this._opts.defaultMeta || defaultMeta(this);\n  if (!$schema) {\n    this.logger.warn('meta-schema not available');\n    this.errors = null;\n    return true;\n  }\n  var valid = this.validate($schema, schema);\n  if (!valid && throwOrLogError) {\n    var message = 'schema is invalid: ' + this.errorsText();\n    if (this._opts.validateSchema == 'log') this.logger.error(message);\n    else throw new Error(message);\n  }\n  return valid;\n}\n\n\nfunction defaultMeta(self) {\n  var meta = self._opts.meta;\n  self._opts.defaultMeta = typeof meta == 'object'\n                            ? self._getId(meta) || meta\n                            : self.getSchema(META_SCHEMA_ID)\n                              ? META_SCHEMA_ID\n                              : undefined;\n  return self._opts.defaultMeta;\n}\n\n\n/**\n * Get compiled schema from the instance by `key` or `ref`.\n * @this   Ajv\n * @param  {String} keyRef `key` that was passed to `addSchema` or full schema reference (`schema.id` or resolved id).\n * @return {Function} schema validating function (with property `schema`).\n */\nfunction getSchema(keyRef) {\n  var schemaObj = _getSchemaObj(this, keyRef);\n  switch (typeof schemaObj) {\n    case 'object': return schemaObj.validate || this._compile(schemaObj);\n    case 'string': return this.getSchema(schemaObj);\n    case 'undefined': return _getSchemaFragment(this, keyRef);\n  }\n}\n\n\nfunction _getSchemaFragment(self, ref) {\n  var res = resolve.schema.call(self, { schema: {} }, ref);\n  if (res) {\n    var schema = res.schema\n      , root = res.root\n      , baseId = res.baseId;\n    var v = compileSchema.call(self, schema, root, undefined, baseId);\n    self._fragments[ref] = new SchemaObject({\n      ref: ref,\n      fragment: true,\n      schema: schema,\n      root: root,\n      baseId: baseId,\n      validate: v\n    });\n    return v;\n  }\n}\n\n\nfunction _getSchemaObj(self, keyRef) {\n  keyRef = resolve.normalizeId(keyRef);\n  return self._schemas[keyRef] || self._refs[keyRef] || self._fragments[keyRef];\n}\n\n\n/**\n * Remove cached schema(s).\n * If no parameter is passed all schemas but meta-schemas are removed.\n * If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n * Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n * @this   Ajv\n * @param  {String|Object|RegExp} schemaKeyRef key, ref, pattern to match key/ref or schema object\n * @return {Ajv} this for method chaining\n */\nfunction removeSchema(schemaKeyRef) {\n  if (schemaKeyRef instanceof RegExp) {\n    _removeAllSchemas(this, this._schemas, schemaKeyRef);\n    _removeAllSchemas(this, this._refs, schemaKeyRef);\n    return this;\n  }\n  switch (typeof schemaKeyRef) {\n    case 'undefined':\n      _removeAllSchemas(this, this._schemas);\n      _removeAllSchemas(this, this._refs);\n      this._cache.clear();\n      return this;\n    case 'string':\n      var schemaObj = _getSchemaObj(this, schemaKeyRef);\n      if (schemaObj) this._cache.del(schemaObj.cacheKey);\n      delete this._schemas[schemaKeyRef];\n      delete this._refs[schemaKeyRef];\n      return this;\n    case 'object':\n      var serialize = this._opts.serialize;\n      var cacheKey = serialize ? serialize(schemaKeyRef) : schemaKeyRef;\n      this._cache.del(cacheKey);\n      var id = this._getId(schemaKeyRef);\n      if (id) {\n        id = resolve.normalizeId(id);\n        delete this._schemas[id];\n        delete this._refs[id];\n      }\n  }\n  return this;\n}\n\n\nfunction _removeAllSchemas(self, schemas, regex) {\n  for (var keyRef in schemas) {\n    var schemaObj = schemas[keyRef];\n    if (!schemaObj.meta && (!regex || regex.test(keyRef))) {\n      self._cache.del(schemaObj.cacheKey);\n      delete schemas[keyRef];\n    }\n  }\n}\n\n\n/* @this   Ajv */\nfunction _addSchema(schema, skipValidation, meta, shouldAddSchema) {\n  if (typeof schema != 'object' && typeof schema != 'boolean')\n    throw new Error('schema should be object or boolean');\n  var serialize = this._opts.serialize;\n  var cacheKey = serialize ? serialize(schema) : schema;\n  var cached = this._cache.get(cacheKey);\n  if (cached) return cached;\n\n  shouldAddSchema = shouldAddSchema || this._opts.addUsedSchema !== false;\n\n  var id = resolve.normalizeId(this._getId(schema));\n  if (id && shouldAddSchema) checkUnique(this, id);\n\n  var willValidate = this._opts.validateSchema !== false && !skipValidation;\n  var recursiveMeta;\n  if (willValidate && !(recursiveMeta = id && id == resolve.normalizeId(schema.$schema)))\n    this.validateSchema(schema, true);\n\n  var localRefs = resolve.ids.call(this, schema);\n\n  var schemaObj = new SchemaObject({\n    id: id,\n    schema: schema,\n    localRefs: localRefs,\n    cacheKey: cacheKey,\n    meta: meta\n  });\n\n  if (id[0] != '#' && shouldAddSchema) this._refs[id] = schemaObj;\n  this._cache.put(cacheKey, schemaObj);\n\n  if (willValidate && recursiveMeta) this.validateSchema(schema, true);\n\n  return schemaObj;\n}\n\n\n/* @this   Ajv */\nfunction _compile(schemaObj, root) {\n  if (schemaObj.compiling) {\n    schemaObj.validate = callValidate;\n    callValidate.schema = schemaObj.schema;\n    callValidate.errors = null;\n    callValidate.root = root ? root : callValidate;\n    if (schemaObj.schema.$async === true)\n      callValidate.$async = true;\n    return callValidate;\n  }\n  schemaObj.compiling = true;\n\n  var currentOpts;\n  if (schemaObj.meta) {\n    currentOpts = this._opts;\n    this._opts = this._metaOpts;\n  }\n\n  var v;\n  try { v = compileSchema.call(this, schemaObj.schema, root, schemaObj.localRefs); }\n  catch(e) {\n    delete schemaObj.validate;\n    throw e;\n  }\n  finally {\n    schemaObj.compiling = false;\n    if (schemaObj.meta) this._opts = currentOpts;\n  }\n\n  schemaObj.validate = v;\n  schemaObj.refs = v.refs;\n  schemaObj.refVal = v.refVal;\n  schemaObj.root = v.root;\n  return v;\n\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var _validate = schemaObj.validate;\n    var result = _validate.apply(this, arguments);\n    callValidate.errors = _validate.errors;\n    return result;\n  }\n}\n\n\nfunction chooseGetId(opts) {\n  switch (opts.schemaId) {\n    case 'auto': return _get$IdOrId;\n    case 'id': return _getId;\n    default: return _get$Id;\n  }\n}\n\n/* @this   Ajv */\nfunction _getId(schema) {\n  if (schema.$id) this.logger.warn('schema $id ignored', schema.$id);\n  return schema.id;\n}\n\n/* @this   Ajv */\nfunction _get$Id(schema) {\n  if (schema.id) this.logger.warn('schema id ignored', schema.id);\n  return schema.$id;\n}\n\n\nfunction _get$IdOrId(schema) {\n  if (schema.$id && schema.id && schema.$id != schema.id)\n    throw new Error('schema $id is different from id');\n  return schema.$id || schema.id;\n}\n\n\n/**\n * Convert array of error message objects to string\n * @this   Ajv\n * @param  {Array<Object>} errors optional array of validation errors, if not passed errors from the instance are used.\n * @param  {Object} options optional options with properties `separator` and `dataVar`.\n * @return {String} human readable string with all errors descriptions\n */\nfunction errorsText(errors, options) {\n  errors = errors || this.errors;\n  if (!errors) return 'No errors';\n  options = options || {};\n  var separator = options.separator === undefined ? ', ' : options.separator;\n  var dataVar = options.dataVar === undefined ? 'data' : options.dataVar;\n\n  var text = '';\n  for (var i=0; i<errors.length; i++) {\n    var e = errors[i];\n    if (e) text += dataVar + e.dataPath + ' ' + e.message + separator;\n  }\n  return text.slice(0, -separator.length);\n}\n\n\n/**\n * Add custom format\n * @this   Ajv\n * @param {String} name format name\n * @param {String|RegExp|Function} format string is converted to RegExp; function should return boolean (true when valid)\n * @return {Ajv} this for method chaining\n */\nfunction addFormat(name, format) {\n  if (typeof format == 'string') format = new RegExp(format);\n  this._formats[name] = format;\n  return this;\n}\n\n\nfunction addDefaultMetaSchema(self) {\n  var $dataSchema;\n  if (self._opts.$data) {\n    $dataSchema = require('./refs/data.json');\n    self.addMetaSchema($dataSchema, $dataSchema.$id, true);\n  }\n  if (self._opts.meta === false) return;\n  var metaSchema = require('./refs/json-schema-draft-07.json');\n  if (self._opts.$data) metaSchema = $dataMetaSchema(metaSchema, META_SUPPORT_DATA);\n  self.addMetaSchema(metaSchema, META_SCHEMA_ID, true);\n  self._refs['http://json-schema.org/schema'] = META_SCHEMA_ID;\n}\n\n\nfunction addInitialSchemas(self) {\n  var optsSchemas = self._opts.schemas;\n  if (!optsSchemas) return;\n  if (Array.isArray(optsSchemas)) self.addSchema(optsSchemas);\n  else for (var key in optsSchemas) self.addSchema(optsSchemas[key], key);\n}\n\n\nfunction addInitialFormats(self) {\n  for (var name in self._opts.formats) {\n    var format = self._opts.formats[name];\n    self.addFormat(name, format);\n  }\n}\n\n\nfunction addInitialKeywords(self) {\n  for (var name in self._opts.keywords) {\n    var keyword = self._opts.keywords[name];\n    self.addKeyword(name, keyword);\n  }\n}\n\n\nfunction checkUnique(self, id) {\n  if (self._schemas[id] || self._refs[id])\n    throw new Error('schema with key or id \"' + id + '\" already exists');\n}\n\n\nfunction getMetaSchemaOptions(self) {\n  var metaOpts = util.copy(self._opts);\n  for (var i=0; i<META_IGNORE_OPTIONS.length; i++)\n    delete metaOpts[META_IGNORE_OPTIONS[i]];\n  return metaOpts;\n}\n\n\nfunction setLogger(self) {\n  var logger = self._opts.logger;\n  if (logger === false) {\n    self.logger = {log: noop, warn: noop, error: noop};\n  } else {\n    if (logger === undefined) logger = console;\n    if (!(typeof logger == 'object' && logger.log && logger.warn && logger.error))\n      throw new Error('logger must implement log, warn and error methods');\n    self.logger = logger;\n  }\n}\n\n\nfunction noop() {}\n","'use strict';\n\nvar metaSchema = require('./refs/json-schema-draft-07.json');\n\nmodule.exports = {\n  $id: 'https://github.com/epoberezkin/ajv/blob/master/lib/definition_schema.js',\n  definitions: {\n    simpleTypes: metaSchema.definitions.simpleTypes\n  },\n  type: 'object',\n  dependencies: {\n    schema: ['validate'],\n    $data: ['validate'],\n    statements: ['inline'],\n    valid: {not: {required: ['macro']}}\n  },\n  properties: {\n    type: metaSchema.properties.type,\n    schema: {type: 'boolean'},\n    statements: {type: 'boolean'},\n    dependencies: {\n      type: 'array',\n      items: {type: 'string'}\n    },\n    metaSchema: {type: 'object'},\n    modifying: {type: 'boolean'},\n    valid: {type: 'boolean'},\n    $data: {type: 'boolean'},\n    async: {type: 'boolean'},\n    errors: {\n      anyOf: [\n        {type: 'boolean'},\n        {const: 'full'}\n      ]\n    }\n  }\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&lang=css&\"","'use strict';\nmodule.exports = function generate_items(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId;\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if (Array.isArray($schema)) {\n    var $additionalItems = it.schema.additionalItems;\n    if ($additionalItems === false) {\n      out += ' ' + ($valid) + ' = ' + ($data) + '.length <= ' + ($schema.length) + '; ';\n      var $currErrSchemaPath = $errSchemaPath;\n      $errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += '  if (!' + ($valid) + ') {   ';\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ('additionalItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schema.length) + ' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should NOT have more than ' + ($schema.length) + ' items\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n      out += ' } ';\n      $errSchemaPath = $currErrSchemaPath;\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n          out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($i) + ') { ';\n          var $passData = $data + '[' + $i + ']';\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + '[' + $i + ']';\n          $it.errSchemaPath = $errSchemaPath + '/' + $i;\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $i, it.opts.jsonPointers, true);\n          $it.dataPathArr[$dataNxt] = $i;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n    if (typeof $additionalItems == 'object' && (it.opts.strictKeywords ? typeof $additionalItems == 'object' && Object.keys($additionalItems).length > 0 : it.util.schemaHasRules($additionalItems, it.RULES.all))) {\n      $it.schema = $additionalItems;\n      $it.schemaPath = it.schemaPath + '.additionalItems';\n      $it.errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($schema.length) + ') {  for (var ' + ($idx) + ' = ' + ($schema.length) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n      $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n      var $passData = $data + '[' + $idx + ']';\n      $it.dataPathArr[$dataNxt] = $idx;\n      var $code = it.validate($it);\n      $it.baseId = $currentBaseId;\n      if (it.util.varOccurences($code, $nextData) < 2) {\n        out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n      } else {\n        out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n      }\n      if ($breakOnError) {\n        out += ' if (!' + ($nextValid) + ') break; ';\n      }\n      out += ' } }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  } else if ((it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += '  for (var ' + ($idx) + ' = ' + (0) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    if ($breakOnError) {\n      out += ' if (!' + ($nextValid) + ') break; ';\n    }\n    out += ' }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\n\nvar resolve = require('./resolve');\n\nmodule.exports = {\n  Validation: errorSubclass(ValidationError),\n  MissingRef: errorSubclass(MissingRefError)\n};\n\n\nfunction ValidationError(errors) {\n  this.message = 'validation failed';\n  this.errors = errors;\n  this.ajv = this.validation = true;\n}\n\n\nMissingRefError.message = function (baseId, ref) {\n  return 'can\\'t resolve reference ' + ref + ' from id ' + baseId;\n};\n\n\nfunction MissingRefError(baseId, ref, message) {\n  this.message = message || MissingRefError.message(baseId, ref);\n  this.missingRef = resolve.url(baseId, ref);\n  this.missingSchema = resolve.normalizeId(resolve.fullPath(this.missingRef));\n}\n\n\nfunction errorSubclass(Subclass) {\n  Subclass.prototype = Object.create(Error.prototype);\n  Subclass.prototype.constructor = Subclass;\n  return Subclass;\n}\n","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","'use strict';\n\nvar resolve = require('./resolve')\n  , util = require('./util')\n  , errorClasses = require('./error_classes')\n  , stableStringify = require('fast-json-stable-stringify');\n\nvar validateGenerator = require('../dotjs/validate');\n\n/**\n * Functions below are used inside compiled validations function\n */\n\nvar ucs2length = util.ucs2length;\nvar equal = require('fast-deep-equal');\n\n// this error is thrown by async schemas to return validation errors via exception\nvar ValidationError = errorClasses.Validation;\n\nmodule.exports = compile;\n\n\n/**\n * Compiles schema to validation function\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Object} root object with information about the root schema for this schema\n * @param  {Object} localRefs the hash of local references inside the schema (created by resolve.id), used for inline resolution\n * @param  {String} baseId base ID for IDs in the schema\n * @return {Function} validation function\n */\nfunction compile(schema, root, localRefs, baseId) {\n  /* jshint validthis: true, evil: true */\n  /* eslint no-shadow: 0 */\n  var self = this\n    , opts = this._opts\n    , refVal = [ undefined ]\n    , refs = {}\n    , patterns = []\n    , patternsHash = {}\n    , defaults = []\n    , defaultsHash = {}\n    , customRules = [];\n\n  root = root || { schema: schema, refVal: refVal, refs: refs };\n\n  var c = checkCompiling.call(this, schema, root, baseId);\n  var compilation = this._compilations[c.index];\n  if (c.compiling) return (compilation.callValidate = callValidate);\n\n  var formats = this._formats;\n  var RULES = this.RULES;\n\n  try {\n    var v = localCompile(schema, root, localRefs, baseId);\n    compilation.validate = v;\n    var cv = compilation.callValidate;\n    if (cv) {\n      cv.schema = v.schema;\n      cv.errors = null;\n      cv.refs = v.refs;\n      cv.refVal = v.refVal;\n      cv.root = v.root;\n      cv.$async = v.$async;\n      if (opts.sourceCode) cv.source = v.source;\n    }\n    return v;\n  } finally {\n    endCompiling.call(this, schema, root, baseId);\n  }\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var validate = compilation.validate;\n    var result = validate.apply(this, arguments);\n    callValidate.errors = validate.errors;\n    return result;\n  }\n\n  function localCompile(_schema, _root, localRefs, baseId) {\n    var isRoot = !_root || (_root && _root.schema == _schema);\n    if (_root.schema != root.schema)\n      return compile.call(self, _schema, _root, localRefs, baseId);\n\n    var $async = _schema.$async === true;\n\n    var sourceCode = validateGenerator({\n      isTop: true,\n      schema: _schema,\n      isRoot: isRoot,\n      baseId: baseId,\n      root: _root,\n      schemaPath: '',\n      errSchemaPath: '#',\n      errorPath: '\"\"',\n      MissingRefError: errorClasses.MissingRef,\n      RULES: RULES,\n      validate: validateGenerator,\n      util: util,\n      resolve: resolve,\n      resolveRef: resolveRef,\n      usePattern: usePattern,\n      useDefault: useDefault,\n      useCustomRule: useCustomRule,\n      opts: opts,\n      formats: formats,\n      logger: self.logger,\n      self: self\n    });\n\n    sourceCode = vars(refVal, refValCode) + vars(patterns, patternCode)\n                   + vars(defaults, defaultCode) + vars(customRules, customRuleCode)\n                   + sourceCode;\n\n    if (opts.processCode) sourceCode = opts.processCode(sourceCode);\n    // console.log('\\n\\n\\n *** \\n', JSON.stringify(sourceCode));\n    var validate;\n    try {\n      var makeValidate = new Function(\n        'self',\n        'RULES',\n        'formats',\n        'root',\n        'refVal',\n        'defaults',\n        'customRules',\n        'equal',\n        'ucs2length',\n        'ValidationError',\n        sourceCode\n      );\n\n      validate = makeValidate(\n        self,\n        RULES,\n        formats,\n        root,\n        refVal,\n        defaults,\n        customRules,\n        equal,\n        ucs2length,\n        ValidationError\n      );\n\n      refVal[0] = validate;\n    } catch(e) {\n      self.logger.error('Error compiling schema, function code:', sourceCode);\n      throw e;\n    }\n\n    validate.schema = _schema;\n    validate.errors = null;\n    validate.refs = refs;\n    validate.refVal = refVal;\n    validate.root = isRoot ? validate : _root;\n    if ($async) validate.$async = true;\n    if (opts.sourceCode === true) {\n      validate.source = {\n        code: sourceCode,\n        patterns: patterns,\n        defaults: defaults\n      };\n    }\n\n    return validate;\n  }\n\n  function resolveRef(baseId, ref, isRoot) {\n    ref = resolve.url(baseId, ref);\n    var refIndex = refs[ref];\n    var _refVal, refCode;\n    if (refIndex !== undefined) {\n      _refVal = refVal[refIndex];\n      refCode = 'refVal[' + refIndex + ']';\n      return resolvedRef(_refVal, refCode);\n    }\n    if (!isRoot && root.refs) {\n      var rootRefId = root.refs[ref];\n      if (rootRefId !== undefined) {\n        _refVal = root.refVal[rootRefId];\n        refCode = addLocalRef(ref, _refVal);\n        return resolvedRef(_refVal, refCode);\n      }\n    }\n\n    refCode = addLocalRef(ref);\n    var v = resolve.call(self, localCompile, root, ref);\n    if (v === undefined) {\n      var localSchema = localRefs && localRefs[ref];\n      if (localSchema) {\n        v = resolve.inlineRef(localSchema, opts.inlineRefs)\n            ? localSchema\n            : compile.call(self, localSchema, root, localRefs, baseId);\n      }\n    }\n\n    if (v === undefined) {\n      removeLocalRef(ref);\n    } else {\n      replaceLocalRef(ref, v);\n      return resolvedRef(v, refCode);\n    }\n  }\n\n  function addLocalRef(ref, v) {\n    var refId = refVal.length;\n    refVal[refId] = v;\n    refs[ref] = refId;\n    return 'refVal' + refId;\n  }\n\n  function removeLocalRef(ref) {\n    delete refs[ref];\n  }\n\n  function replaceLocalRef(ref, v) {\n    var refId = refs[ref];\n    refVal[refId] = v;\n  }\n\n  function resolvedRef(refVal, code) {\n    return typeof refVal == 'object' || typeof refVal == 'boolean'\n            ? { code: code, schema: refVal, inline: true }\n            : { code: code, $async: refVal && !!refVal.$async };\n  }\n\n  function usePattern(regexStr) {\n    var index = patternsHash[regexStr];\n    if (index === undefined) {\n      index = patternsHash[regexStr] = patterns.length;\n      patterns[index] = regexStr;\n    }\n    return 'pattern' + index;\n  }\n\n  function useDefault(value) {\n    switch (typeof value) {\n      case 'boolean':\n      case 'number':\n        return '' + value;\n      case 'string':\n        return util.toQuotedString(value);\n      case 'object':\n        if (value === null) return 'null';\n        var valueStr = stableStringify(value);\n        var index = defaultsHash[valueStr];\n        if (index === undefined) {\n          index = defaultsHash[valueStr] = defaults.length;\n          defaults[index] = value;\n        }\n        return 'default' + index;\n    }\n  }\n\n  function useCustomRule(rule, schema, parentSchema, it) {\n    if (self._opts.validateSchema !== false) {\n      var deps = rule.definition.dependencies;\n      if (deps && !deps.every(function(keyword) {\n        return Object.prototype.hasOwnProperty.call(parentSchema, keyword);\n      }))\n        throw new Error('parent schema must have all required keywords: ' + deps.join(','));\n\n      var validateSchema = rule.definition.validateSchema;\n      if (validateSchema) {\n        var valid = validateSchema(schema);\n        if (!valid) {\n          var message = 'keyword schema is invalid: ' + self.errorsText(validateSchema.errors);\n          if (self._opts.validateSchema == 'log') self.logger.error(message);\n          else throw new Error(message);\n        }\n      }\n    }\n\n    var compile = rule.definition.compile\n      , inline = rule.definition.inline\n      , macro = rule.definition.macro;\n\n    var validate;\n    if (compile) {\n      validate = compile.call(self, schema, parentSchema, it);\n    } else if (macro) {\n      validate = macro.call(self, schema, parentSchema, it);\n      if (opts.validateSchema !== false) self.validateSchema(validate, true);\n    } else if (inline) {\n      validate = inline.call(self, it, rule.keyword, schema, parentSchema);\n    } else {\n      validate = rule.definition.validate;\n      if (!validate) return;\n    }\n\n    if (validate === undefined)\n      throw new Error('custom keyword \"' + rule.keyword + '\"failed to compile');\n\n    var index = customRules.length;\n    customRules[index] = validate;\n\n    return {\n      code: 'customRule' + index,\n      validate: validate\n    };\n  }\n}\n\n\n/**\n * Checks if the schema is currently compiled\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Object} object with properties \"index\" (compilation index) and \"compiling\" (boolean)\n */\nfunction checkCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var index = compIndex.call(this, schema, root, baseId);\n  if (index >= 0) return { index: index, compiling: true };\n  index = this._compilations.length;\n  this._compilations[index] = {\n    schema: schema,\n    root: root,\n    baseId: baseId\n  };\n  return { index: index, compiling: false };\n}\n\n\n/**\n * Removes the schema from the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n */\nfunction endCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var i = compIndex.call(this, schema, root, baseId);\n  if (i >= 0) this._compilations.splice(i, 1);\n}\n\n\n/**\n * Index of schema compilation in the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Integer} compilation index\n */\nfunction compIndex(schema, root, baseId) {\n  /* jshint validthis: true */\n  for (var i=0; i<this._compilations.length; i++) {\n    var c = this._compilations[i];\n    if (c.schema == schema && c.root == root && c.baseId == baseId) return i;\n  }\n  return -1;\n}\n\n\nfunction patternCode(i, patterns) {\n  return 'var pattern' + i + ' = new RegExp(' + util.toQuotedString(patterns[i]) + ');';\n}\n\n\nfunction defaultCode(i) {\n  return 'var default' + i + ' = defaults[' + i + '];';\n}\n\n\nfunction refValCode(i, refVal) {\n  return refVal[i] === undefined ? '' : 'var refVal' + i + ' = refVal[' + i + '];';\n}\n\n\nfunction customRuleCode(i) {\n  return 'var customRule' + i + ' = customRules[' + i + '];';\n}\n\n\nfunction vars(arr, statement) {\n  if (!arr.length) return '';\n  var code = '';\n  for (var i=0; i<arr.length; i++)\n    code += statement(i, arr);\n  return code;\n}\n","'use strict';\nmodule.exports = function generate__limitLength(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxLength' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  if (it.opts.unicode === false) {\n    out += ' ' + ($data) + '.length ';\n  } else {\n    out += ' ucs2length(' + ($data) + ') ';\n  }\n  out += ' ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitLength') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT be ';\n      if ($keyword == 'maxLength') {\n        out += 'longer';\n      } else {\n        out += 'shorter';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' characters\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\n\nvar util = require('./util');\n\nvar DATE = /^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/;\nvar DAYS = [0,31,28,31,30,31,30,31,31,30,31,30,31];\nvar TIME = /^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d(?::?\\d\\d)?)?$/i;\nvar HOSTNAME = /^(?=.{1,253}\\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\\.?$/i;\nvar URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\nvar URIREF = /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\n// uri-template: https://tools.ietf.org/html/rfc6570\nvar URITEMPLATE = /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i;\n// For the source: https://gist.github.com/dperini/729294\n// For test cases: https://mathiasbynens.be/demo/url-regex\n// @todo Delete current URL in favour of the commented out URL rule when this issue is fixed https://github.com/eslint/eslint/issues/7983.\n// var URL = /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu;\nvar URL = /^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i;\nvar UUID = /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;\nvar JSON_POINTER = /^(?:\\/(?:[^~/]|~0|~1)*)*$/;\nvar JSON_POINTER_URI_FRAGMENT = /^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;\nvar RELATIVE_JSON_POINTER = /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/;\n\n\nmodule.exports = formats;\n\nfunction formats(mode) {\n  mode = mode == 'full' ? 'full' : 'fast';\n  return util.copy(formats[mode]);\n}\n\n\nformats.fast = {\n  // date: http://tools.ietf.org/html/rfc3339#section-5.6\n  date: /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,\n  // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n  time: /^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)?$/i,\n  'date-time': /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/i,\n  // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n  uri: /^(?:[a-z][a-z0-9+-.]*:)(?:\\/?\\/)?[^\\s]*$/i,\n  'uri-reference': /^(?:(?:[a-z][a-z0-9+-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  // email (sources from jsen validator):\n  // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n  // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')\n  email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n  hostname: HOSTNAME,\n  // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  // uuid: http://tools.ietf.org/html/rfc4122\n  uuid: UUID,\n  // JSON-pointer: https://tools.ietf.org/html/rfc6901\n  // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nformats.full = {\n  date: date,\n  time: time,\n  'date-time': date_time,\n  uri: uri,\n  'uri-reference': URIREF,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n  hostname: HOSTNAME,\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  uuid: UUID,\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nfunction isLeapYear(year) {\n  // https://tools.ietf.org/html/rfc3339#appendix-C\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\n\n\nfunction date(str) {\n  // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n  var matches = str.match(DATE);\n  if (!matches) return false;\n\n  var year = +matches[1];\n  var month = +matches[2];\n  var day = +matches[3];\n\n  return month >= 1 && month <= 12 && day >= 1 &&\n          day <= (month == 2 && isLeapYear(year) ? 29 : DAYS[month]);\n}\n\n\nfunction time(str, full) {\n  var matches = str.match(TIME);\n  if (!matches) return false;\n\n  var hour = matches[1];\n  var minute = matches[2];\n  var second = matches[3];\n  var timeZone = matches[5];\n  return ((hour <= 23 && minute <= 59 && second <= 59) ||\n          (hour == 23 && minute == 59 && second == 60)) &&\n         (!full || timeZone);\n}\n\n\nvar DATE_TIME_SEPARATOR = /t|\\s/i;\nfunction date_time(str) {\n  // http://tools.ietf.org/html/rfc3339#section-5.6\n  var dateTime = str.split(DATE_TIME_SEPARATOR);\n  return dateTime.length == 2 && date(dateTime[0]) && time(dateTime[1], true);\n}\n\n\nvar NOT_URI_FRAGMENT = /\\/|:/;\nfunction uri(str) {\n  // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required \".\"\n  return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n}\n\n\nvar Z_ANCHOR = /[^\\\\]\\\\Z/;\nfunction regex(str) {\n  if (Z_ANCHOR.test(str)) return false;\n  try {\n    new RegExp(str);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n","'use strict';\nmodule.exports = function generate_multipleOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  out += 'var division' + ($lvl) + ';if (';\n  if ($isData) {\n    out += ' ' + ($schemaValue) + ' !== undefined && ( typeof ' + ($schemaValue) + ' != \\'number\\' || ';\n  }\n  out += ' (division' + ($lvl) + ' = ' + ($data) + ' / ' + ($schemaValue) + ', ';\n  if (it.opts.multipleOfPrecision) {\n    out += ' Math.abs(Math.round(division' + ($lvl) + ') - division' + ($lvl) + ') > 1e-' + (it.opts.multipleOfPrecision) + ' ';\n  } else {\n    out += ' division' + ($lvl) + ' !== parseInt(division' + ($lvl) + ') ';\n  }\n  out += ' ) ';\n  if ($isData) {\n    out += '  )  ';\n  }\n  out += ' ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('multipleOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { multipleOf: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be multiple of ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\n\nvar URI = require('uri-js')\n  , equal = require('fast-deep-equal')\n  , util = require('./util')\n  , SchemaObject = require('./schema_obj')\n  , traverse = require('json-schema-traverse');\n\nmodule.exports = resolve;\n\nresolve.normalizeId = normalizeId;\nresolve.fullPath = getFullPath;\nresolve.url = resolveUrl;\nresolve.ids = resolveIds;\nresolve.inlineRef = inlineRef;\nresolve.schema = resolveSchema;\n\n/**\n * [resolve and compile the references ($ref)]\n * @this   Ajv\n * @param  {Function} compile reference to schema compilation funciton (localCompile)\n * @param  {Object} root object with information about the root schema for the current schema\n * @param  {String} ref reference to resolve\n * @return {Object|Function} schema object (if the schema can be inlined) or validation function\n */\nfunction resolve(compile, root, ref) {\n  /* jshint validthis: true */\n  var refVal = this._refs[ref];\n  if (typeof refVal == 'string') {\n    if (this._refs[refVal]) refVal = this._refs[refVal];\n    else return resolve.call(this, compile, root, refVal);\n  }\n\n  refVal = refVal || this._schemas[ref];\n  if (refVal instanceof SchemaObject) {\n    return inlineRef(refVal.schema, this._opts.inlineRefs)\n            ? refVal.schema\n            : refVal.validate || this._compile(refVal);\n  }\n\n  var res = resolveSchema.call(this, root, ref);\n  var schema, v, baseId;\n  if (res) {\n    schema = res.schema;\n    root = res.root;\n    baseId = res.baseId;\n  }\n\n  if (schema instanceof SchemaObject) {\n    v = schema.validate || compile.call(this, schema.schema, root, undefined, baseId);\n  } else if (schema !== undefined) {\n    v = inlineRef(schema, this._opts.inlineRefs)\n        ? schema\n        : compile.call(this, schema, root, undefined, baseId);\n  }\n\n  return v;\n}\n\n\n/**\n * Resolve schema, its root and baseId\n * @this Ajv\n * @param  {Object} root root object with properties schema, refVal, refs\n * @param  {String} ref  reference to resolve\n * @return {Object} object with properties schema, root, baseId\n */\nfunction resolveSchema(root, ref) {\n  /* jshint validthis: true */\n  var p = URI.parse(ref)\n    , refPath = _getFullPath(p)\n    , baseId = getFullPath(this._getId(root.schema));\n  if (Object.keys(root.schema).length === 0 || refPath !== baseId) {\n    var id = normalizeId(refPath);\n    var refVal = this._refs[id];\n    if (typeof refVal == 'string') {\n      return resolveRecursive.call(this, root, refVal, p);\n    } else if (refVal instanceof SchemaObject) {\n      if (!refVal.validate) this._compile(refVal);\n      root = refVal;\n    } else {\n      refVal = this._schemas[id];\n      if (refVal instanceof SchemaObject) {\n        if (!refVal.validate) this._compile(refVal);\n        if (id == normalizeId(ref))\n          return { schema: refVal, root: root, baseId: baseId };\n        root = refVal;\n      } else {\n        return;\n      }\n    }\n    if (!root.schema) return;\n    baseId = getFullPath(this._getId(root.schema));\n  }\n  return getJsonPointer.call(this, p, baseId, root.schema, root);\n}\n\n\n/* @this Ajv */\nfunction resolveRecursive(root, ref, parsedRef) {\n  /* jshint validthis: true */\n  var res = resolveSchema.call(this, root, ref);\n  if (res) {\n    var schema = res.schema;\n    var baseId = res.baseId;\n    root = res.root;\n    var id = this._getId(schema);\n    if (id) baseId = resolveUrl(baseId, id);\n    return getJsonPointer.call(this, parsedRef, baseId, schema, root);\n  }\n}\n\n\nvar PREVENT_SCOPE_CHANGE = util.toHash(['properties', 'patternProperties', 'enum', 'dependencies', 'definitions']);\n/* @this Ajv */\nfunction getJsonPointer(parsedRef, baseId, schema, root) {\n  /* jshint validthis: true */\n  parsedRef.fragment = parsedRef.fragment || '';\n  if (parsedRef.fragment.slice(0,1) != '/') return;\n  var parts = parsedRef.fragment.split('/');\n\n  for (var i = 1; i < parts.length; i++) {\n    var part = parts[i];\n    if (part) {\n      part = util.unescapeFragment(part);\n      schema = schema[part];\n      if (schema === undefined) break;\n      var id;\n      if (!PREVENT_SCOPE_CHANGE[part]) {\n        id = this._getId(schema);\n        if (id) baseId = resolveUrl(baseId, id);\n        if (schema.$ref) {\n          var $ref = resolveUrl(baseId, schema.$ref);\n          var res = resolveSchema.call(this, root, $ref);\n          if (res) {\n            schema = res.schema;\n            root = res.root;\n            baseId = res.baseId;\n          }\n        }\n      }\n    }\n  }\n  if (schema !== undefined && schema !== root.schema)\n    return { schema: schema, root: root, baseId: baseId };\n}\n\n\nvar SIMPLE_INLINED = util.toHash([\n  'type', 'format', 'pattern',\n  'maxLength', 'minLength',\n  'maxProperties', 'minProperties',\n  'maxItems', 'minItems',\n  'maximum', 'minimum',\n  'uniqueItems', 'multipleOf',\n  'required', 'enum'\n]);\nfunction inlineRef(schema, limit) {\n  if (limit === false) return false;\n  if (limit === undefined || limit === true) return checkNoRef(schema);\n  else if (limit) return countKeys(schema) <= limit;\n}\n\n\nfunction checkNoRef(schema) {\n  var item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return false;\n      item = schema[key];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  }\n  return true;\n}\n\n\nfunction countKeys(schema) {\n  var count = 0, item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object') count += countKeys(item);\n      if (count == Infinity) return Infinity;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return Infinity;\n      if (SIMPLE_INLINED[key]) {\n        count++;\n      } else {\n        item = schema[key];\n        if (typeof item == 'object') count += countKeys(item) + 1;\n        if (count == Infinity) return Infinity;\n      }\n    }\n  }\n  return count;\n}\n\n\nfunction getFullPath(id, normalize) {\n  if (normalize !== false) id = normalizeId(id);\n  var p = URI.parse(id);\n  return _getFullPath(p);\n}\n\n\nfunction _getFullPath(p) {\n  return URI.serialize(p).split('#')[0] + '#';\n}\n\n\nvar TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n  return id ? id.replace(TRAILING_SLASH_HASH, '') : '';\n}\n\n\nfunction resolveUrl(baseId, id) {\n  id = normalizeId(id);\n  return URI.resolve(baseId, id);\n}\n\n\n/* @this Ajv */\nfunction resolveIds(schema) {\n  var schemaId = normalizeId(this._getId(schema));\n  var baseIds = {'': schemaId};\n  var fullPaths = {'': getFullPath(schemaId, false)};\n  var localRefs = {};\n  var self = this;\n\n  traverse(schema, {allKeys: true}, function(sch, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n    if (jsonPtr === '') return;\n    var id = self._getId(sch);\n    var baseId = baseIds[parentJsonPtr];\n    var fullPath = fullPaths[parentJsonPtr] + '/' + parentKeyword;\n    if (keyIndex !== undefined)\n      fullPath += '/' + (typeof keyIndex == 'number' ? keyIndex : util.escapeFragment(keyIndex));\n\n    if (typeof id == 'string') {\n      id = baseId = normalizeId(baseId ? URI.resolve(baseId, id) : id);\n\n      var refVal = self._refs[id];\n      if (typeof refVal == 'string') refVal = self._refs[refVal];\n      if (refVal && refVal.schema) {\n        if (!equal(sch, refVal.schema))\n          throw new Error('id \"' + id + '\" resolves to more than one schema');\n      } else if (id != normalizeId(fullPath)) {\n        if (id[0] == '#') {\n          if (localRefs[id] && !equal(sch, localRefs[id]))\n            throw new Error('id \"' + id + '\" resolves to more than one schema');\n          localRefs[id] = sch;\n        } else {\n          self._refs[id] = fullPath;\n        }\n      }\n    }\n    baseIds[jsonPtr] = baseId;\n    fullPaths[jsonPtr] = fullPath;\n  });\n\n  return localRefs;\n}\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleRow.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleRow.vue?vue&type=style&index=0&lang=css&\"","'use strict';\n\nvar MissingRefError = require('./error_classes').MissingRef;\n\nmodule.exports = compileAsync;\n\n\n/**\n * Creates validating function for passed schema with asynchronous loading of missing schemas.\n * `loadSchema` option should be a function that accepts schema uri and returns promise that resolves with the schema.\n * @this  Ajv\n * @param {Object}   schema schema object\n * @param {Boolean}  meta optional true to compile meta-schema; this parameter can be skipped\n * @param {Function} callback an optional node-style callback, it is called with 2 parameters: error (or null) and validating function.\n * @return {Promise} promise that resolves with a validating function.\n */\nfunction compileAsync(schema, meta, callback) {\n  /* eslint no-shadow: 0 */\n  /* global Promise */\n  /* jshint validthis: true */\n  var self = this;\n  if (typeof this._opts.loadSchema != 'function')\n    throw new Error('options.loadSchema should be a function');\n\n  if (typeof meta == 'function') {\n    callback = meta;\n    meta = undefined;\n  }\n\n  var p = loadMetaSchemaOf(schema).then(function () {\n    var schemaObj = self._addSchema(schema, undefined, meta);\n    return schemaObj.validate || _compileAsync(schemaObj);\n  });\n\n  if (callback) {\n    p.then(\n      function(v) { callback(null, v); },\n      callback\n    );\n  }\n\n  return p;\n\n\n  function loadMetaSchemaOf(sch) {\n    var $schema = sch.$schema;\n    return $schema && !self.getSchema($schema)\n            ? compileAsync.call(self, { $ref: $schema }, true)\n            : Promise.resolve();\n  }\n\n\n  function _compileAsync(schemaObj) {\n    try { return self._compile(schemaObj); }\n    catch(e) {\n      if (e instanceof MissingRefError) return loadMissingSchema(e);\n      throw e;\n    }\n\n\n    function loadMissingSchema(e) {\n      var ref = e.missingSchema;\n      if (added(ref)) throw new Error('Schema ' + ref + ' is loaded but ' + e.missingRef + ' cannot be resolved');\n\n      var schemaPromise = self._loadingSchemas[ref];\n      if (!schemaPromise) {\n        schemaPromise = self._loadingSchemas[ref] = self._opts.loadSchema(ref);\n        schemaPromise.then(removePromise, removePromise);\n      }\n\n      return schemaPromise.then(function (sch) {\n        if (!added(ref)) {\n          return loadMetaSchemaOf(sch).then(function () {\n            if (!added(ref)) self.addSchema(sch, ref, undefined, meta);\n          });\n        }\n      }).then(function() {\n        return _compileAsync(schemaObj);\n      });\n\n      function removePromise() {\n        delete self._loadingSchemas[ref];\n      }\n\n      function added(ref) {\n        return self._refs[ref] || self._schemas[ref];\n      }\n    }\n  }\n}\n","'use strict';\nmodule.exports = function generate_required(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    if ($schema.length < it.opts.loopRequired && it.schema.properties && Object.keys(it.schema.properties).length) {\n      var $required = [];\n      var arr1 = $schema;\n      if (arr1) {\n        var $property, i1 = -1,\n          l1 = arr1.length - 1;\n        while (i1 < l1) {\n          $property = arr1[i1 += 1];\n          var $propertySch = it.schema.properties[$property];\n          if (!($propertySch && (it.opts.strictKeywords ? typeof $propertySch == 'object' && Object.keys($propertySch).length > 0 : it.util.schemaHasRules($propertySch, it.RULES.all)))) {\n            $required[$required.length] = $property;\n          }\n        }\n      }\n    } else {\n      var $required = $schema;\n    }\n  }\n  if ($isData || $required.length) {\n    var $currentErrorPath = it.errorPath,\n      $loopRequired = $isData || $required.length >= it.opts.loopRequired,\n      $ownProperties = it.opts.ownProperties;\n    if ($breakOnError) {\n      out += ' var missing' + ($lvl) + '; ';\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        out += ' var ' + ($valid) + ' = true; ';\n        if ($isData) {\n          out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { ' + ($valid) + ' = ' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] !== undefined ';\n        if ($ownProperties) {\n          out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += '; if (!' + ($valid) + ') break; } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n        out += '  if (!' + ($valid) + ') {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      } else {\n        out += ' if ( ';\n        var arr2 = $required;\n        if (arr2) {\n          var $propertyKey, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $propertyKey = arr2[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ') {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      }\n    } else {\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        if ($isData) {\n          out += ' if (' + ($vSchema) + ' && !Array.isArray(' + ($vSchema) + ')) {  var err =   '; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is a required property';\n              } else {\n                out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (' + ($vSchema) + ' !== undefined) { ';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { if (' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] === undefined ';\n        if ($ownProperties) {\n          out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += ') {  var err =   '; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n      } else {\n        var arr3 = $required;\n        if (arr3) {\n          var $propertyKey, i3 = -1,\n            l3 = arr3.length - 1;\n          while (i3 < l3) {\n            $propertyKey = arr3[i3 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'';\n                if (it.opts._errorDataPathProperty) {\n                  out += 'is a required property';\n                } else {\n                  out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                }\n                out += '\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n    }\n    it.errorPath = $currentErrorPath;\n  } else if ($breakOnError) {\n    out += ' if (true) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_dependencies(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $schemaDeps = {},\n    $propertyDeps = {},\n    $ownProperties = it.opts.ownProperties;\n  for ($property in $schema) {\n    var $sch = $schema[$property];\n    var $deps = Array.isArray($sch) ? $propertyDeps : $schemaDeps;\n    $deps[$property] = $sch;\n  }\n  out += 'var ' + ($errs) + ' = errors;';\n  var $currentErrorPath = it.errorPath;\n  out += 'var missing' + ($lvl) + ';';\n  for (var $property in $propertyDeps) {\n    $deps = $propertyDeps[$property];\n    if ($deps.length) {\n      out += ' if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      if ($breakOnError) {\n        out += ' && ( ';\n        var arr1 = $deps;\n        if (arr1) {\n          var $propertyKey, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $propertyKey = arr1[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ')) {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should have ';\n            if ($deps.length == 1) {\n              out += 'property ' + (it.util.escapeQuotes($deps[0]));\n            } else {\n              out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n            }\n            out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      } else {\n        out += ' ) { ';\n        var arr2 = $deps;\n        if (arr2) {\n          var $propertyKey, i2 = -1,\n            l2 = arr2.length - 1;\n          while (i2 < l2) {\n            $propertyKey = arr2[i2 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'should have ';\n                if ($deps.length == 1) {\n                  out += 'property ' + (it.util.escapeQuotes($deps[0]));\n                } else {\n                  out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n                }\n                out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n      out += ' }   ';\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n  }\n  it.errorPath = $currentErrorPath;\n  var $currentBaseId = $it.baseId;\n  for (var $property in $schemaDeps) {\n    var $sch = $schemaDeps[$property];\n    if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n      out += ' ' + ($nextValid) + ' = true; if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      out += ') { ';\n      $it.schema = $sch;\n      $it.schemaPath = $schemaPath + it.util.getProperty($property);\n      $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($property);\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += '   ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","import LS from \"./localStorage\";\r\nimport Convert from \"./convert\";\r\n\r\nObject.assign(window, {\r\n  $shared: {},    // Передача данных между контекстами (нп, Vuex - Game Engine)\r\n  $libs: {},      // Переменные загруженных библиотек для движка\r\n  $comps: {},     // Переменные загруженных программных компонентов движка\r\n  $info: {},      // Информация о состояниях и пр\r\n  $data: {        // Данные, ресурсы и пр проекта\r\n    aud: {},\r\n    blocks: [],\r\n    isDebug: false,\r\n    editObjectType: 0,\r\n    sBlockId: 0,\r\n    sBlockIdAlt: -1,\r\n    sStructId: 0,\r\n    sStructIdAlt: -1,\r\n    // maps: [],\r\n    // sdMapId: 0,\r\n    sLayerKey: 'm',\r\n  }, \r\n  $triggers: {},\r\n  $events: {},\r\n})\r\n\r\nfunction clearTriggers() {\r\n  Object.assign(window.$triggers, {\r\n    start: ()=>0,\r\n    setPause: ()=>0,\r\n    destroy: ()=>0,\r\n    getMapData: ()=>0,\r\n    setAudioSettings: ()=>0,\r\n    setLayer: ()=>0,\r\n    setBlockPropsEdit: ()=>0,\r\n  });\r\n}\r\nfunction clearEvents(){\r\n  Object.assign(window.$events, {\r\n    onEngineLoad: ()=>0,\r\n  });\r\n}\r\nclearTriggers();\r\nclearEvents();\r\nwindow.$triggers.clear = clearTriggers;\r\n\r\n\r\n\r\nconst LSK_audiostgs = 'SB_as';\r\nlet counter = 0;\r\nfunction setAudStgs(audioSettings){\r\n  let audStgs = audioSettings || LS.load(LSK_audiostgs, {}, Convert.from.json);\r\n  if(audStgs==null){\r\n    audStgs = {vol: 0.1}\r\n  }\r\n  window.$data.aud = audStgs;\r\n  window.$triggers.setAudioSettings(audStgs);\r\n  LS.save(LSK_audiostgs, audStgs, Convert.to.json);\r\n\r\n  console.log('Вызов №'+(counter++)+'\\nЗначение: ')\r\n  console.dir(audStgs)\r\n}\r\nsetAudStgs();\r\n\r\nexport default {\r\n  setAudStgs,\r\n  clearTriggersAndEvents(){\r\n    clearTriggers();\r\n    clearEvents();\r\n  }, \r\n  setData(obj){\r\n    Object.assign(window.$data, obj)\r\n  },\r\n  // setMaps(mapDataList){\r\n  //   window.$data.maps = mapDataList;\r\n  // },\r\n  // addMap(mapData){\r\n  //   window.$data.maps.push(mapData);\r\n  // },\r\n}","'use strict';\n\nvar util = require('./util');\n\nmodule.exports = SchemaObject;\n\nfunction SchemaObject(obj) {\n  util.copy(obj, this);\n}\n","'use strict';\nmodule.exports = function generate_properties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $key = 'key' + $lvl,\n    $idx = 'idx' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $dataProperties = 'dataProperties' + $lvl;\n  var $schemaKeys = Object.keys($schema || {}),\n    $pProperties = it.schema.patternProperties || {},\n    $pPropertyKeys = Object.keys($pProperties),\n    $aProperties = it.schema.additionalProperties,\n    $someProperties = $schemaKeys.length || $pPropertyKeys.length,\n    $noAdditional = $aProperties === false,\n    $additionalIsSchema = typeof $aProperties == 'object' && Object.keys($aProperties).length,\n    $removeAdditional = it.opts.removeAdditional,\n    $checkAdditional = $noAdditional || $additionalIsSchema || $removeAdditional,\n    $ownProperties = it.opts.ownProperties,\n    $currentBaseId = it.baseId;\n  var $required = it.schema.required;\n  if ($required && !(it.opts.$data && $required.$data) && $required.length < it.opts.loopRequired) var $requiredHash = it.util.toHash($required);\n  out += 'var ' + ($errs) + ' = errors;var ' + ($nextValid) + ' = true;';\n  if ($ownProperties) {\n    out += ' var ' + ($dataProperties) + ' = undefined;';\n  }\n  if ($checkAdditional) {\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    if ($someProperties) {\n      out += ' var isAdditional' + ($lvl) + ' = !(false ';\n      if ($schemaKeys.length) {\n        if ($schemaKeys.length > 8) {\n          out += ' || validate.schema' + ($schemaPath) + '.hasOwnProperty(' + ($key) + ') ';\n        } else {\n          var arr1 = $schemaKeys;\n          if (arr1) {\n            var $propertyKey, i1 = -1,\n              l1 = arr1.length - 1;\n            while (i1 < l1) {\n              $propertyKey = arr1[i1 += 1];\n              out += ' || ' + ($key) + ' == ' + (it.util.toQuotedString($propertyKey)) + ' ';\n            }\n          }\n        }\n      }\n      if ($pPropertyKeys.length) {\n        var arr2 = $pPropertyKeys;\n        if (arr2) {\n          var $pProperty, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $pProperty = arr2[$i += 1];\n            out += ' || ' + (it.usePattern($pProperty)) + '.test(' + ($key) + ') ';\n          }\n        }\n      }\n      out += ' ); if (isAdditional' + ($lvl) + ') { ';\n    }\n    if ($removeAdditional == 'all') {\n      out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n    } else {\n      var $currentErrorPath = it.errorPath;\n      var $additionalProperty = '\\' + ' + $key + ' + \\'';\n      if (it.opts._errorDataPathProperty) {\n        it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n      }\n      if ($noAdditional) {\n        if ($removeAdditional) {\n          out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n        } else {\n          out += ' ' + ($nextValid) + ' = false; ';\n          var $currErrSchemaPath = $errSchemaPath;\n          $errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          var $$outStack = $$outStack || [];\n          $$outStack.push(out);\n          out = ''; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('additionalProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { additionalProperty: \\'' + ($additionalProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is an invalid additional property';\n              } else {\n                out += 'should NOT have additional properties';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          var __err = out;\n          out = $$outStack.pop();\n          if (!it.compositeRule && $breakOnError) {\n            /* istanbul ignore if */\n            if (it.async) {\n              out += ' throw new ValidationError([' + (__err) + ']); ';\n            } else {\n              out += ' validate.errors = [' + (__err) + ']; return false; ';\n            }\n          } else {\n            out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n          }\n          $errSchemaPath = $currErrSchemaPath;\n          if ($breakOnError) {\n            out += ' break; ';\n          }\n        }\n      } else if ($additionalIsSchema) {\n        if ($removeAdditional == 'failing') {\n          out += ' var ' + ($errs) + ' = errors;  ';\n          var $wasComposite = it.compositeRule;\n          it.compositeRule = $it.compositeRule = true;\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' if (!' + ($nextValid) + ') { errors = ' + ($errs) + '; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete ' + ($data) + '[' + ($key) + ']; }  ';\n          it.compositeRule = $it.compositeRule = $wasComposite;\n        } else {\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n        }\n      }\n      it.errorPath = $currentErrorPath;\n    }\n    if ($someProperties) {\n      out += ' } ';\n    }\n    out += ' }  ';\n    if ($breakOnError) {\n      out += ' if (' + ($nextValid) + ') { ';\n      $closingBraces += '}';\n    }\n  }\n  var $useDefaults = it.opts.useDefaults && !it.compositeRule;\n  if ($schemaKeys.length) {\n    var arr3 = $schemaKeys;\n    if (arr3) {\n      var $propertyKey, i3 = -1,\n        l3 = arr3.length - 1;\n      while (i3 < l3) {\n        $propertyKey = arr3[i3 += 1];\n        var $sch = $schema[$propertyKey];\n        if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n          var $prop = it.util.getProperty($propertyKey),\n            $passData = $data + $prop,\n            $hasDefault = $useDefaults && $sch.default !== undefined;\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + $prop;\n          $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($propertyKey);\n          $it.errorPath = it.util.getPath(it.errorPath, $propertyKey, it.opts.jsonPointers);\n          $it.dataPathArr[$dataNxt] = it.util.toQuotedString($propertyKey);\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            $code = it.util.varReplace($code, $nextData, $passData);\n            var $useData = $passData;\n          } else {\n            var $useData = $nextData;\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ';\n          }\n          if ($hasDefault) {\n            out += ' ' + ($code) + ' ';\n          } else {\n            if ($requiredHash && $requiredHash[$propertyKey]) {\n              out += ' if ( ' + ($useData) + ' === undefined ';\n              if ($ownProperties) {\n                out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n              }\n              out += ') { ' + ($nextValid) + ' = false; ';\n              var $currentErrorPath = it.errorPath,\n                $currErrSchemaPath = $errSchemaPath,\n                $missingProperty = it.util.escapeQuotes($propertyKey);\n              if (it.opts._errorDataPathProperty) {\n                it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n              }\n              $errSchemaPath = it.errSchemaPath + '/required';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'';\n                  if (it.opts._errorDataPathProperty) {\n                    out += 'is a required property';\n                  } else {\n                    out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              $errSchemaPath = $currErrSchemaPath;\n              it.errorPath = $currentErrorPath;\n              out += ' } else { ';\n            } else {\n              if ($breakOnError) {\n                out += ' if ( ' + ($useData) + ' === undefined ';\n                if ($ownProperties) {\n                  out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ') { ' + ($nextValid) + ' = true; } else { ';\n              } else {\n                out += ' if (' + ($useData) + ' !== undefined ';\n                if ($ownProperties) {\n                  out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ' ) { ';\n              }\n            }\n            out += ' ' + ($code) + ' } ';\n          }\n        }\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($pPropertyKeys.length) {\n    var arr4 = $pPropertyKeys;\n    if (arr4) {\n      var $pProperty, i4 = -1,\n        l4 = arr4.length - 1;\n      while (i4 < l4) {\n        $pProperty = arr4[i4 += 1];\n        var $sch = $pProperties[$pProperty];\n        if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n          $it.schema = $sch;\n          $it.schemaPath = it.schemaPath + '.patternProperties' + it.util.getProperty($pProperty);\n          $it.errSchemaPath = it.errSchemaPath + '/patternProperties/' + it.util.escapeFragment($pProperty);\n          if ($ownProperties) {\n            out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n          } else {\n            out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n          }\n          out += ' if (' + (it.usePattern($pProperty)) + '.test(' + ($key) + ')) { ';\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n          out += ' } ';\n          if ($breakOnError) {\n            out += ' else ' + ($nextValid) + ' = true; ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isLoaded && !_vm.isEditMode)?_c('b-container',{staticClass:\"p-0 h-100 w-100\",attrs:{\"fluid\":\"\"}},[_c('b-container',{staticClass:\"editor_col\",staticStyle:{\"width\":\"40%\"}},[_c('img-pixel',{staticClass:\"w-100\",attrs:{\"src\":_vm.projs.size !== 0 ? _vm.editor.parser.projPreview() : 'https://picsum.photos/600/300/'}}),(_vm.projs.size !== 0)?_c('b-card',{staticClass:\"brd-se\",attrs:{\"title\":_vm.editor.parser.projName('(Без названия)'),\"text-variant\":\"light\",\"body-class\":\"bg-pr\",\"footer-class\":\"bg-pr\"},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":_vm.deleteCurrentProj}},[_vm._v(\" Удалить проект \")]),_c('b-button',{staticClass:\"mr-2\",attrs:{\"variant\":\"success\"},on:{\"click\":_vm.editCurrentProj}},[_vm._v(\" Редактировать \")])]},proxy:true}],null,false,1203695140)},[_c('span',{staticClass:\"text-secondary\"},[_vm._v(_vm._s(_vm.projectBytes/1000)+\" КБайт\")]),_c('b-card-text',{staticClass:\"overflow-hidden\",staticStyle:{\"white-space\":\"pre-line\"}},[_vm._v(\" \"+_vm._s(_vm.editor.parser.projDescr())+\" \")])],1):_c('b-card',{staticClass:\"text-center text-secondary\"},[_c('h2',[_vm._v(\"Создайте проект\")])])],1),_c('b-container',{staticClass:\"editor_col\",staticStyle:{\"width\":\"60%\"}},[_c('b-button',{staticClass:\"mr-2\",attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.newProj}},[_vm._v(\" + Создать новый проект \")]),(_vm.projs.size !== 0)?_c('ProjectList',{ref:\"projls\",attrs:{\"projects\":_vm.projs,\"selected\":_vm.sprojkey,\"editor\":_vm.editor},on:{\"select\":_vm.selectProject}}):_vm._e()],1)],1):(_vm.isLoaded)?_c('ProjectEditorView',{attrs:{\"editor\":_vm.editor},on:{\"exit\":_vm.exitEdit}}):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100vh\",\"width\":\"100vw\"}},[_c('b-navbar',{staticClass:\"t-b p-1 pl-2 pr-2 bg-pr\"},[_c('b-button',{staticClass:\"pt-0 pb-0 bg-lt border-0\",on:{\"click\":function($event){_vm.isEditFile ? _vm.canceFileEdit() : _vm.endProjectEdit()}}},[_vm._v(\" \"+_vm._s(_vm.isEditFile ? 'Назад' : 'Проекты')+\" \")]),_c('b-nav',{staticClass:\"ml-3 pt-0 pb-0\"},[_c('b-nav-text',{staticClass:\"p-0 text-pr\"},[_vm._v(\" \"+_vm._s(_vm.editor.parser.projName('(Без названия)'))+\" \")]),(_vm.isEditFile)?_c('b-nav-text',{staticClass:\"p-0 pl-2 text-dr\"},[_vm._v(\" \"+_vm._s('/ ' + _vm.sFile.schema.title)+\" \")]):_vm._e()],1),_c('b-navbar-nav',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isEditFile),expression:\"!isEditFile\"}],staticClass:\"ml-auto\"},[_c('b-button',{staticClass:\"pt-0 pb-0 mr-3\",class:{'bg-lt text-pr brd-ac': _vm.changedFiles.size},attrs:{\"disabled\":_vm.changedFiles.size == 0},on:{\"click\":_vm.saveProject}},[_vm._v(\"Сохранить\")]),_c('b-button',{staticClass:\"pt-0 pb-0 bg-lt text-pr brd-ac\",on:{\"click\":_vm.runProject}},[_vm._v(\"Заупстить\")])],1)],1),(!_vm.isEditFile)?_c('b-row',{staticClass:\"m-0 p-3\",attrs:{\"cols\":\"5\"}},_vm._l((_vm.files),function(file,ix){return _c('b-col',{key:ix,staticClass:\"p-1\"},[_c('b-card',{class:(\"onhover_br-primary bg-pr text-center \" + (_vm.changedFiles.has(file[0]) ? 'brd-ac' : 'brd-se')),attrs:{\"footer-class\":(\"text-nowrap p-1 text-center bg-lt \" + (_vm.changedFiles.has(file[0]) ? 'text-pr' : 'text-light')),\"footer\":file[1].title},on:{\"click\":function($event){return _vm.editFile(file[0], file[1], file[2])}}},[_c('b-icon',{class:'iconcol-'+file[0],attrs:{\"icon\":_vm.reskeyToIconAssociations[file[0]],\"font-scale\":\"12\"}})],1)],1)}),1):_c('div',{staticClass:\"w-100\",staticStyle:{\"height\":\"90%\"}},[(_vm.sFile.schema.widget === 'mapeditor')?_c('MapEditor',{ref:\"editor\",attrs:{\"schema\":_vm.sFile.schema,\"value\":_vm.sFile.data,\"editor\":_vm.editor},on:{\"change\":_vm.markChanged,\"commit\":_vm.commitFileChanges}}):(_vm.sFile.schema.widget === 'audres')?_c('AudioRes',{attrs:{\"editor\":_vm.editor,\"schema\":_vm.sFile.schema,\"data\":_vm.sFile.data},on:{\"change\":_vm.markChanged,\"commit\":_vm.commitFileChanges}}):(_vm.sFile.schema.widget === 'animres')?_c('AnimRes',{attrs:{\"editor\":_vm.editor,\"schema\":_vm.sFile.schema,\"data\":_vm.sFile.data},on:{\"change\":_vm.markChanged,\"commit\":_vm.commitFileChanges}}):(_vm.sFile.schema.widget === 'datares')?_c('DataRes',{attrs:{\"editor\":_vm.editor,\"schema\":_vm.sFile.schema,\"data\":_vm.sFile.data},on:{\"change\":_vm.markChanged,\"commit\":_vm.commitFileChanges}}):(_vm.sFile.schema.widget === 'imgres')?_c('ImageResourses',{attrs:{\"editor\":_vm.editor,\"schema\":_vm.sFile.schema,\"data\":_vm.sFile.data},on:{\"change\":_vm.markChanged,\"commit\":_vm.commitFileChanges}}):(_vm.sFile.schema.widget === 'form')?_c('FormSchema',{staticClass:\"w-75 m-4\",attrs:{\"editor\":_vm.editor,\"schema\":_vm.sFile.schema,\"value\":_vm.sFile.data},on:{\"change\":_vm.markChanged,\"commit\":_vm.commitFileChanges}}):(_vm.sFile.schema.widget === 'rulesres')?_c('b-container',{staticClass:\"h-100 text-light m-2 p-1\",attrs:{\"fluid\":\"\"}},[_c('RulesEditor',{staticStyle:{\"height\":\"calc(100% - 8vh)\"},attrs:{\"editor\":_vm.editor,\"schema\":_vm.sFile.schema,\"value\":_vm.sFile.data},on:{\"change\":_vm.markChanged,\"commit\":_vm.commitFileChanges}})],1):_c('b-container',{staticClass:\"t-b text-light text-center\"},[_vm._v(\" Виджет для данного типа отстутствует \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mx-auto bg-pr brd-se text-light p-2\",staticStyle:{\"border\":\"2px solid\",\"max-height\":\"80vh\",\"overflow-x\":\"hidden\",\"overflow-y\":\"auto\"}},[(_vm.isRequiresRules)?_c('b-button',{staticClass:\"w-25 mb-1\",attrs:{\"variant\":\"success\"},on:{\"click\":function($event){_vm.isEditRules = !_vm.isEditRules}}},[_vm._v(_vm._s(_vm.isEditRules?'Данные':'Правила'))]):_vm._e(),_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isEditRules),expression:\"isEditRules\"}],staticClass:\"w-25 mb-1 ml-2\",attrs:{\"variant\":\"primary\",\"disabled\":_vm.isHasInvalid || !_vm.isHasChanges},on:{\"click\":function($event){$event.preventDefault();return _vm.commit($event)}}},[_vm._v(\"Сохранить\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isEditRules),expression:\"!isEditRules\"}],staticClass:\"m-0 p-0 h-75\"},[_vm._l((_vm.val),function(p,k){return _c('Field',{key:k,attrs:{\"model\":[_vm.val, k],\"schema\":_vm.schema.properties[k],\"val\":p,\"isreq\":_vm.requiredFields.has(k),\"data\":_vm.data},on:{\"change\":function($event){_vm.isHasChanges = true},\"validator\":function (isInv) { return _vm.isHasInvalid = isInv; }}})}),_c('b-row',{staticClass:\"mt-4\",attrs:{\"align-h\":\"center\",\"cols\":\"3\"}},[_c('b-button',{attrs:{\"variant\":\"primary\",\"disabled\":_vm.isHasInvalid || !_vm.isHasChanges},on:{\"click\":function($event){$event.preventDefault();return _vm.commit($event)}}},[_vm._v(\"Сохранить\")])],1)],2),(_vm.isRequiresRules && _vm.isEditRules)?_c('RulesEditor',{ref:\"rlsparser\",attrs:{\"editor\":_vm.editor,\"schema\":_vm.schema.properties.rls,\"value\":_vm.rls},on:{\"change\":function($event){_vm.isHasChanges = true},\"commit\":function (data) { return _vm.rls = data; }}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',{staticClass:\"m-1 w-100\"},[(!_vm.isSpecial)?_c('b-col',{staticClass:\"text-nowrap text-right\",attrs:{\"cols\":\"2\"}},[_vm._v(\" \"+_vm._s(_vm.schema.title + ': ')+\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isreq),expression:\"isreq\"}],staticClass:\"text-warning\"},[_vm._v(\"*\")])]):_vm._e(),_c('b-col',{staticClass:\"form_input-cnt\",class:{'w-100': _vm.isSpecial}},[(_vm.schema.widget === 'image')?_c('SelectImage',{attrs:{\"schema\":_vm.schema,\"model\":function (val) { return _vm.v = val; },\"value\":_vm.v}}):(_vm.schema.widget === 'audio')?_c('SelectAudio',{attrs:{\"schema\":_vm.schema,\"model\":function (val) { return _vm.v = val; },\"value\":_vm.v}}):(_vm.selectList.length)?_c('b-form-select',{attrs:{\"size\":\"sm\"},model:{value:(_vm.v),callback:function ($$v) {_vm.v=$$v},expression:\"v\"}},_vm._l((_vm.selectList),function(val,ix){return _c('b-form-select-option',{key:ix,attrs:{\"value\":_vm.isTarIndex ? ix : val,\"state\":_vm.isValid}},[_vm._v(\" \"+_vm._s(val)+\" \")])}),1):(_vm.schema.enum)?_c('b-form-select',{attrs:{\"size\":\"sm\"},model:{value:(_vm.v),callback:function ($$v) {_vm.v=$$v},expression:\"v\"}},_vm._l((_vm.schema.enum),function(val){return _c('b-form-select-option',{key:val,attrs:{\"value\":val,\"state\":_vm.isValid}},[_vm._v(\" \"+_vm._s(val)+\" \")])}),1):(_vm.schema.widget === 'textarea')?_c('b-form-textarea',{attrs:{\"size\":\"sm\",\"placeholder\":_vm.schema.example,\"rows\":_vm.v != null? Math.min(Math.max((_vm.v.match(/\\n/g) || []).length+1, 4), 12) : 4,\"state\":_vm.isValid},model:{value:(_vm.v),callback:function ($$v) {_vm.v=$$v},expression:\"v\"}}):(_vm.schema.type === 'boolean')?_c('b-form-checkbox',{attrs:{\"size\":\"lg\",\"state\":_vm.isValid},model:{value:(_vm.v),callback:function ($$v) {_vm.v=$$v},expression:\"v\"}}):_c('FInput',{attrs:{\"schema\":_vm.schema,\"model\":function (val) { return _vm.v = val; },\"value\":_vm.v,\"state\":_vm.isValid}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"text-light m-0 p-0\",attrs:{\"align-h\":\"center\",\"cols\":\"3\"}},[_c('b-form-file',{staticClass:\"m-0 p-0\",attrs:{\"accept\":_vm.schema._accept,\"state\":_vm.state,\"placeholder\":\"Выберите аудио-файл\",\"drop-placeholder\":\"Drop file here...\",\"browse-text\":\"Выбрать\"},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}}),_c('b-row',{staticClass:\"m-0 p-0\"},[_c('AudioPlayer',{attrs:{\"src\":_vm.asBase64,\"vol\":_vm.vol}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function (file, defaultVal) {\r\n  return new Promise((success, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => success(reader.result);\r\n    reader.onerror = () => reject(defaultVal);\r\n  });\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',{staticClass:\"w-100 m-0 bg-dark p-2\"},[_c('audio',{ref:\"audio_player\",attrs:{\"src\":_vm.src,\"autoplay\":_vm.isAutoPlay,\"loop\":_vm.isRepeat},on:{\"timeupdate\":_vm.timeupdate}}),_c('b-row',{staticClass:\"w-100 m-0\"},[_c('b-button',{staticClass:\"mr-1\",attrs:{\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":_vm.play}},[_vm._v(\"Play\")]),_c('b-button',{staticClass:\"mr-1\",attrs:{\"size\":\"sm\",\"variant\":\"primary\"},on:{\"click\":_vm.pause}},[_vm._v(\"Pause\")]),_c('b-button',{staticClass:\"mr-3\",attrs:{\"size\":\"sm\",\"variant\":\"danger\"},on:{\"click\":_vm.stop}},[_vm._v(\"Stop\")]),_c('b-button',{staticClass:\"mr-1\",class:{'bg-dark' : _vm.isRepeat},attrs:{\"size\":\"sm\"},on:{\"click\":function($event){_vm.isRepeat = !_vm.isRepeat}}},[_vm._v(\"Repeat\")]),_c('b-button',{staticClass:\"mr-3\",class:{'bg-dark' : _vm.isAutoPlay},attrs:{\"size\":\"sm\"},on:{\"click\":function($event){_vm.isAutoPlay = !_vm.isAutoPlay}}},[_vm._v(\"AutoPlay\")]),_c('b-form-input',{staticClass:\"h-100 w-25\",attrs:{\"type\":\"range\",\"max\":\"10\"},on:{\"mousewheel\":_vm.rangeWhell},model:{value:(_vm.volume),callback:function ($$v) {_vm.volume=$$v},expression:\"volume\"}}),_vm._v(\" \"+_vm._s(_vm.src ? (_vm.getFileSize(_vm.src)/1000)+' Kb' : '')+\" \")],1),_c('div',{ref:\"audio_player_progress\",staticClass:\"w-100\",staticStyle:{\"height\":\"2vh\"},on:{\"click\":_vm.setProgress}},[_c('b-progress',{staticClass:\"h-100 w-100 mt-1 bg-secondary\"},[_c('b-progress-bar',{attrs:{\"value\":_vm.cur*100,\"max\":_vm.max*100,\"variant\":\"danger\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// SOURCE: https://stackoverflow.com/questions/23318037/size-of-json-object-in-kbs-mbs\r\n\r\nexport default function lengthInUtf8Bytes(str) {\r\n  var m = encodeURIComponent(str).match(/%[89ABab]/g);\r\n  return str.length + (m ? m.length : 0);\r\n}","<template>\r\n  <b-row class=\"w-100 m-0 bg-dark p-2\">\r\n    <audio ref=\"audio_player\" :src=\"src\" :autoplay=\"isAutoPlay\" :loop=\"isRepeat\" @timeupdate=\"timeupdate\"></audio>\r\n    <b-row class=\"w-100 m-0\">\r\n      <b-button size=\"sm\" class=\"mr-1\" variant=\"success\" @click=\"play\">Play</b-button>\r\n      <b-button size=\"sm\" class=\"mr-1\" variant=\"primary\" @click=\"pause\">Pause</b-button>\r\n      <b-button size=\"sm\" class=\"mr-3\" variant=\"danger\" @click=\"stop\">Stop</b-button>\r\n\r\n      <b-button size=\"sm\" class=\"mr-1\" @click=\"isRepeat = !isRepeat\" :class=\"{'bg-dark' : isRepeat}\">Repeat</b-button>\r\n      <b-button size=\"sm\" class=\"mr-3\" @click=\"isAutoPlay = !isAutoPlay\" :class=\"{'bg-dark' : isAutoPlay}\">AutoPlay</b-button>\r\n      \r\n      <b-form-input class=\"h-100 w-25\" type=\"range\" max=\"10\" v-model=\"volume\" @mousewheel=\"rangeWhell\"></b-form-input>\r\n      {{src ? (getFileSize(src)/1000)+' Kb' : ''}}\r\n    </b-row>\r\n    <div ref=\"audio_player_progress\" style=\"height: 2vh\" class=\"w-100\" @click=\"setProgress\">\r\n      <b-progress class=\"h-100 w-100 mt-1 bg-secondary\">\r\n        <b-progress-bar :value=\"cur*100\" :max=\"max*100\" variant=\"danger\"/>\r\n      </b-progress>\r\n    </div>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\nimport getFileSize from '../../helpers/getJSONSizeInBytes'\r\n\r\nconst steps = 10;\r\nlet el_progbar;\r\n\r\nexport default {\r\n  // components: {},\r\n  // filters: {},\r\n  props: ['src', 'vol'],\r\n  data() {\r\n    return {\r\n      cur: 0,\r\n      max: 0,\r\n      volume: 0,\r\n      isRepeat: false,\r\n      isAutoPlay: true,\r\n    };\r\n  },\r\n  // computed: {},\r\n  watch: {\r\n    volume(v){\r\n      el_progbar.volume = v/steps;\r\n    }\r\n  },\r\n  mounted(){\r\n    this.volume = this.vol * steps;\r\n    el_progbar = this.$refs.audio_player;\r\n  },\r\n  methods: {\r\n    getFileSize,\r\n    play(){\r\n      el_progbar.play();\r\n    },\r\n    pause(){\r\n      el_progbar.pause();\r\n    },\r\n    stop(){\r\n      this.pause();\r\n      el_progbar.currentTime = 0;\r\n    },\r\n    timeupdate(){\r\n      this.cur = el_progbar.currentTime;\r\n      this.max = el_progbar.duration;\r\n    },\r\n    rangeWhell(e){\r\n      const delY = e.deltaY\r\n      this.volume -= delY>0 ? 1 : -1;\r\n    },\r\n    setProgress(e){\r\n      const tarEl = this.$refs.audio_player_progress;\r\n      const maxWidth = +getComputedStyle(tarEl).width.replace(/px/,'');\r\n      const progress = e.offsetX / maxWidth;\r\n      el_progbar.currentTime = this.cur = this.max * progress;\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioPlayer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioPlayer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AudioPlayer.vue?vue&type=template&id=d47198e4&\"\nimport script from \"./AudioPlayer.vue?vue&type=script&lang=js&\"\nexport * from \"./AudioPlayer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <b-container class=\"text-light m-0 p-0\" align-h=\"center\" cols=\"3\">\r\n    <b-form-file\r\n      class=\"m-0 p-0\"\r\n      v-model=\"file\"\r\n      :accept=\"schema._accept\"\r\n      :state=\"state\"\r\n      placeholder=\"Выберите аудио-файл\"\r\n      drop-placeholder=\"Drop file here...\"\r\n      browse-text=\"Выбрать\"\r\n    />\r\n    <b-row class=\"m-0 p-0\">\r\n      <AudioPlayer :src=\"asBase64\" :vol=\"vol\"/>\r\n    </b-row>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport getBase64 from '../../helpers/fileToBase64'\r\nimport AudioPlayer from './AudioPlayer'\r\n\r\nexport default {\r\n  components: {\r\n    AudioPlayer,\r\n  },\r\n  // filters: {},\r\n  props: ['schema', 'value', 'model'],\r\n  data() {\r\n    return {\r\n      file: null,\r\n      asBase64: this.value || '',\r\n      state: null,\r\n      vol: window.$data.aud.vol,\r\n    };\r\n  },\r\n  // computed: {},\r\n  watch: {\r\n    async file(v){\r\n      this.asBase64 = await getBase64(v, '');\r\n      if(this.schema && !(new RegExp(this.schema.pattern||'.').test(this.asBase64))){\r\n        this.state = false;\r\n      }else{\r\n        this.state = null;\r\n      }\r\n      // console.log('Audio file:');\r\n      // console.dir({v, data: this.asBase64, state: this.state, schema: this.schema});\r\n      this.model(this.asBase64);\r\n    },\r\n  },\r\n  // methods: {},\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Audio.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Audio.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Audio.vue?vue&type=template&id=2a387956&\"\nimport script from \"./Audio.vue?vue&type=script&lang=js&\"\nexport * from \"./Audio.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"text-light p-3\",attrs:{\"align-h\":\"center\",\"cols\":\"3\"}},[_c('b-form-file',{attrs:{\"accept\":_vm.schema._accept,\"state\":_vm.state,\"placeholder\":\"Выберите файл формата PNG\",\"drop-placeholder\":\"Drop file here...\"},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}}),_c('b-row',{staticClass:\"mt-4\"},[_c('img-pixel',{staticClass:\"w-100\",staticStyle:{\"height\":\"50vh\",\"background-position\":\"center top !important\"},attrs:{\"src\":_vm.asBase64}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-container class=\"text-light p-3\" align-h=\"center\" cols=\"3\">\r\n    <b-form-file\r\n      v-model=\"file\"\r\n      :accept=\"schema._accept\"\r\n      :state=\"state\"\r\n      placeholder=\"Выберите файл формата PNG\"\r\n      drop-placeholder=\"Drop file here...\"\r\n    ></b-form-file>\r\n    <b-row class=\"mt-4\">\r\n      <img-pixel\r\n        class=\"w-100\"\r\n        style=\"height: 50vh; background-position: center top !important;\"\r\n        :src=\"asBase64\"\r\n      />\r\n      \r\n      <!-- <b-col class=\"t-b\">\r\n        Размер: {{ file && file.size || '*'}} bite<br>\r\n        Тип: {{ file && file.type || '*'}}\r\n      </b-col> -->\r\n    </b-row>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport getBase64 from '../../helpers/fileToBase64';\r\n\r\nexport default {\r\n  // components: {},\r\n  // filters: {},\r\n  props: ['schema', 'value', 'model'],\r\n  data() {\r\n    return {\r\n      file: null,\r\n      asBase64: this.value || '',\r\n      state: null,\r\n    };\r\n  },\r\n  // computed: {},\r\n  watch: {\r\n    async file(v){\r\n      this.asBase64 = await getBase64(v, '');\r\n      if(this.schema && !(new RegExp(this.schema.pattern||'.').test(this.asBase64))){\r\n        this.state = false;\r\n      }else{\r\n        this.state = null;\r\n      }\r\n      // console.log('Img file:');\r\n      // console.dir({v, data: this.asBase64, state: this.state, schema: this.schema});\r\n      this.model(this.asBase64);\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Image.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Image.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Image.vue?vue&type=template&id=045f2892&\"\nimport script from \"./Image.vue?vue&type=script&lang=js&\"\nexport * from \"./Image.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form-input',{attrs:{\"type\":_vm.itype,\"placeholder\":_vm.schema.example,\"min\":_vm.schema.minimum,\"max\":_vm.schema.maximum,\"minLength\":_vm.schema.minLength,\"maxLength\":_vm.schema.maxLength,\"value\":_vm.value,\"state\":_vm.state},on:{\"change\":_vm.normalize,\"input\":_vm.model}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-form-input\r\n      :type=\"itype\"\r\n      :placeholder=\"schema.example\"\r\n      :min=\"schema.minimum\"\r\n      :max=\"schema.maximum\"\r\n      :minLength=\"schema.minLength\"\r\n      :maxLength=\"schema.maxLength\"\r\n      :value=\"value\"\r\n      @change=\"normalize\"\r\n      @input=\"model\"\r\n      :state=\"state\"\r\n    />\r\n      <!-- size=\"sm\" -->\r\n      <!-- v-model=\"model\" -->\r\n      <!-- :formatter=\"schema.pattern\" -->\r\n</template>\r\n\r\n<script>\r\nconst typeAssociations = {\r\n  string: 'text',\r\n  number: 'number',\r\n  integer: 'number',\r\n  // integer: '',\r\n}\r\n\r\nexport default {\r\n  // data() {\r\n  //   return {\r\n  //   };\r\n  // },\r\n  props: ['schema', 'value', 'model', 'state'],\r\n  // components: {}\r\n  methods: {\r\n    normalize(){\r\n      let v;\r\n      switch (this.itype) {\r\n        case 'number':\r\n          v = +this.$el.value.replace(/[^.\\d-]/g, '');\r\n\r\n          if(isNaN(v) || this.schema.minimum>this.$el.value){\r\n            v = this.schema.minimum\r\n          }else if(this.schema.maximum<this.$el.value){\r\n            v = this.schema.maximum\r\n          }\r\n          if(this.schema.type==='integer'){\r\n            v = Math.trunc(v);\r\n          }\r\n          // console.table([this.$el.value,v]);\r\n          this.$el.value = v\r\n          break;\r\n      \r\n        // default:\r\n        //   break;\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    itype(){\r\n      return typeAssociations[this.schema.type];\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Input.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Input.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Input.vue?vue&type=template&id=2bd1eada&\"\nimport script from \"./Input.vue?vue&type=script&lang=js&\"\nexport * from \"./Input.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n  \"obj.obj2:key?key=val\"\r\n  1)  obj.obj2  - поля, по которым нужно сделать проход\r\n  2)? :key      - ключ для целевых данных, дочерних объектов вернувшегося массива после первого шага\r\n  2)? ?key=val  - условие соответствия поля для данного для объекта\r\n\r\n*/\r\n\r\nexport default function(inObject, link){ // \"obj.obj2:key#\" => [\"obj.obj2\", \"key#\"] => [[\"obj\", \"obj2\"], \"key#\"] (Шаги, искомые поля)\r\n  let [stepsChain, finder] = link.split(':');\r\n  const steps = stepsChain.split('.');\r\n  let res = inObject;\r\n  for (let i = 0; i < steps.length; i++) {\r\n    res = res[steps[i]];\r\n    if(res === undefined){\r\n      return res;\r\n    }\r\n  }\r\n  if(finder){\r\n    const list = typeof res === 'object' ? Object.keys(res).map(k=>res[k]) : ( Array.isArray(res) ? res : null);\r\n    const result = [];\r\n    const [targetKey, condition] = finder.split('?')\r\n    const [cKey, cVal] = (condition || '').split('=');\r\n    list.forEach(v=>{\r\n      if(v[targetKey]){\r\n        if(condition){\r\n          if(v[cKey] == cVal){\r\n            result.push(v[targetKey])\r\n          }\r\n        }else{\r\n          result.push(v[targetKey])\r\n        }\r\n      }\r\n    })\r\n    return result;\r\n  }else{\r\n    return res;\r\n  }\r\n}","<template>\r\n  <b-row class=\"m-1 w-100\">\r\n    <b-col v-if=\"!isSpecial\" class=\"text-nowrap text-right\" cols=\"2\">\r\n      {{schema.title + ': '}}\r\n      <span v-show=\"isreq\" class=\"text-warning\">*</span>\r\n    </b-col>\r\n    <b-col class=\"form_input-cnt\" :class=\"{'w-100': isSpecial}\">\r\n\r\n      <SelectImage\r\n        v-if=\"schema.widget === 'image'\"\r\n        :schema=\"schema\"\r\n        :model=\"val => v = val\"\r\n        :value=\"v\"\r\n      />\r\n\r\n      <SelectAudio\r\n        v-else-if=\"schema.widget === 'audio'\"\r\n        :schema=\"schema\"\r\n        :model=\"val => v = val\"\r\n        :value=\"v\"\r\n      />\r\n\r\n      <!-- <List\r\n        v-else-if=\"schema.widget === 'list'\"\r\n        :schema=\"schema\"\r\n        :model=\"val => v = val\"\r\n        :value=\"v\"\r\n      /> -->\r\n\r\n      <b-form-select v-else-if=\"selectList.length\" v-model=\"v\" size=\"sm\">\r\n        <b-form-select-option v-for=\"(val, ix) in selectList\" :key=\"ix\"\r\n          :value=\"isTarIndex ? ix : val\"\r\n          :state=\"isValid\"\r\n        >\r\n          {{val}}\r\n        </b-form-select-option>\r\n      </b-form-select>\r\n      \r\n      <b-form-select v-else-if=\"schema.enum\" v-model=\"v\" size=\"sm\">\r\n        <b-form-select-option v-for=\"val in schema.enum\" :key=\"val\"\r\n          :value=\"val\"\r\n          :state=\"isValid\"\r\n        >\r\n          {{val}}\r\n        </b-form-select-option>\r\n      </b-form-select>\r\n\r\n      <b-form-textarea v-else-if=\"schema.widget === 'textarea'\"\r\n        size=\"sm\"\r\n        :placeholder=\"schema.example\"\r\n        v-model=\"v\"\r\n        :rows=\"v != null? Math.min(Math.max((v.match(/\\n/g) || []).length+1, 4), 12) : 4\" \r\n        :state=\"isValid\"\r\n      />\r\n        <!-- :rows=\"...\" - косичество строк в тексте в пределах 4-12 -->\r\n      <b-form-checkbox v-else-if=\"schema.type === 'boolean'\"\r\n        size=\"lg\"\r\n        v-model=\"v\"\r\n        :state=\"isValid\"\r\n      />\r\n\r\n      <FInput v-else\r\n        :schema=\"schema\"\r\n        :model=\"val => v = val\"\r\n        :value=\"v\"\r\n        :state=\"isValid\"\r\n      />\r\n        <!-- :model=\"v\" -->\r\n    </b-col>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\nimport SelectAudio from './Audio'\r\nimport SelectImage from './Image'\r\n// import List from './List'\r\nimport FInput from './Input'\r\nimport getDataByLink from '../../helpers/getObjectFieldByLink'\r\n\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      isValid: null,\r\n      isTarIndex: this.schema._tarIx, // для динамического ссылочный списка\r\n      isSpecial: new Set(['image', 'audio']).has(this.schema.widget),\r\n      v: this.val,\r\n    };\r\n  },\r\n  props: ['schema', 'model', 'val', 'isreq', 'data'],\r\n  components: {\r\n    FInput,\r\n    SelectAudio,\r\n    SelectImage,\r\n    // List,\r\n  },\r\n  computed: {\r\n    selectList(){// ссылочный список\r\n      if(this.schema._link){\r\n        const link = this.schema._link;\r\n        return link ? getDataByLink(this.data, link) : [];\r\n      }else if(this.schema._list){\r\n        if(this.schema._isNegat){\r\n          return [\r\n            ...this.schema._list,\r\n            ...this.schema._list.map(c=>'Not '+c)\r\n          ];\r\n        }else{\r\n          return this.schema._list;\r\n        }\r\n      }\r\n      return [];\r\n    },\r\n  },\r\n  mounted(){\r\n    console.table(this.selectList)\r\n  },\r\n  watch: {\r\n    v(v){\r\n      this.$emit('change');\r\n      let val = typeof v === 'string' ? v.trim() : v;\r\n      if(this.schema.type === 'number' && !this.schema._var){\r\n        val = val.length !== 0 ? +val : null;\r\n      }\r\n      val = ('' + val).length === 0 ? null : val;\r\n      console.dir({val});\r\n      this.model[0][this.model[1]] = val; // Передача значения форме\r\n      if((this.isreq===true || this.isreq==null) && val === ''){\r\n        this.isValid = false;\r\n      }else if(this.schema.pattern && val !== '' && !new RegExp(this.schema.pattern).test(val)){\r\n        // console.log(this.schema.pattern);\r\n        this.isValid = false;\r\n      }else {\r\n        this.isValid = null;\r\n      }\r\n      this.$emit('validator', this.isValid === false)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n  .form_input-cnt>*{\r\n    height: 100%;\r\n    /* font-size: 120%; */\r\n    /* font-weight: bold; */\r\n    /* border-color: var(--secondary); */\r\n    /* background-color: #eee; */\r\n  }\r\n  .is-invalid{\r\n    border-color: darkorange !important;\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Field.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Field.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Field.vue?vue&type=template&id=a0da538c&\"\nimport script from \"./Field.vue?vue&type=script&lang=js&\"\nexport * from \"./Field.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Field.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',{staticClass:\"h-100 m-0 p-0\",attrs:{\"fluid\":\"\"}},[_c('b-col',{staticClass:\"h-100 p-1 bg-dr brd-se\",staticStyle:{\"border\":\"2px solid\"},attrs:{\"cols\":\"3\"}},[_c('b-list-group',_vm._l((_vm.val),function(rulesPack,ix){return _c('b-list-group-item',{key:ix,staticClass:\"mt-1 p-0 pl-2 bg-pr\",class:_vm.sRPId===ix ? 'brd-ac' : 'brd-se',on:{\"click\":function($event){return _vm.selectRulesPack(ix)},\"dblclick\":function($event){return _vm.editName(ix)}}},[(_vm.sEditRPId !== ix)?_c('span',[_c('span',{staticClass:\"text-secondary\"},[_vm._v(_vm._s(ix))]),_vm._v(\" \"+_vm._s(rulesPack.n)+\" \")]):_c('b-input',{staticClass:\"m-0 bg-transparent text-light\",on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.setName(ix)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }_vm.sEditRPId=null}]},model:{value:(_vm.eName),callback:function ($$v) {_vm.eName=$$v},expression:\"eName\"}})],1)}),1),_c('b-button',{staticClass:\"w-100 mt-1 bg-lt brd-se\",attrs:{\"size\":\"sm\"},on:{\"click\":_vm.addNewRulesPack}},[_vm._v(\"+ Добавить набор правил\")])],1),(_vm.sRulesPack)?_c('b-col',{staticClass:\"h-100 \",attrs:{\"cols\":\"9\"}},[_c('b-row',{staticClass:\"m-1 w-100 bg-lt\",attrs:{\"align-v\":\"center\"}},[_c('b-icon',{staticClass:\"w-25 rulepack_stgs\",attrs:{\"icon\":\"gear\",\"font-scale\":\"3\"},on:{\"click\":function($event){return _vm.toggleStgsEditor()}}}),_c('b-card',{staticClass:\"brd-se w-75\",attrs:{\"header\":\"Событие\",\"header-class\":\"pl-2 p-0 bg-lt brd-se\",\"body-class\":\"p-0 bg-dr rl_body-evn\"}},[(_vm.sRulesPack.event)?_c('RuleRow',{attrs:{\"parser\":_vm.ruleparser,\"idc\":_vm.sRulesPack.event[0],\"args\":_vm.sRulesPack.event[1]},on:{\"click\":function($event){return _vm.editRule(false)}}}):_c('b-button',{staticClass:\"m-1 p-0 pl-3 pr-3\",attrs:{\"variant\":\"success\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.addNewRule(false)}}},[_vm._v(\"Выбрать событие\")])],1)],1),_c('b-card',{staticClass:\"m-1 w-100 brd-se\",attrs:{\"header\":\"Переменные\",\"header-class\":\"pl-2 p-0 bg-lt brd-se\",\"body-class\":\"p-0 bg-dr rl_body-vars\"}},[_vm._l((_vm.sRulesPack.vars),function(v,ix){return _c('VarRow',{key:ix,attrs:{\"data\":v},on:{\"delete\":function($event){return _vm.deleteVar(ix)}}})}),_c('b-form-input',{staticClass:\"w-25 m-1 bg-pr brd-se text-light\",on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.addVar(_vm.newVarName)}},model:{value:(_vm.newVarName),callback:function ($$v) {_vm.newVarName=$$v},expression:\"newVarName\"}})],2),_c('b-card',{staticClass:\"m-1 w-100 brd-se\",attrs:{\"header\":\"Действия\",\"header-class\":\"pl-2 p-0 bg-lt brd-se\",\"body-class\":\"p-0 bg-dr rl_body-acts\"}},[_vm._l((_vm.sRulesPack.actions),function(rulePair,ix){return _c('RuleRow',{key:ix,attrs:{\"parser\":_vm.ruleparser,\"idc\":rulePair[0],\"args\":rulePair[1]},on:{\"click\":function($event){return _vm.editRule(true, ix)}}})}),_c('b-button',{staticClass:\"m-1 p-0 pl-3 pr-3\",attrs:{\"variant\":\"success\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.addNewRule(true)}}},[_vm._v(\"Добавить действие\")])],2)],1):_vm._e(),_c('b-modal',{attrs:{\"id\":\"m_ruleedit\",\"centered\":\"\",\"hide-footer\":\"\",\"title\":_vm.e_capt,\"size\":\"xl\",\"header-class\":\"bg-lt text-light ff-main\",\"body-class\":\"bg-pr text-light ff-sec\",\"footer-class\":\"bg-dark text-light\"}},[_c('RuleEdit',{staticStyle:{\"height\":\"70vh\"},attrs:{\"projdata\":_vm.editor.project,\"parser\":_vm.ruleparser,\"typeid\":_vm.e_tid,\"ctxid\":_vm.e_cid,\"idc\":_vm.e_idc,\"arguments\":_vm.args,\"vars\":_vm.vars},on:{\"delete\":_vm.deleteRule,\"commit\":_vm.closeRuleEditor}})],1),_c('b-modal',{attrs:{\"id\":\"m_ruleedit_stgs\",\"centered\":\"\",\"hide-footer\":\"\",\"title\":\"Настройки\",\"size\":\"xl\",\"header-class\":\"bg-lt text-light ff-main\",\"body-class\":\"bg-pr text-light ff-sec\",\"footer-class\":\"bg-dark text-light\",\"no-close-on-backdrop\":\"\",\"no-close-on-esc\":\"\"}},[(_vm.sRPId && _vm.val[_vm.sRPId])?_c('FormSchemaSimple',{attrs:{\"editor\":_vm.editor,\"schema\":_vm.editor.schema_rpstgs(),\"value\":_vm.val[_vm.sRPId].s || {},\"data\":_vm.editor.project},on:{\"commit\":_vm.commitStgsChanges}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"c_rulerow m-0 pl-2 pr-2 ff-sec\",class:{inact: _vm.inactive},on:{\"click\":function($event){return _vm.$emit('click')}}},[_c('b',{style:('color:#'+_vm.colorList[_vm.ruleData.cid])},[_vm._v(_vm._s(_vm.ruleData.ctxName)+\":\")]),_vm._v(\" \"+_vm._s(_vm.ruleData.methName)+\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ruleData.methProps),expression:\"ruleData.methProps\"}],style:('color:#ccc')},[_vm._v(\" ( \"),_vm._l((_vm.ruleData.methProps),function(schema,name,ix){return _c('span',{key:ix,staticClass:\"c_param\"},[_vm._v(\" \"+_vm._s(ix===0?'':')(')+\" \"+_vm._s(name)+\" \"),(_vm.args)?_c('span',[_vm._v(\" = \"),_c('span',{staticClass:\"text-pr\"},[_vm._v(_vm._s(_vm.getValue(ix)))])]):_vm._e()])}),_vm._v(\" ) \")],2),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ruleData.args),expression:\"ruleData.args\"}],staticClass:\"text-se\"},[_vm._v(\" => [ \"),_vm._l((_vm.ruleData.args),function(name,ix){return _c('span',{key:ix,staticClass:\"c_param\"},[_vm._v(\" \"+_vm._s(ix===0?'':', ')+\" \"),_c('span',{staticClass:\"text-pr\"},[_vm._v(_vm._s(name)+\" \")])])}),_vm._v(\" ] \")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"c_rulerow m-0 pl-2 pr-2 ff-sec\" :class=\"{inact: inactive}\" @click=\"$emit('click')\">\r\n    <b :style=\"'color:#'+colorList[ruleData.cid]\">{{ruleData.ctxName}}:</b>\r\n    {{ruleData.methName}}\r\n    <span v-show=\"ruleData.methProps\" :style=\"'color:#ccc'\">\r\n      (\r\n        <span class=\"c_param\" v-for=\"(schema, name, ix) in ruleData.methProps\" :key=\"ix\">\r\n          {{ix===0?'':')('}} {{name}}\r\n          <!-- <span class=\"rr_type\" :style=\"'color:#aaa'\">\r\n            : <span>{{getType(schema)}}</span>\r\n          </span> -->\r\n          <span v-if=\"args\">\r\n            = <span class=\"text-pr\">{{getValue(ix)}}</span>\r\n          </span>\r\n        </span>\r\n      )\r\n    </span>\r\n    <span v-show=\"ruleData.args\" class=\"text-se\">\r\n      => [\r\n        <span class=\"c_param\" v-for=\"(name, ix) in ruleData.args\" :key=\"ix\">\r\n          {{ix===0?'':', '}} \r\n          <span class=\"text-pr\">{{name}} </span>\r\n        </span>\r\n      ]\r\n    </span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst colorList = ['9a74fb', '00CC00', 'f63e3e', '8888FF', 'CCFF33', 'f6ad36', '26ec89'];\r\n\r\nexport default {\r\n  props: ['inactive', 'parser', 'idc', 'args'],\r\n  data() {\r\n    return {\r\n      colorList,\r\n    };\r\n  },\r\n  computed: {\r\n    ruleData(){\r\n      return this.parser.ruleData(this.idc);\r\n    },\r\n  },\r\n  mounted(){\r\n    // console.log('[ inactive ]:');\r\n    // console.table({inactive:this.inactive});\r\n  },\r\n  methods: {\r\n    getType(schema){\r\n      let res = schema.type;\r\n      if(schema.type === 'array'){\r\n          const min = schema.minItems, max = schema.maxItems;\r\n          res = `${schema.items.type}[${min===max ? min : min+'-'+max}]`;\r\n      }\r\n      return res;\r\n    },\r\n    getValue(ix){\r\n      return ''+this.args[ix];\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n  .c_rulerow:nth-child(odd){\r\n    background-color: #00000008;\r\n  }\r\n  .c_rulerow:nth-child(even){\r\n    background-color: #ffffff08;\r\n  }\r\n  .c_rulerow:not(.inact):hover{\r\n    background-color: #fff2;\r\n    cursor: pointer;\r\n  }\r\n  .c_rulerow:not(.inact):not(:hover) .rr_type{\r\n    display: none;\r\n  }\r\n  /* .erh{\r\n    color: #9a74fb;\r\n    color: #00CC00;\r\n    color: #f63e3e;\r\n    color: #8888FF;\r\n    color: #CCFF33;\r\n    color: #f6ad36;\r\n    color: #26ec89;\r\n  } */\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RuleRow.vue?vue&type=template&id=c8d14a64&\"\nimport script from \"./RuleRow.vue?vue&type=script&lang=js&\"\nexport * from \"./RuleRow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RuleRow.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"m-0 p-0 w-100\",attrs:{\"fluid\":\"\"}},[_c('b-form-select',{staticClass:\"mb-3\",model:{value:(_vm.sidc),callback:function ($$v) {_vm.sidc=$$v},expression:\"sidc\"}},_vm._l((_vm.rulesSelect),function(methList,ctxName){return _c('b-form-select-option-group',{key:ctxName,attrs:{\"label\":ctxName}},_vm._l((methList),function(sidc,methName){return _c('b-form-select-option',{key:methName,attrs:{\"value\":sidc}},[_vm._v(\" \"+_vm._s(methName)+\" \")])}),1)}),1),_c('b-row',{staticClass:\"m-0 mb-3 p-2 bg-lt\"},[(_vm.sidc)?_c('RuleRow',{attrs:{\"inactive\":true,\"parser\":_vm.parser,\"idc\":_vm.sidc}}):_vm._e()],1),(_vm.ruleData!=null && _vm.ruleData.methProps && _vm.ruleData)?_c('b-row',{staticClass:\"m-0 p-2 bg-lt\"},_vm._l((_vm.ruleData.methProps),function(schema,name,ix){return _c('Field',{key:name,attrs:{\"model\":[_vm.args, ix],\"schema\":Object.assign({}, schema, {title: name, enum: (schema._var ? _vm.vars : null)}),\"val\":_vm.args[ix],\"data\":_vm.projdata},on:{\"change\":function($event){_vm.isHasChanges = true},\"validator\":function (isInv) { return _vm.isHasInvalid = isInv; }}})}),1):_vm._e(),_c('b-row',{staticClass:\"mt-4 w-100\",attrs:{\"align-h\":\"center\",\"cols\":\"3\"}},[_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isRequiredEdit),expression:\"isRequiredEdit\"}],attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('delete')}}},[_vm._v(\"Удалить\")]),_c('b-button',{staticClass:\"ml-2\",attrs:{\"variant\":\"primary\",\"disabled\":_vm.isHasInvalid || !_vm.isHasChanges},on:{\"click\":function($event){$event.preventDefault();return _vm.commit($event)}}},[_vm._v(\"Сохранить\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-container fluid class=\"m-0 p-0 w-100\">\r\n    <b-form-select v-model=\"sidc\" class=\"mb-3\">\r\n      <b-form-select-option-group v-for=\"(methList, ctxName) in rulesSelect\" :key=\"ctxName\"\r\n        :label=\"ctxName\"\r\n      >\r\n        <b-form-select-option v-for=\"(sidc, methName) in methList\" :key=\"methName\" :value=\"sidc\">\r\n          {{methName}}\r\n        </b-form-select-option>\r\n      </b-form-select-option-group>\r\n    </b-form-select>\r\n    <b-row class=\"m-0 mb-3 p-2 bg-lt\">\r\n      <!-- {{ruleData}} -->\r\n      <RuleRow :inactive=\"true\" v-if=\"sidc\" :parser=\"parser\" :idc=\"sidc\"/>\r\n    </b-row>\r\n    <b-row v-if=\"ruleData!=null && ruleData.methProps && ruleData\" class=\"m-0 p-2 bg-lt\">\r\n      <Field v-for=\"(schema, name, ix) in ruleData.methProps\" :key=\"name\"\r\n        :model=\"[args, ix]\"\r\n        :schema=\"{...schema, title: name, enum: (schema._var ? vars : null)}\"\r\n        :val=\"args[ix]\"\r\n        :data=\"projdata\"\r\n        @change=\"isHasChanges = true\"\r\n        @validator=\"isInv => isHasInvalid = isInv\"\r\n      />\r\n    </b-row>\r\n    <b-row class=\"mt-4 w-100\" align-h=\"center\" cols=\"3\">\r\n      <b-button v-show=\"isRequiredEdit\" @click.prevent=\"$emit('delete')\" variant=\"danger\">Удалить</b-button>\r\n      <b-button class=\"ml-2\" @click.prevent=\"commit\" variant=\"primary\" :disabled=\"isHasInvalid || !isHasChanges\">Сохранить</b-button>\r\n    </b-row>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport Field from '../../form/Field.vue'\r\nimport RuleRow from './RuleRow.vue'\r\n\r\nexport default {\r\n  components: {\r\n    Field,\r\n    RuleRow,\r\n  },\r\n  props: ['projdata', 'parser', 'typeid', 'ctxid', 'idc', 'arguments', 'vars'],\r\n  data() {\r\n    return {\r\n      sidc: this.idc, // selected id chain\r\n      args: this.arguments || [],\r\n      isHasInvalid: false,\r\n      isHasChanges: false,\r\n      isEditRules: false,\r\n      ruleData: null,\r\n    }\r\n  },\r\n  computed: {\r\n    rulesSelect(){\r\n      return this.parser.ruleList(this.typeid, this.ctxid)\r\n    },\r\n    isRequiredEdit(){\r\n      return this.idc!=null;\r\n    },\r\n  },\r\n  watch: {\r\n    sidc(){ this.refreshRuleProps(); this.isHasChanges = true },\r\n  },\r\n  mounted(){\r\n    if(this.sidc!=null){\r\n      this.refreshRuleProps();\r\n    }\r\n  },\r\n  methods: {\r\n    refreshRuleProps(){\r\n      this.ruleData = this.parser.ruleData(this.sidc);\r\n      console.table({ruleData: this.ruleData, args: this.args});\r\n    },\r\n    commit(){\r\n      \r\n      const totalVal = [ this.sidc, this.args ];\r\n      console.log('FormSchema result:');\r\n      console.dir(totalVal);\r\n      this.$emit('commit', totalVal)\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RuleEdit.vue?vue&type=template&id=c896a940&\"\nimport script from \"./RuleEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./RuleEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mx-auto bg-pr brd-se text-light p-2\",staticStyle:{\"border\":\"2px solid\",\"max-height\":\"80vh\",\"overflow-x\":\"hidden\",\"overflow-y\":\"auto\"}},[_c('div',{staticClass:\"m-0 p-0 h-75\"},[_vm._l((_vm.val),function(p,k){return _c('Field',{key:k,attrs:{\"model\":[_vm.val, k],\"schema\":_vm.schema.properties[k],\"val\":p,\"isreq\":_vm.requiredFields.has(k),\"data\":_vm.data},on:{\"change\":function($event){_vm.isHasChanges = true},\"validator\":function (isInv) { return _vm.isHasInvalid = isInv; }}})}),_c('b-row',{staticClass:\"mt-4\",attrs:{\"align-h\":\"center\",\"cols\":\"3\"}},[_c('b-button',{attrs:{\"variant\":\"primary\",\"disabled\":_vm.isHasInvalid || !_vm.isHasChanges},on:{\"click\":function($event){$event.preventDefault();return _vm.commit($event)}}},[_vm._v(\"Сохранить\")])],1)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"mx-auto bg-pr brd-se text-light p-2\" style=\"border:2px solid; max-height: 80vh; overflow-x: hidden; overflow-y: auto\">\r\n    <div class=\"m-0 p-0 h-75\">\r\n      <Field v-for=\"(p, k) in val\" :key=\"k\"\r\n        :model=\"[val, k]\"\r\n        :schema=\"schema.properties[k]\"\r\n        :val=\"p\"\r\n        :isreq=\"requiredFields.has(k)\"\r\n        :data=\"data\"\r\n        @change=\"isHasChanges = true\"\r\n        @validator=\"isInv => isHasInvalid = isInv\"\r\n      />\r\n      <b-row class=\"mt-4\" align-h=\"center\" cols=\"3\">\r\n        <!-- <b-button @click.prevent=\"cancel\" class=\"mr-2\">Отменить</b-button> -->\r\n        <b-button @click.prevent=\"commit\" variant=\"primary\" :disabled=\"isHasInvalid || !isHasChanges\">Сохранить</b-button>\r\n      </b-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Field from './form/Field'\r\nimport Convert from '../helpers/convert'\r\n\r\nexport default {\r\n  data(){\r\n    return {\r\n      val: {},\r\n      rls: this.value && this.value.rls ? Convert.copy(this.value.rls) : [],\r\n      isHasInvalid: false,\r\n      isHasChanges: false,\r\n    }\r\n  },\r\n  props: ['editor', 'schema', 'value', 'data'],\r\n  components: {\r\n    Field,\r\n  },\r\n  created(){\r\n    const privateFields = new Set(this.schema._private);\r\n    for (let key in this.schema.properties) {\r\n      if(privateFields.has(key))continue;\r\n      // NOTE: Пока не сделан виждет 'list'\r\n      if(this.schema.properties[key].widget === 'list')continue;\r\n      // NOTE: Пока не сделан виждет 'list'\r\n      if(this.value && this.value[key] !== undefined){\r\n        this.val[key] = this.value[key];\r\n      }else{\r\n        this.val[key] = null;\r\n      }\r\n    }\r\n    // console.log(`\\tОбъект редактирования данных и его схема:`);\r\n    console.log('{ FormSchemaSimple }');\r\n    console.dir({\r\n      value: this.value,\r\n      schema: this.schema,\r\n      val: this.val,\r\n    });\r\n  },\r\n  computed: {\r\n    requiredFields(){\r\n      return new Set(this.schema.required);\r\n    },\r\n  },\r\n  methods: {\r\n    // cancel(){\r\n    //   this.$emit('cancel')\r\n    // },\r\n    commit(){\r\n      if(this.$refs.rlsparser){\r\n        this.$refs.rlsparser.$destroy();\r\n      }\r\n      const totalVal = {\r\n        ...this.value,\r\n        ...this.val,\r\n      }\r\n      this.$emit('commit', totalVal)\r\n      // console.log('FormSchema result:');\r\n      // console.dir(totalVal);\r\n      // const isValid = JSONSchema.validate(this.schema, this.val);\r\n      // if(!isValid){\r\n      //   console.log(`Невалидные данные`);\r\n      //   console.dir(JSONSchema.errors);\r\n      //   return  \r\n      // }\r\n    },\r\n  },\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormSchemaSimple.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormSchemaSimple.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormSchemaSimple.vue?vue&type=template&id=cccb8c80&\"\nimport script from \"./FormSchemaSimple.vue?vue&type=script&lang=js&\"\nexport * from \"./FormSchemaSimple.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',{staticClass:\"c_varrow pl-2 m-0 p-1\"},[_c('span',{staticClass:\"w-25\"},[_vm._v(_vm._s(_vm.data[1]))]),_c('b-form-input',{staticClass:\"w-25 bg-transparent brd-se text-light\",attrs:{\"size\":\"sm\"},model:{value:(_vm.data[0]),callback:function ($$v) {_vm.$set(_vm.data, 0, $$v)},expression:\"data[0]\"}}),_c('b-button',{staticClass:\"ml-2\",attrs:{\"variant\":\"danger\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.$emit('delete')}}},[_vm._v(\"X\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-row class=\"c_varrow pl-2 m-0 p-1\">\r\n    <span class=\"w-25\">{{data[1]}}</span>\r\n    <b-form-input class=\"w-25 bg-transparent brd-se text-light\" size=\"sm\" v-model=\"data[0]\"/>\r\n    <b-button variant=\"danger\" size=\"sm\" class=\"ml-2\" @click=\"$emit('delete')\">X</b-button>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\n// const colorList = ['aa88ff', '00CC00', 'FF5555', '8888FF', 'CCFF33']\r\n\r\nexport default {\r\n  props: ['data'],\r\n  data() {\r\n    return {\r\n      // colorList,\r\n    };\r\n  },\r\n  computed: {\r\n    ruleData(){\r\n      return this.parser.ruleData(this.idc);\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n  .c_varrow:nth-child(odd){\r\n    background-color: #00000008;\r\n  }\r\n  .c_varrow:nth-child(even){\r\n    background-color: #ffffff08;\r\n  }\r\n  .c_varrow:not(:hover) button{\r\n    display: none;\r\n  }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VarRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VarRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VarRow.vue?vue&type=template&id=05e5ce21&\"\nimport script from \"./VarRow.vue?vue&type=script&lang=js&\"\nexport * from \"./VarRow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VarRow.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","function copy(obj) {\r\n  return JSON.parse(JSON.stringify(obj))  \r\n}\r\n\r\nfunction keyByIxFromObject(obj, ix) {\r\n  return Object.keys(obj)[ix];\r\n}\r\nfunction valueByIxFromObject(obj, ix) {\r\n  return obj[Object.keys(obj)[ix]];\r\n}\r\n\r\nfunction getListCaptToIdc(methList, idcPrefix) {\r\n  const list = {};\r\n  Object.keys(methList).forEach((methKey, methid)=>{\r\n    list[methKey] = idcPrefix + methid;\r\n  })\r\n  return list;\r\n}\r\n\r\nconst argPrefix = '#';\r\nconst varPrefix = '@';\r\n\r\nexport default class RulesParser {\r\n\r\n  constructor(schema) {\r\n    this.schema = schema;\r\n    // this.data = data;\r\n  }\r\n\r\n  newRulesPack(name){\r\n    return {\r\n      n: name,\r\n      e: null,\r\n      v: [],\r\n      a: [],\r\n      s: {},\r\n    }\r\n  }\r\n\r\n  rulesPack(rp){\r\n    return {\r\n      name: rp.n,\r\n      event: rp.e,\r\n      vars: rp.v,\r\n      actions: rp.a,\r\n      settings: rp.s || {},\r\n    }\r\n  }\r\n  rulesPacksVars(rp){\r\n    const evArgs = rp.e ? this.ruleData(rp.e[0]).args : null;\r\n    return [\r\n      ...(evArgs ? evArgs : []).map(v=>argPrefix + v),\r\n      ...rp.v.map(v=>varPrefix + v[1])\r\n    ];\r\n  }\r\n  rulesPacksVarsMap(rp){\r\n    const evArgs = rp.e ? this.ruleData(rp.e[0]).args : null;\r\n    return new Map(\r\n      (evArgs ? evArgs : []).map((v, ix)=>[argPrefix + v, ix])\r\n      .concat(rp.v ? rp.v.map(v=>[varPrefix + v[1], v[0]]) : []) \r\n    );\r\n  }\r\n  createGetVarValFunction(varMap, args){\r\n    return function(key){\r\n      if(typeof key !== 'string')return key;\r\n      const val = varMap.get(key);\r\n      if(key.startsWith(argPrefix)){\r\n        // console.log('createGetVarValFunction:');\r\n        // console.table({varMap, args, argPrefix});\r\n        return args[val];\r\n      }else if(key.startsWith(varPrefix)){\r\n        return val\r\n      }else{\r\n        return key\r\n      }\r\n    };\r\n  }\r\n  compressVariableNames(rulepack) {\r\n    const vars = this.rulesPacksVars(rulepack);\r\n    const aliasToIx = {};\r\n    const rp = copy(rulepack);\r\n    vars.forEach((val, ix) => aliasToIx[val] = val.match(/^./)+ix);\r\n    rp.a.forEach(rpair=>{\r\n      rpair[1] = rpair[1].map(v=>aliasToIx[v] || v)\r\n    });\r\n    // console.log('compressVariableNames:');\r\n    // console.table({aliasToIx, bef:rulepack, z_aft:rp});\r\n    return rp;\r\n  }\r\n  // replaceVariablesByIndexes(rulepack) {\r\n  //   const vars = this.rulesPacksVars(rulepack);\r\n  //   const aliasToIx = {};\r\n  //   const rp = copy(rulepack);\r\n  //   vars.forEach((val, ix) => aliasToIx[val] = ix)\r\n  //   rp.a.forEach(rpair=>{\r\n  //     rpair[1] = rpair[1].map(v=>{\r\n  //       if(typeof v === 'string' && (v.startsWith(varPrefix) ||v.startsWith(argPrefix)))\r\n  //        ? aliasToIx[v] : v\r\n  //     })\r\n  //   });\r\n  //   return rp;\r\n  // }\r\n\r\n  ruleData(idchain){\r\n    const [typeid, ctxid, methid] = idchain.split('.').map(v=>+v);\r\n    const rulesCtxs = valueByIxFromObject(this.schema, typeid);\r\n    const ctxMeths = valueByIxFromObject(rulesCtxs, ctxid);\r\n    const methodProps = copy(valueByIxFromObject(ctxMeths, methid));\r\n    const args = methodProps.$;\r\n    delete methodProps.$;\r\n\r\n    return {\r\n      tid: typeid,\r\n      cid: ctxid,\r\n      mid: methid,\r\n      isEvent: typeid===0,\r\n      isAction: typeid===1,\r\n      typeName: keyByIxFromObject(this.schema, typeid),\r\n      ctxName: keyByIxFromObject(rulesCtxs, ctxid),\r\n      methName: keyByIxFromObject(ctxMeths, methid),\r\n      methProps: Object.keys(methodProps).length !== 0 ? methodProps : null,\r\n      args,\r\n    }\r\n  }\r\n\r\n  ruleList(typeid, targCtxId){\r\n    const listOfType = valueByIxFromObject(this.schema, typeid);\r\n    const res = {};\r\n    Object.keys(listOfType).forEach((ctxKey, ctxid)=>{\r\n      if(targCtxId!=null && targCtxId !== ctxid)return;\r\n      res[ctxKey] = getListCaptToIdc(listOfType[ctxKey], `${typeid}.${ctxid}.`);\r\n    })\r\n    return res;\r\n  }\r\n}","<template>\r\n  <b-row fluid class=\"h-100 m-0 p-0\">\r\n    <b-col class=\"h-100 p-1 bg-dr brd-se\" style=\"border: 2px solid\" cols=\"3\">\r\n      <b-list-group>\r\n        <b-list-group-item v-for=\"(rulesPack, ix) in val\" :key=\"ix\"\r\n          class=\"mt-1 p-0 pl-2 bg-pr\"\r\n          :class=\"sRPId===ix ? 'brd-ac' : 'brd-se'\"\r\n          @click=\"selectRulesPack(ix)\"\r\n          @dblclick=\"editName(ix)\"\r\n        >\r\n          <span v-if=\"sEditRPId !== ix\">\r\n            <span class=\"text-secondary\" >{{ix}}</span> {{rulesPack.n}}\r\n          </span>\r\n          <b-input class=\"m-0 bg-transparent text-light\" v-model=\"eName\" @keydown.enter=\"setName(ix)\" @keydown.esc=\"sEditRPId=null\" v-else/>\r\n        </b-list-group-item>\r\n      </b-list-group>\r\n      <b-button class=\"w-100 mt-1 bg-lt brd-se\" size=\"sm\" @click=\"addNewRulesPack\">+ Добавить набор правил</b-button>\r\n    </b-col>\r\n    <b-col v-if=\"sRulesPack\" class=\"h-100 \" cols=\"9\">\r\n\r\n      <b-row class=\"m-1 w-100 bg-lt\" align-v=\"center\">\r\n        <b-icon icon=\"gear\" class=\"w-25 rulepack_stgs\" font-scale=\"3\" @click=\"toggleStgsEditor()\"/>\r\n        <b-card\r\n          header=\"Событие\"\r\n          class=\"brd-se w-75\"\r\n          header-class=\"pl-2 p-0 bg-lt brd-se\"\r\n          body-class=\"p-0 bg-dr rl_body-evn\"\r\n        >\r\n          <RuleRow \r\n            v-if=\"sRulesPack.event\"\r\n            :parser=\"ruleparser\"\r\n            :idc=\"sRulesPack.event[0]\"\r\n            :args=\"sRulesPack.event[1]\"\r\n            @click=\"editRule(false)\"\r\n          />\r\n          <b-button v-else variant=\"success\" size=\"sm\" class=\"m-1 p-0 pl-3 pr-3\" @click=\"addNewRule(false)\">Выбрать событие</b-button>\r\n        </b-card>\r\n      </b-row>\r\n\r\n      <b-card\r\n        header=\"Переменные\"\r\n        class=\"m-1 w-100 brd-se\"\r\n        header-class=\"pl-2 p-0 bg-lt brd-se\"\r\n        body-class=\"p-0 bg-dr rl_body-vars\"\r\n      >\r\n        <VarRow v-for=\"(v, ix) in sRulesPack.vars\" :key=\"ix\"\r\n          :data=\"v\"\r\n          @delete=\"deleteVar(ix)\"\r\n        />\r\n        <b-form-input class=\"w-25 m-1 bg-pr brd-se text-light\" v-model=\"newVarName\" @keydown.enter=\"addVar(newVarName)\"/>\r\n      </b-card>\r\n\r\n      <b-card\r\n        header=\"Действия\"\r\n        class=\"m-1 w-100 brd-se\"\r\n        header-class=\"pl-2 p-0 bg-lt brd-se\"\r\n        body-class=\"p-0 bg-dr rl_body-acts\"\r\n      >\r\n        <RuleRow v-for=\"(rulePair, ix) in sRulesPack.actions\" :key=\"ix\"\r\n          :parser=\"ruleparser\"\r\n          :idc=\"rulePair[0]\"\r\n          :args=\"rulePair[1]\"\r\n          @click=\"editRule(true, ix)\"\r\n        />\r\n        <b-button variant=\"success\" size=\"sm\" class=\"m-1 p-0 pl-3 pr-3\" @click=\"addNewRule(true)\">Добавить действие</b-button>\r\n      </b-card>\r\n\r\n    </b-col>\r\n    <b-modal\r\n      id=\"m_ruleedit\"\r\n      centered\r\n      hide-footer\r\n      :title=\"e_capt\"\r\n      size=\"xl\"\r\n      header-class=\"bg-lt text-light ff-main\"\r\n      body-class=\"bg-pr text-light ff-sec\"\r\n      footer-class=\"bg-dark text-light\"\r\n    >\r\n      <RuleEdit\r\n        style=\"height: 70vh\"\r\n        :projdata=\"editor.project\"\r\n        :parser=\"ruleparser\"\r\n        :typeid=\"e_tid\"\r\n        :ctxid=\"e_cid\"\r\n        :idc=\"e_idc\"\r\n        :arguments=\"args\"\r\n        :vars=\"vars\"\r\n        @delete=\"deleteRule\"\r\n        @commit=\"closeRuleEditor\"\r\n      />\r\n    </b-modal>\r\n    <b-modal\r\n      id=\"m_ruleedit_stgs\" \r\n      centered\r\n      hide-footer\r\n      title=\"Настройки\"\r\n      size=\"xl\"\r\n      header-class=\"bg-lt text-light ff-main\"\r\n      body-class=\"bg-pr text-light ff-sec\"\r\n      footer-class=\"bg-dark text-light\"\r\n      no-close-on-backdrop\r\n      no-close-on-esc\r\n    >\r\n      <FormSchemaSimple v-if=\"sRPId && val[sRPId]\"\r\n        :editor=\"editor\"\r\n        :schema=\"editor.schema_rpstgs()\"\r\n        :value=\"val[sRPId].s || {}\"\r\n        :data=\"editor.project\"\r\n        @commit=\"commitStgsChanges\"\r\n      /> \r\n        <!-- class=\"w-75 m-4\" -->\r\n        <!-- @change=\"markChanged\" -->\r\n      <!-- <b-button variant=\"success\" class=\"mx-auto mt-4 w-50\" @click=\"toggleStgsEditor(true)\">Сохранить</b-button> -->\r\n      \r\n        <!-- @validator=\"isInv => isHasInvalid = isInv\" -->\r\n        <!-- @change=\"isHasChanges = true\" -->\r\n    </b-modal>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\nimport RuleRow from './RuleRow.vue'\r\nimport RuleEdit from './RuleEdit.vue'\r\nimport FormSchemaSimple from '../../FormSchemaSimple.vue'\r\nimport VarRow from './VarRow'\r\n\r\nimport SchemasRules from '../../../../public/schemas/rules.json'\r\nimport RulesParser from '../../../helpers/rulesParser'\r\n// import Convert from '../helpers/convert'\r\n\r\nconst defaultRulePackName = '( Nameless rules pack )';\r\n\r\nexport default {\r\n  components: {\r\n    RuleRow,\r\n    RuleEdit,\r\n    VarRow,\r\n    FormSchemaSimple,\r\n  },\r\n  props: ['editor', 'schema', 'model', 'value'],\r\n  data() {\r\n    return {\r\n      e_tid: 0,\r\n      e_cid: 0,\r\n      e_idc: '',\r\n      e_capt: '',\r\n      e_isact: false,\r\n      e_ix: 0,\r\n      args: [],\r\n      // val: Convert.copy(this.value) || [],\r\n      val: this.value,\r\n      sRPId:null,\r\n      eName: '',\r\n      newVarName: '',\r\n      sEditRPId:null,\r\n      isTargetEdit: false,\r\n      sRulesPack: null,\r\n      vars: null,\r\n    };\r\n  },\r\n  computed: {\r\n    ruleparser(){\r\n      return new RulesParser(SchemasRules);\r\n    },\r\n  },\r\n  // watch: {},\r\n  mounted(){\r\n    if(this.value.length !== 0){\r\n      this.selectRulesPack(0);\r\n    }\r\n    // console.log('RulesEditor:');\r\n    // console.table({\r\n    //   '0.1.0': this.ruleparser.ruleData('0.1.0'),\r\n    //   '0.2.0': this.ruleparser.ruleData('0.2.0'),\r\n    //   '0.2.1': this.ruleparser.ruleData('0.2.1'),\r\n    //   '0.2.2': this.ruleparser.ruleData('0.2.2'),\r\n    //   '0.2.3': this.ruleparser.ruleData('0.2.3'),\r\n    //   '0.2.4': this.ruleparser.ruleData('0.2.4'),\r\n    // });\r\n  },\r\n  destroyed(){\r\n    this.$emit('commit', this.value);\r\n    this.$parent.$forceUpdate();\r\n  },\r\n  methods: {\r\n    selectRulesPack(ix = this.sRPId){\r\n      const rp = this.val[ix];\r\n\r\n      // FIXME: Костыль, добавляющий поле настроек в старые RulePair-ы\r\n      this.val[ix].s = {...this.val[ix].s}\r\n      // if(rp){\r\n      //   console.log('replaceVariablesByIndexes:');\r\n      //   console.table({\r\n      //     a_from: rp,\r\n      //     b_to: this.ruleparser.replaceVariablesByIndexes(rp),\r\n      // // const rp = RulesParser.compressVariableNames(rulespack);\r\n      //   });\r\n      // }\r\n      this.sRPId = ix;\r\n      this.sRulesPack = this.ruleparser.rulesPack(rp);\r\n      this.refreshVars();\r\n      // console.table(this.val.map(rp => rp.s));\r\n    },\r\n    refreshVars(){\r\n      const rulePack = this.val[this.sRPId];\r\n      this.vars = this.ruleparser.rulesPacksVars(rulePack);\r\n      console.log('[refreshVars] vars:');\r\n      console.table({vars: this.vars});\r\n    },\r\n    addNewRulesPack(){\r\n      const newRPId = this.val.push(this.ruleparser.newRulesPack(defaultRulePackName));\r\n      this.selectRulesPack(newRPId-1);\r\n      this.$emit('change');\r\n    },\r\n    trySetNameToCurrentRulePack(){\r\n      const evt = this.val[this.sRPId].e;\r\n      if(this.val[this.sRPId].n === defaultRulePackName && evt){\r\n        const rd = this.ruleparser.ruleData(evt[0]);\r\n        this.val[this.sRPId].n = `${rd.ctxName}: ${rd.methName}`;\r\n      }\r\n    },\r\n    editName(ix){\r\n      this.eName = this.val[ix].n;\r\n      this.sEditRPId = ix;\r\n    },\r\n    setName(ix){\r\n      this.val[ix].n = this.eName;\r\n      this.sEditRPId = null;\r\n      this.$emit('change');\r\n    },\r\n\r\n    editRule(isAction, ix){\r\n      this.isTargetEdit = true;\r\n      this.e_isact = isAction;\r\n      this.e_ix = ix;\r\n      const curRulePair = isAction ? this.val[this.sRPId].a[ix] : this.val[this.sRPId].e;\r\n      this.openRuleEditor(curRulePair[0], curRulePair[1]);\r\n    },\r\n    addNewRule(isAction){\r\n      this.isTargetEdit = false;\r\n      this.e_isact = isAction;\r\n      this.openRuleEditor();\r\n    },\r\n\r\n    openRuleEditor(idc, args = []){\r\n      this.e_capt = idc ? 'Редактирование правила' : 'Новое правило';\r\n      this.e_tid = this.e_isact ? 1 : 0;\r\n      this.e_cid = this.e_isact ? null : this.schema._ctx; // Учет контекста только для событий\r\n      this.e_idc = idc;\r\n      this.args = args;\r\n      this.$bvModal.show('m_ruleedit');\r\n    },\r\n    toggleStgsEditor(isClose = false){\r\n      if (isClose) {\r\n        this.$bvModal.hide('m_ruleedit_stgs');\r\n        this.$forceUpdate();\r\n      } else {\r\n        this.$bvModal.show('m_ruleedit_stgs');\r\n      }\r\n    },\r\n    commitStgsChanges(data){\r\n      this.val[this.sRPId].s = {...data};\r\n      this.$emit('change');\r\n      // console.log('[ commitStgsChanges ] data:');\r\n      // console.dir({\r\n      //   toRP: this.val[this.sRPId], \r\n      //   new: data,\r\n      // });\r\n      this.toggleStgsEditor(true);\r\n    },\r\n    deleteRule(){\r\n      this.$bvModal.hide('m_ruleedit');\r\n      if (this.e_isact) {\r\n        this.val[this.sRPId].a.splice(this.e_ix, 1);\r\n      }else{\r\n        this.val[this.sRPId].e = null;\r\n      }\r\n      this.selectRulesPack();\r\n      this.refreshVars();\r\n      this.$emit('change');\r\n    },\r\n    closeRuleEditor(data){\r\n      this.$bvModal.hide('m_ruleedit');\r\n      if (this.e_isact) {\r\n        const targetRuleList = this.val[this.sRPId].a;\r\n        if(this.isTargetEdit){\r\n          targetRuleList.splice(this.e_ix, 1, data);\r\n        }else{\r\n          targetRuleList.push(data);\r\n        }\r\n      }else{\r\n        this.val[this.sRPId].e = data;\r\n        this.trySetNameToCurrentRulePack();\r\n      }\r\n      this.selectRulesPack();\r\n      this.refreshVars();\r\n      this.$emit('change');\r\n      this.$forceUpdate();\r\n    },\r\n\r\n    addVar(name){\r\n      this.val[this.sRPId].v.push(['', name]);\r\n      this.refreshVars();\r\n      this.$emit('change');\r\n    },\r\n    deleteVar(ix){\r\n      this.val[this.sRPId].v.splice(ix, 1);\r\n      this.refreshVars();\r\n      this.$emit('change');\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n  .rl_body-evn{\r\n    height: 5vh;\r\n  }\r\n  .rl_body-vars{\r\n    height: 16vh;\r\n    max-height: 16vh;\r\n    overflow-y: auto;\r\n  }\r\n  .rl_body-acts{\r\n    height: 52vh;\r\n    max-height: 52vh;\r\n    overflow-y: auto;\r\n  }\r\n\r\n  .rulepack_stgs:hover{\r\n    color: var(--t-primary);\r\n  }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RulesEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RulesEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RulesEditor.vue?vue&type=template&id=3effa5b6&\"\nimport script from \"./RulesEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./RulesEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RulesEditor.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"mx-auto bg-pr brd-se text-light p-2\" style=\"border:2px solid; max-height: 80vh; overflow-x: hidden; overflow-y: auto\">\r\n    <b-button v-if=\"isRequiresRules\" class=\"w-25 mb-1\" variant=\"success\" @click=\"isEditRules = !isEditRules\">{{isEditRules?'Данные':'Правила'}}</b-button>\r\n    <b-button v-show=\"isEditRules\" class=\"w-25 mb-1 ml-2\" @click.prevent=\"commit\" variant=\"primary\" :disabled=\"isHasInvalid || !isHasChanges\">Сохранить</b-button>\r\n    <div v-show=\"!isEditRules\" class=\"m-0 p-0 h-75\">\r\n      <Field v-for=\"(p, k) in val\" :key=\"k\"\r\n        :model=\"[val, k]\"\r\n        :schema=\"schema.properties[k]\"\r\n        :val=\"p\"\r\n        :isreq=\"requiredFields.has(k)\"\r\n        :data=\"data\"\r\n        @change=\"isHasChanges = true\"\r\n        @validator=\"isInv => isHasInvalid = isInv\"\r\n      />\r\n      <b-row class=\"mt-4\" align-h=\"center\" cols=\"3\">\r\n        <!-- <b-button @click.prevent=\"cancel\" class=\"mr-2\">Отменить</b-button> -->\r\n        <b-button @click.prevent=\"commit\" variant=\"primary\" :disabled=\"isHasInvalid || !isHasChanges\">Сохранить</b-button>\r\n      </b-row>\r\n    </div>\r\n    <RulesEditor v-if=\"isRequiresRules && isEditRules\"\r\n      ref=\"rlsparser\"\r\n      :editor=\"editor\"\r\n      :schema=\"schema.properties.rls\"\r\n      :value=\"rls\"\r\n      @change=\"isHasChanges = true\"\r\n      @commit=\"data => rls = data\" \r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Field from './form/Field'\r\nimport RulesEditor from './editor/rules/RulesEditor'\r\nimport Convert from '../helpers/convert'\r\n\r\nexport default {\r\n  data(){\r\n    return {\r\n      val: {},\r\n      rls: this.value && this.value.rls ? Convert.copy(this.value.rls) : [],\r\n      isHasInvalid: false,\r\n      isHasChanges: false,\r\n      isRequiresRules: false,\r\n      isEditRules: false,\r\n    }\r\n  },\r\n  props: ['editor', 'schema', 'value', 'data'],\r\n  components: {\r\n    Field,\r\n    RulesEditor,\r\n  },\r\n  created(){\r\n    const privateFields = new Set(this.schema._private);\r\n    for (let key in this.schema.properties) {\r\n      if(key === 'rls')this.isRequiresRules = true;\r\n      if(privateFields.has(key))continue;\r\n      // NOTE: Пока не сделан виждет 'list'\r\n      if(this.schema.properties[key].widget === 'list')continue;\r\n      // NOTE: Пока не сделан виждет 'list'\r\n      if(this.value && this.value[key] !== undefined){\r\n        this.val[key] = this.value[key];\r\n      }else{\r\n        this.val[key] = null;\r\n      }\r\n    }\r\n    // console.log(`\\tОбъект редактирования данных и его схема:`);\r\n    // console.dir(this.val);\r\n    // console.dir(this.schema);\r\n  },\r\n  computed: {\r\n    requiredFields(){\r\n      return new Set(this.schema.required);\r\n    },\r\n  },\r\n  methods: {\r\n    // cancel(){\r\n    //   this.$emit('cancel')\r\n    // },\r\n    commit(){\r\n      if(this.isRequiresRules && this.$refs.rlsparser){\r\n        this.$refs.rlsparser.$destroy();\r\n      }\r\n      const totalVal = {\r\n        ...this.value,\r\n        rls: this.rls,\r\n        ...this.val,\r\n      }\r\n      this.$emit('commit', totalVal)\r\n      // console.log('FormSchema result:');\r\n      // console.dir(totalVal);\r\n      // const isValid = JSONSchema.validate(this.schema, this.val);\r\n      // if(!isValid){\r\n      //   console.log(`Невалидные данные`);\r\n      //   console.dir(JSONSchema.errors);\r\n      //   return  \r\n      // }\r\n    },\r\n  },\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormSchema.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormSchema.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormSchema.vue?vue&type=template&id=369743a0&\"\nimport script from \"./FormSchema.vue?vue&type=script&lang=js&\"\nexport * from \"./FormSchema.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"m-0 p-0 h-100 w-100 t-b\",attrs:{\"fluid\":\"\"}},[(_vm.isEditMode)?_c('b-row',{staticClass:\"m-1\"},[_c('b-button-group',{staticClass:\"mr-2 w-25\"}),_c('b-dd',{attrs:{\"menu-class\":\"b_dd-menu brd-se bg-dr p-1\",\"toggle-class\":\"bg-pr p-1 m-0 brd-se\",\"no-caret\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('img-pixel',{staticClass:\"b_blockcolor brd-se\",staticStyle:{\"float\":\"left\"},attrs:{\"src\":_vm.blocks[_vm.sBlockId].i,\"color\":_vm.blocks[_vm.sBlockId].c}}),_c('img-pixel',{staticClass:\"ml-1 b_blockcolor-mini brd-ac\",staticStyle:{\"float\":\"left\"},attrs:{\"src\":_vm.blocks[_vm.sBlockIdAlt].i,\"color\":_vm.blocks[_vm.sBlockIdAlt].c}})]},proxy:true}],null,false,3080826508)},[_c('b-row',{staticClass:\"m-1\"},_vm._l((_vm.blocks),function(b,ix){return _c('div',{key:ix,staticClass:\"b_selblock mr-1 mb-1\",class:{'border-warning': _vm.sBlockId === ix, 'border-primary': _vm.sBlockIdAlt === ix},on:{\"click\":function($event){return _vm.selectBlock(ix)},\"contextmenu\":function($event){return _vm.selectBlock(ix, true)}}},[_c('img-pixel',{attrs:{\"src\":b.i,\"color\":b.c}})],1)}),0),_c('b-row',{staticClass:\"m-0 p-2 bg-pr brd-se text-light\",staticStyle:{\"border\":\"2px solid\"}},[_c('div',{staticClass:\"b_blockcolor border-0 mr-2\",style:('background: #' + _vm.blocks[_vm.sBlockId].c)}),_c('span',{staticClass:\"t-b\"},[_vm._v(_vm._s(_vm.blocks[_vm.sBlockId].n))])])],1),(_vm.structs.length>1)?_c('b-dd',{attrs:{\"menu-class\":\"b_dd-menu bg-dark p-0\",\"toggle-class\":\"p-1 m-0\",\"no-caret\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('img-pixel',{staticClass:\"b_blockcolor border-warning\",staticStyle:{\"float\":\"left\"},attrs:{\"src\":_vm.structs[_vm.sStructId].i,\"color\":_vm.structs[_vm.sStructId].c}}),_c('img-pixel',{staticClass:\"ml-1 b_blockcolor-mini border-primary\",staticStyle:{\"float\":\"left\"},attrs:{\"src\":_vm.structs[_vm.sStructIdAlt].i,\"color\":_vm.structs[_vm.sStructIdAlt].c}})]},proxy:true}],null,false,4223346398)},[_c('b-row',{staticClass:\"m-1\"},_vm._l((_vm.structs),function(b,ix){return _c('div',{key:ix,staticClass:\"b_selblock mr-1 mb-1\",class:{'border-warning': _vm.sStructId === ix, 'border-primary': _vm.sStructIdAlt === ix},on:{\"click\":function($event){return _vm.selectStruct(ix)},\"contextmenu\":function($event){return _vm.selectStruct(ix, true)}}},[_c('img-pixel',{attrs:{\"src\":b.i,\"color\":b.c}})],1)}),0),_c('b-row',{staticClass:\"m-0 p-2 bg-secondary text-light\"},[_c('div',{staticClass:\"b_blockcolor border-0 mr-2\",style:('background: #' + _vm.blocks[_vm.sStructId].c)}),_c('span',{staticClass:\"t-b\"},[_vm._v(_vm._s(_vm.blocks[_vm.sStructId].n))])])],1):_vm._e()],1):_vm._e(),(!_vm.isEditMode)?_c('b-row',{staticClass:\"p-2 text-light\"},[_c('b-col',{attrs:{\"cols\":\"4\"}},_vm._l((_vm.maps),function(map,id){return _c('b-card',{key:id,staticClass:\"bg-pr\",class:{'brd-ac': _vm.sMapId === id},on:{\"dblclick\":function($event){return _vm.selectMap(id)}}},[_vm._v(\" #\"+_vm._s(id)+\" \"+_vm._s(map.m.n || '(Без имени)')+\" \")])}),1),_c('b-col',{attrs:{\"cols\":\"8\"}},[_c('FormSchema',{attrs:{\"editor\":_vm.editor,\"schema\":_vm.editor.schema_map().properties.m,\"value\":_vm.maps[_vm.sMapId].m},on:{\"commit\":_vm.commitMapManifestChanges}})],1)],1):_vm._e(),_c('b-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isEditMode),expression:\"isEditMode\"}],staticClass:\"m-0 p-0 w-100\"},[_c('b-col',{staticClass:\"p-2\",attrs:{\"cols\":\"3\"}},[_c('PropsList',{ref:\"propslist\",attrs:{\"value\":_vm.blockPropsData},on:{\"commit\":_vm.blockPropsCB}})],1),_c('b-col',{staticClass:\"p-0\",attrs:{\"cols\":\"9\"}},[_c('div',{staticClass:\"h-100 w-100 brd-se\",attrs:{\"id\":\"screen_editor\"}})])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('b-row',[_c('b-col',{staticClass:\"p-0\"},[_c('b-form-input',{model:{value:(_vm.newField),callback:function ($$v) {_vm.newField=$$v},expression:\"newField\"}})],1),_c('b-col',{staticClass:\"p-0\"},[_c('b-button',{staticClass:\"w-100\",attrs:{\"disabled\":_vm.newField === '' || _vm.data.has(_vm.newField),\"variant\":\"success\"},on:{\"click\":function($event){return _vm.set(_vm.newField)}}},[_vm._v(\"Добавить\")])],1),_c('b-col',{staticClass:\"p-0\"},[_c('b-button',{staticClass:\"w-100\",attrs:{\"disabled\":!_vm.isChanged,\"variant\":\"primary\"},on:{\"click\":_vm.commit}},[_vm._v(\"Сохранить\")])],1)],1),_vm._l((_vm.data.entries()),function(pair){return _c('b-row',{key:pair[0]},[_c('b-col',{staticClass:\"p-0\"},[_c('b-form-input',{staticClass:\"t-b\",attrs:{\"value\":pair[0],\"disabled\":\"\"}})],1),_c('b-col',{staticClass:\"p-0 text-light\"},[_c('b-form-input',{attrs:{\"value\":pair[1]},on:{\"input\":function (v){ return _vm.set(pair[0],v); }}})],1),_c('b-button',{staticClass:\"t-b\",on:{\"click\":function($event){return _vm.del(pair[0])}}},[_vm._v(\"X\")])],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-container>\r\n    <!-- <b-row> -->\r\n      <!-- <b-button>X</b-button> -->\r\n    <!-- </b-row> -->\r\n    <b-row>\r\n      <b-col class=\"p-0\">\r\n        <b-form-input v-model=\"newField\"/>\r\n      </b-col>\r\n      <b-col class=\"p-0\">\r\n        <b-button class=\"w-100\" :disabled=\"newField === '' || data.has(newField)\" @click=\"set(newField)\" variant=\"success\">Добавить</b-button>\r\n      </b-col>\r\n      <b-col class=\"p-0\">\r\n        <b-button class=\"w-100\" :disabled=\"!isChanged\" @click=\"commit\" variant=\"primary\">Сохранить</b-button>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row v-for=\"pair in data.entries()\" :key=\"pair[0]\">\r\n      <b-col class=\"p-0\">\r\n        <b-form-input :value=\"pair[0]\" disabled class=\"t-b\"/>\r\n      </b-col>\r\n      <b-col class=\"p-0 text-light\">\r\n        <b-form-input :value=\"pair[1]\" @input=\"v=>set(pair[0],v)\"/>\r\n      </b-col>\r\n      <!-- <b-col class=\"p-0\"> -->\r\n      <b-button class=\"t-b\" @click=\"del(pair[0])\">X</b-button>\r\n      <!-- </b-col> -->\r\n    </b-row>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\n// import cmp from './component'\r\n\r\nexport default {\r\n  // components: {},\r\n  // filters: {},\r\n  props: ['value'],\r\n  data() {\r\n    return {\r\n      data: new Map(),\r\n      isChanged: false,\r\n      newField: '',\r\n    };\r\n  },\r\n  // computed: {},\r\n  watch: {\r\n    value(v){\r\n      this.data.clear();\r\n      if(v != null){\r\n        for (const key in v) this.data.set(key, v[key]);\r\n      }\r\n      this.isChanged = false;\r\n    },\r\n  },\r\n  methods: {\r\n    set(k, v = ''){\r\n      this.data.set(k, v);\r\n      this.isChanged = true;\r\n      this.$forceUpdate();\r\n    },\r\n    del(k){\r\n      this.data.delete(k);\r\n      this.isChanged = true;\r\n      this.$forceUpdate();\r\n    },\r\n    commit(){\r\n      this.isChanged = false;\r\n      const obj = {};\r\n      [...this.data.entries()].forEach(pair=>{\r\n        obj[pair[0]] = pair[1];\r\n      })\r\n      console.log('obj:');\r\n      console.dir(obj);\r\n      this.$emit('commit', obj)\r\n    },\r\n  },\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PropsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PropsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PropsList.vue?vue&type=template&id=41979fe6&\"\nimport script from \"./PropsList.vue?vue&type=script&lang=js&\"\nexport * from \"./PropsList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <b-container fluid class=\"m-0 p-0 h-100 w-100 t-b\">\r\n    \r\n    <b-row class=\"m-1\" v-if=\"isEditMode\">\r\n\r\n      <b-button-group class=\"mr-2 w-25\">\r\n        \r\n        <!-- <b-form-select v-if=\"true\"> \r\n          <b-form-select-option v-for=\"(map, id) in editor.parser.maps\" :key=\"id\" :value=\"id\">\r\n           #{{id}} {{ map.m.n || '(Без имени)' }}\r\n          </b-form-select-option>\r\n        </b-form-select> -->\r\n\r\n        <!-- <b-button>Слой</b-button> -->\r\n      </b-button-group>\r\n\r\n      <b-dd\r\n        menu-class=\"b_dd-menu brd-se bg-dr p-1\"\r\n        toggle-class=\"bg-pr p-1 m-0 brd-se\"\r\n        no-caret\r\n      >\r\n        <template v-slot:button-content :class=\"{'brd-ac': sEditObjectType === 0 }\">\r\n          <img-pixel style=\"float:left\" :src=\"blocks[sBlockId].i\" class=\"b_blockcolor brd-se\" :color=\"blocks[sBlockId].c\"/>\r\n          <img-pixel style=\"float:left\" :src=\"blocks[sBlockIdAlt].i\" class=\"ml-1 b_blockcolor-mini brd-ac\" :color=\"blocks[sBlockIdAlt].c\"/>\r\n        </template>\r\n        <b-row class=\"m-1\">\r\n          <div v-for=\"(b, ix) in blocks\" :key=\"ix\"\r\n            class=\"b_selblock mr-1 mb-1\"\r\n            :class=\"{'border-warning': sBlockId === ix, 'border-primary': sBlockIdAlt === ix}\"\r\n            @click=\"selectBlock(ix)\"\r\n            @contextmenu=\"selectBlock(ix, true)\"\r\n          >\r\n            <img-pixel :src=\"b.i\" :color=\"b.c\"/>\r\n          </div>\r\n        </b-row>\r\n        <b-row class=\"m-0 p-2 bg-pr brd-se text-light\" style=\"border: 2px solid\">\r\n          <div class=\"b_blockcolor border-0 mr-2\" :style=\"'background: #' + blocks[sBlockId].c\"></div>\r\n          <span class=\"t-b\">{{blocks[sBlockId].n}}</span>\r\n        </b-row>\r\n      </b-dd>\r\n\r\n      <b-dd\r\n        v-if=\"structs.length>1\"\r\n        menu-class=\"b_dd-menu bg-dark p-0\"\r\n        toggle-class=\"p-1 m-0\"\r\n        no-caret\r\n      >\r\n        <template v-slot:button-content :class=\"{'border-primary': sEditObjectType === 1 }\">\r\n          <img-pixel style=\"float:left\" :src=\"structs[sStructId].i\" class=\"b_blockcolor border-warning\" :color=\"structs[sStructId].c\"/>\r\n          <img-pixel style=\"float:left\" :src=\"structs[sStructIdAlt].i\" class=\"ml-1 b_blockcolor-mini border-primary\" :color=\"structs[sStructIdAlt].c\"/>\r\n        </template>\r\n        <b-row class=\"m-1\">\r\n          <div v-for=\"(b, ix) in structs\" :key=\"ix\"\r\n            class=\"b_selblock mr-1 mb-1\"\r\n            :class=\"{'border-warning': sStructId === ix, 'border-primary': sStructIdAlt === ix}\"\r\n            @click=\"selectStruct(ix)\"\r\n            @contextmenu=\"selectStruct(ix, true)\"\r\n          >\r\n            <img-pixel :src=\"b.i\" :color=\"b.c\"/>\r\n          </div>\r\n        </b-row>\r\n        <b-row class=\"m-0 p-2 bg-secondary text-light\">\r\n          <div class=\"b_blockcolor border-0 mr-2\" :style=\"'background: #' + blocks[sStructId].c\"></div>\r\n          <span class=\"t-b\">{{blocks[sStructId].n}}</span>\r\n        </b-row>\r\n      </b-dd>\r\n\r\n\r\n\r\n      <!-- <b-button class=\"ml-1\" @click=\"test\">test</b-button> -->\r\n      \r\n\r\n    </b-row>\r\n\r\n    <b-row v-if=\"!isEditMode\" class=\"p-2 text-light\">\r\n      <b-col cols=4>\r\n        <!-- <b-row> -->\r\n          <b-card v-for=\"(map, id) in maps\" :key=\"id\"\r\n            :class=\"{'brd-ac': sMapId === id}\"\r\n            class=\"bg-pr\"\r\n            @dblclick=\"selectMap(id)\"\r\n          >\r\n            #{{id}} {{ map.m.n || '(Без имени)' }}\r\n          </b-card>\r\n        <!-- </b-row> -->\r\n      </b-col>\r\n      <b-col cols=8>\r\n        <FormSchema\r\n          :editor=\"editor\"\r\n          :schema=\"editor.schema_map().properties.m\"\r\n          :value=\"maps[sMapId].m\"\r\n          @commit=\"commitMapManifestChanges\"\r\n        />\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <b-row v-show=\"isEditMode\" class=\"m-0 p-0 w-100\">\r\n      <b-col cols=\"3\" class=\"p-2\">\r\n        <PropsList ref=\"propslist\" :value=\"blockPropsData\" @commit=\"blockPropsCB\"/>\r\n      </b-col>\r\n      <b-col cols=\"9\" class=\"p-0\">\r\n        <div class=\"h-100 w-100 brd-se\" id=\"screen_editor\"></div>\r\n      </b-col>\r\n    </b-row>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport FormSchema from '../FormSchema'\r\n// import EditProject from '../../helpers/editProject';\r\nimport DataShare from '../../helpers/dataShare';\r\nimport PropsList from './maps/PropsList';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      isEditMode: false,\r\n      isReady: false,\r\n      maps: this.editor.parser.maps,\r\n      sMapId: 0,\r\n      layers: [],\r\n      sLayerName: '',\r\n      sEditObjectType: 0,\r\n      sBlockId: 1,\r\n      sBlockIdAlt: 0,\r\n      sStructId: 1,\r\n      sStructIdAlt: 0,\r\n      blockPropsData: null,\r\n      blockPropsCB: ()=>0,\r\n    };\r\n  },\r\n  props: ['editor'],\r\n  components: {\r\n    FormSchema,\r\n    PropsList,\r\n  },\r\n  watch: {\r\n    sLayerName(sLayerKey){ DataShare.setData({sLayerKey}) },\r\n  },\r\n  mounted(){\r\n    const vuec = this;\r\n    DataShare.clearTriggersAndEvents();\r\n\r\n    window.$events.onEngineLoad = ()=>vuec.isReady = true;\r\n    window.$triggers.setBlockPropsEdit = function(data, cb) {\r\n      vuec.blockPropsData = data;\r\n      vuec.blockPropsCB = cb;\r\n      vuec.$refs.propslist.$forceUpdate();\r\n    }\r\n\r\n    this.$store.dispatch('loadEngine', 'editor')\r\n      .then(()=>{ console.log(`Загружен движок редактора`) })\r\n      .catch(console.error)\r\n  },\r\n  destroyed(){\r\n    window.$triggers.destroy();\r\n  },\r\n  computed: {\r\n    blocks(){\r\n      const blocks = this.editor.parser.sumBlockDataList();\r\n      return [\r\n        {i:'img/icons/delete_block.png', n: 'Удалить блок', c:'0000'},\r\n        ...blocks,\r\n      ];\r\n    },\r\n    structs(){\r\n      const structs = this.editor.parser.sumStructDataList();\r\n      return [\r\n        {i:'img/icons/delete_block.png', n: 'Удалить структуру', c:'0000'},\r\n        ...structs,\r\n      ];\r\n    }\r\n  },\r\n  methods: {\r\n    selectMap(id){\r\n      if(!this.isReady)return;\r\n      window.$triggers.destroy();\r\n      this.isEditMode = true;\r\n      this.sLayerName = 'm';\r\n      this.sMapId = id\r\n      this.layers = this.maps[id].l;\r\n      // console.log('this.layers:');\r\n      // console.dir(this.layers);\r\n\r\n      // DataShare.setData({layers: this.layers})\r\n\r\n      const startData = {\r\n        parent: 'screen_editor',\r\n        isLocal: true,\r\n        project: this.editor.project,\r\n        mapId: id,\r\n      };\r\n      window.$triggers.start(startData)\r\n      // return id;\r\n    },\r\n    setEditObjectType(id = 0){\r\n      this.sEditObjectType = id;\r\n      window.$data.editObjectType = id;\r\n    },\r\n    selectBlock(ix, isAlt){\r\n      this.setEditObjectType();\r\n      if(!isAlt){\r\n        this.sBlockId = ix;\r\n        window.$data.sBlockId = ix-1;\r\n      }else{\r\n        this.sBlockIdAlt = ix;\r\n        window.$data.sBlockIdAlt = ix-1;\r\n      }\r\n    },\r\n    selectStruct(ix, isAlt){\r\n      this.setEditObjectType(1);\r\n      if(!isAlt){\r\n        this.sStructId = ix;\r\n        window.$data.sStructId = ix-1;\r\n      }else{\r\n        this.sStructIdAlt = ix;\r\n        window.$data.sStructIdAlt = ix-1;\r\n      }\r\n    },\r\n    test(){\r\n      console.log('window.$data:');\r\n      console.table(window.$data);\r\n    },\r\n    saveLayerData(){\r\n      if(window.$triggers.getMapData){\r\n        const editData = window.$triggers.getMapData();\r\n        if(editData){\r\n          this.$emit('change');\r\n          this.editor.upd_map(this.sMapId, editData)\r\n        }\r\n      }\r\n    },\r\n    commitMapManifestChanges(data){\r\n      this.maps[this.sMapId].m = data;\r\n      this.$emit('change');\r\n    },\r\n\r\n    exit(){ // Используется родителем, вернуть true, если можно \"зарыть\" этот компонент\r\n      if(this.isEditMode){\r\n        this.saveLayerData();\r\n        return this.isEditMode = false;\r\n      }\r\n      // this.editor.edit_mapUpd(0, data);\r\n      // this.selectMap(this.sMapId);\r\n      return true;\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n  #screen_editor>*{\r\n    border: solid 2px;\r\n    margin:0 !important;\r\n  }\r\n\r\n  .b_dd-menu{\r\n    width: 60vh;\r\n  }\r\n  .b_blockcolor{\r\n    height: 4vh;\r\n    width: 4vh;\r\n    border: solid;\r\n  }\r\n  .b_blockcolor-mini{\r\n    height: 3vh;\r\n    width: 3vh;\r\n    border: solid;\r\n  }\r\n  .b_selblock{\r\n    height: 6vh;\r\n    width: 6vh;\r\n    margin: 0;\r\n    padding: 0;\r\n\r\n    font-size: 2vh;\r\n    line-height: 6vh;\r\n    text-align: center;\r\n\r\n    /* background-color: var(--secondary); */\r\n    color: #0000 var(--light);\r\n    user-select: none;\r\n    border: solid;\r\n    box-sizing: border-box;\r\n  }\r\n  .b_selblock:hover{\r\n    background-color: #5a6268;\r\n  }\r\n  /* .b_selblock.active{\r\n    border-color: var(--primary);\r\n  } */\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditMap.vue?vue&type=template&id=42955c9d&\"\nimport script from \"./EditMap.vue?vue&type=script&lang=js&\"\nexport * from \"./EditMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditMap.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"p-2\",attrs:{\"fluid\":\"\"}},[_c('b-row',{staticClass:\"m-0 mb-3\",attrs:{\"align-h\":\"between\"}},[(!_vm.isEditMode)?_c('b-form-select',{staticClass:\"w-25\",model:{value:(_vm.sCategName),callback:function ($$v) {_vm.sCategName=$$v},expression:\"sCategName\"}},_vm._l((_vm.categoriesNames),function(categ){return _c('b-form-select-option',{key:categ,attrs:{\"value\":categ}},[_vm._v(\" \"+_vm._s(_vm.category[categ].title)+\" \")])}),1):_c('b-button-group',[_c('b-button',{staticClass:\"mr-1\",on:{\"click\":function($event){_vm.isEditMode = false}}},[_vm._v(\" Отмена \")])],1),_c('b-button-group',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isEditMode),expression:\"!isEditMode\"}]},[_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sFileId !== null),expression:\"sFileId !== null\"}],attrs:{\"variant\":\"success\"},on:{\"click\":_vm.editImage}},[_vm._v(\" Редактировать \")]),_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sFileId !== null),expression:\"sFileId !== null\"}],staticClass:\"ml-1\",attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.delImage()}}},[_vm._v(\" Удалить \")]),_c('b-button',{staticClass:\"ml-4\",attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.addNewImage}},[_vm._v(\" Добавить \")])],1)],1),(!_vm.isEditMode && _vm.sCategName)?_c('b-list-group',{staticClass:\"p-3 overflow-auto\",staticStyle:{\"height\":\"85vh\"}},[(!_vm.data[_vm.sCategName].length)?_c('div',{staticClass:\"text-center text-secondary t-b pt-2\"},[_vm._v(\" Изображения отсутствуют \")]):_vm._l((_vm.data[_vm.sCategName]),function(img,id){return _c('b-list-group-item',{key:id,staticClass:\"mt-1 p-1 text-light bg-pr brd-se\",class:{'border-primary': _vm.sFileId === id},staticStyle:{\"height\":\"10vh\"},on:{\"click\":function($event){_vm.sFileId = id},\"dblclick\":_vm.editImage}},[_c('b-row',{staticClass:\"h-100\"},[_c('b-col',{staticClass:\"h-100\",attrs:{\"cols\":\"2\"}},[_c('img-pixel',{staticClass:\"h-100\",attrs:{\"src\":img.d}})],1),_c('b-col',{staticClass:\"h-100\"},[_c('span',{staticClass:\"t-b\"},[_vm._v(_vm._s(img.n))]),_c('br'),_c('span',{staticClass:\"text-secondary\"},[_vm._v(\"#\"+_vm._s(id))])])],1)],1)})],2):(_vm.sCategName)?_c('FormSchema',{attrs:{\"editor\":_vm.editor,\"schema\":_vm.schema.properties[_vm.sCategName].items,\"value\":_vm.isTargetEdit ? _vm.data[_vm.sCategName][_vm.sFileId] : {}},on:{\"commit\":_vm.onImgSelectCommit}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-container fluid class=\"p-2\">\r\n    <b-row class=\"m-0 mb-3\" align-h=\"between\">\r\n\r\n      <b-form-select v-if=\"!isEditMode\"\r\n        v-model=\"sCategName\"\r\n        class=\"w-25\"\r\n      >\r\n        <b-form-select-option v-for=\"categ in categoriesNames\" :key=\"categ\" :value=\"categ\">\r\n          {{ category[categ].title }}\r\n        </b-form-select-option>\r\n      </b-form-select>\r\n      <b-button-group v-else>\r\n        <b-button class=\"mr-1\" @click=\"isEditMode = false\" >\r\n          Отмена\r\n        </b-button>\r\n      </b-button-group>\r\n\r\n      <b-button-group v-show=\"!isEditMode\" >\r\n        <b-button v-show=\"sFileId !== null\" @click=\"editImage\" variant=\"success\">\r\n          Редактировать\r\n        </b-button>\r\n        <b-button v-show=\"sFileId !== null\" class=\"ml-1\" @click=\"delImage()\" variant=\"danger\">\r\n          Удалить\r\n        </b-button>\r\n        <b-button class=\"ml-4\" @click=\"addNewImage\" variant=\"primary\">\r\n          Добавить\r\n        </b-button>\r\n      </b-button-group>\r\n\r\n    </b-row>\r\n    <b-list-group v-if=\"!isEditMode && sCategName\" style=\"height: 85vh\" class=\"p-3 overflow-auto\">\r\n\r\n      <div v-if=\"!data[sCategName].length\"\r\n        class=\"text-center text-secondary t-b pt-2\"\r\n      >\r\n        Изображения отсутствуют\r\n      </div>\r\n      <b-list-group-item v-else v-for=\"(img, id) in data[sCategName]\" :key=\"id\"\r\n        style=\"height: 10vh\"\r\n        class=\"mt-1 p-1 text-light bg-pr brd-se\"\r\n        :class=\"{'border-primary': sFileId === id}\"\r\n        @click=\"sFileId = id\"\r\n        @dblclick=\"editImage\"\r\n      >\r\n        <b-row class=\"h-100\">\r\n          <b-col class=\"h-100\" cols=2>\r\n            <img-pixel :src=\"img.d\" class=\"h-100\"/>\r\n          </b-col>\r\n          <b-col class=\"h-100\">\r\n            <span class=\"t-b\">{{img.n}}</span>\r\n            <br>\r\n            <span class=\"text-secondary\">#{{id}}</span>\r\n          </b-col>\r\n        </b-row>\r\n      </b-list-group-item>\r\n      \r\n    </b-list-group>\r\n    <FormSchema v-else-if=\"sCategName\"\r\n      :editor=\"editor\"\r\n      :schema=\"schema.properties[sCategName].items\"\r\n      :value=\"isTargetEdit ? data[sCategName][sFileId] : {}\"\r\n      @commit=\"onImgSelectCommit\"\r\n    />\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport FormSchema from '../FormSchema'\r\n\r\nexport default {\r\n  components: {\r\n    FormSchema,\r\n  },\r\n  props: ['editor', 'schema', 'data'],\r\n  data() {\r\n    return {\r\n      sCategName  : '',\r\n      sFileId     : null,\r\n      isEditMode  : false,\r\n      isTargetEdit: false,\r\n      editFileName : '',\r\n    };\r\n  },\r\n  computed: {\r\n    category(){\r\n      return this.schema.properties;\r\n    },\r\n    categoriesNames(){\r\n      return Object.keys(this.schema.properties);\r\n    },\r\n  },\r\n  mounted(){\r\n    this.sCategName = this.categoriesNames[0];\r\n    console.log('sCategName schema:');\r\n    console.dir(this.schema.properties[this.sCategName]);\r\n  },\r\n  methods: {\r\n    editImage(){\r\n      const categ = this.sCategName;\r\n      this.editFileName = this.data[categ][this.sFileId].n;\r\n      this.isTargetEdit = true;\r\n      this.isEditMode = true;\r\n    },\r\n    addNewImage(){\r\n      this.editFileName = '';\r\n      this.isTargetEdit = false;\r\n      this.isEditMode = true;\r\n    },\r\n    delImage(id = this.sFileId){\r\n      const categ = this.sCategName;\r\n      this.data[categ].splice(id, 1); // Удаление старого поля\r\n      this.$emit('change');\r\n      this.$forceUpdate();\r\n    },\r\n    onImgSelectCommit(data){\r\n      this.isEditMode = false;\r\n      // const newSearchName = this.editFileName;\r\n      const categ = this.sCategName;\r\n      if(this.isTargetEdit){\r\n        this.data[categ][this.sFileId] = data;\r\n      }else{\r\n        this.data[categ].push(data);\r\n      }\r\n      this.$emit('change')\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageResourses.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageResourses.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageResourses.vue?vue&type=template&id=30e10967&\"\nimport script from \"./ImageResourses.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageResourses.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"h-100 p-2\",attrs:{\"fluid\":\"\"}},[_c('b-row',{staticClass:\"m-0 mb-3\",attrs:{\"align-h\":\"between\"}},[(!_vm.isEditMode)?_c('b-form-select',{staticClass:\"w-25\",model:{value:(_vm.sCategName),callback:function ($$v) {_vm.sCategName=$$v},expression:\"sCategName\"}},_vm._l((_vm.categoriesNames),function(categ){return _c('b-form-select-option',{key:categ,attrs:{\"value\":categ}},[_vm._v(\" \"+_vm._s(_vm.category[categ].title)+\" \")])}),1):_c('b-button-group',[_c('b-button',{staticClass:\"mr-1\",on:{\"click\":function($event){_vm.isEditMode = false}}},[_vm._v(\" Отмена \")])],1),_c('b-button-group',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isEditMode),expression:\"!isEditMode\"}]},[_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sFileId !== null),expression:\"sFileId !== null\"}],attrs:{\"variant\":\"success\"},on:{\"click\":_vm.editFile}},[_vm._v(\" Редактировать \")]),_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sFileId !== null),expression:\"sFileId !== null\"}],staticClass:\"ml-1\",attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.delFile()}}},[_vm._v(\" Удалить \")]),_c('b-button',{staticClass:\"ml-4\",attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.addNewFile}},[_vm._v(\" Добавить \")])],1)],1),(!_vm.isEditMode && _vm.sCategName)?_c('b-list-group',{staticClass:\"p-3 overflow-auto\",staticStyle:{\"height\":\"85vh\"}},[(!_vm.data[_vm.sCategName].length)?_c('div',{staticClass:\"text-center text-secondary t-b pt-2\"},[_vm._v(\" Изображения отсутствуют \")]):_vm._l((_vm.data[_vm.sCategName]),function(file,id){return _c('b-list-group-item',{key:id,staticClass:\"mt-1 p-1 text-light bg-pr brd-se\",class:{'border-primary': _vm.sFileId === id},staticStyle:{\"height\":\"10vh\"},on:{\"click\":function($event){_vm.sFileId = id},\"dblclick\":_vm.editFile}},[_c('b-row',{staticClass:\"h-100\"},[_c('b-col',{staticClass:\"h-100 text-secondary t-b\",attrs:{\"cols\":\"1\"}},[_vm._v(\" #\"+_vm._s(id)+\" \")]),_c('b-col',{staticClass:\"h-100\",attrs:{\"cols\":\"1\"}},[_c('img-pixel',{style:('height:8vh; width:8vh; border:solid #' + file.c),attrs:{\"src\":_vm.editor.parser.imgByCAI(_vm.sCategName, file.i)}})],1),_c('b-col',{staticClass:\"h-100 t-b\"},[_vm._v(\" \"+_vm._s(file.n)+\" \")])],1)],1)})],2):(_vm.sCategName)?_c('b-container',{staticClass:\"p-0 m-0\",staticStyle:{\"height\":\"87vh\"},attrs:{\"fluid\":\"\"}},[_c('FormSchema',{attrs:{\"editor\":_vm.editor,\"schema\":_vm.schema.properties[_vm.sCategName].items,\"value\":_vm.data[_vm.sCategName][_vm.sFileId],\"data\":_vm.editor.project},on:{\"delete\":_vm.onFormSchemaDelete,\"commit\":_vm.onFormSchemaCommit}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-container fluid class=\"h-100 p-2\">\r\n    <b-row class=\"m-0 mb-3\" align-h=\"between\">\r\n\r\n      <b-form-select v-if=\"!isEditMode\"\r\n        v-model=\"sCategName\"\r\n        class=\"w-25\"\r\n      >\r\n        <b-form-select-option v-for=\"categ in categoriesNames\" :key=\"categ\" :value=\"categ\">\r\n          {{ category[categ].title }}\r\n        </b-form-select-option>\r\n      </b-form-select>\r\n      <b-button-group v-else>\r\n        <b-button class=\"mr-1\" @click=\"isEditMode = false\" >\r\n          Отмена\r\n        </b-button>\r\n      </b-button-group>\r\n\r\n      <b-button-group v-show=\"!isEditMode\" >\r\n        <b-button v-show=\"sFileId !== null\" @click=\"editFile\" variant=\"success\">\r\n          Редактировать\r\n        </b-button>\r\n        <b-button v-show=\"sFileId !== null\" class=\"ml-1\" @click=\"delFile()\" variant=\"danger\">\r\n          Удалить\r\n        </b-button>\r\n        <b-button class=\"ml-4\" @click=\"addNewFile\" variant=\"primary\">\r\n          Добавить\r\n        </b-button>\r\n      </b-button-group>\r\n\r\n    </b-row>\r\n    <b-list-group v-if=\"!isEditMode && sCategName\" style=\"height: 85vh\" class=\"p-3 overflow-auto\">\r\n\r\n      <div v-if=\"!data[sCategName].length\"\r\n        class=\"text-center text-secondary t-b pt-2\"\r\n      >\r\n        Изображения отсутствуют\r\n      </div>\r\n      <b-list-group-item v-else v-for=\"(file, id) in data[sCategName]\" :key=\"id\"\r\n        style=\"height: 10vh\"\r\n        class=\"mt-1 p-1 text-light bg-pr brd-se\"\r\n        :class=\"{'border-primary': sFileId === id}\"\r\n        @click=\"sFileId = id\"\r\n        @dblclick=\"editFile\"\r\n      >\r\n        <b-row class=\"h-100\">\r\n          <b-col class=\"h-100 text-secondary t-b\" cols=1>\r\n            #{{id}}\r\n          </b-col>\r\n          <b-col class=\"h-100\" cols=1>\r\n            <img-pixel\r\n              :src=\"editor.parser.imgByCAI(sCategName, file.i)\"\r\n              :style=\"'height:8vh; width:8vh; border:solid #' + file.c\"\r\n            />\r\n            <!-- <div :style=\"'width:5vh; height:5vh; background-color: #'\"></div> -->\r\n          </b-col>\r\n          <b-col class=\"h-100 t-b\">\r\n            {{file.n}}\r\n          </b-col>\r\n        </b-row>\r\n      </b-list-group-item>\r\n      \r\n    </b-list-group>\r\n    <b-container fluid v-else-if=\"sCategName\" class=\"p-0 m-0\" style=\"height: 87vh\">\r\n      <FormSchema\r\n        :editor=\"editor\"\r\n        :schema=\"schema.properties[sCategName].items\"\r\n        :value=\"data[sCategName][sFileId]\"\r\n        :data=\"editor.project\"\r\n        @delete=\"onFormSchemaDelete\"\r\n        @commit=\"onFormSchemaCommit\"\r\n      />\r\n    </b-container>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport FormSchema from '../FormSchema'\r\n// import getDataByLink from '../../helpers/getObjectFieldByLink'\r\n\r\nexport default {\r\n  components: {\r\n    FormSchema,\r\n  },\r\n  props: ['editor', 'schema', 'data'],\r\n  data() {\r\n    return {\r\n      isTargetEdit : false,\r\n      sCategName   : '',\r\n      sFileId      : null,\r\n      isEditMode   : false,\r\n    };\r\n  },\r\n  computed: {\r\n    category(){\r\n      return this.schema.properties;\r\n    },\r\n    categoriesNames(){\r\n      return Object.keys(this.schema.properties);\r\n    },\r\n  },\r\n  mounted(){\r\n    this.sCategName = this.categoriesNames[0];\r\n    console.log('sCategName schema:');\r\n    console.dir(this.schema.properties[this.sCategName]);\r\n  },\r\n  methods: {\r\n    editFile(){\r\n      this.isTargetEdit = true;\r\n      this.isEditMode = true;\r\n    },\r\n    addNewFile(){\r\n      this.isTargetEdit = false;\r\n      this.isEditMode = true;\r\n    },\r\n    delFile(id = this.sFileId){\r\n      const categ = this.sCategName;\r\n      this.data[categ].splice(id, 1); // Удаление старого поля\r\n      this.$emit('change');\r\n      this.$forceUpdate();\r\n    },\r\n    onFormSchemaDelete(){\r\n      this.isEditMode = false;\r\n      this.delFile();\r\n      this.sFileId = null;\r\n    },\r\n    async onFormSchemaCommit(data){\r\n      this.isEditMode = false;\r\n      const categ = this.sCategName;\r\n      if(this.isTargetEdit){\r\n        await this.editor.upd_data(categ, this.sFileId, data);\r\n      }else{\r\n        await this.editor.add_data(categ, data);\r\n      }\r\n      this.$emit('change')\r\n      this.$forceUpdate();\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataRes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataRes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DataRes.vue?vue&type=template&id=80df00a8&\"\nimport script from \"./DataRes.vue?vue&type=script&lang=js&\"\nexport * from \"./DataRes.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"p-2\",attrs:{\"fluid\":\"\"}},[_c('b-row',{staticClass:\"m-0 mb-3\",attrs:{\"align-h\":\"between\"}},[(!_vm.isEditMode)?_c('b-form-select',{staticClass:\"w-25\",model:{value:(_vm.sCategName),callback:function ($$v) {_vm.sCategName=$$v},expression:\"sCategName\"}},_vm._l((_vm.categoriesNames),function(categ){return _c('b-form-select-option',{key:categ,attrs:{\"value\":categ}},[_vm._v(\" \"+_vm._s(_vm.categTitle[categ])+\" \")])}),1):_c('b-button-group',[_c('b-button',{staticClass:\"mr-1\",on:{\"click\":function($event){_vm.isEditMode = false}}},[_vm._v(\" Отмена \")])],1),_c('b-button-group',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isEditMode),expression:\"!isEditMode\"}]},[_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sFileId !== null),expression:\"sFileId !== null\"}],attrs:{\"variant\":\"success\"},on:{\"click\":_vm.editFile}},[_vm._v(\" Редактировать \")]),_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sFileId !== null),expression:\"sFileId !== null\"}],staticClass:\"ml-1\",attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.delFile()}}},[_vm._v(\" Удалить \")]),_c('b-button',{staticClass:\"ml-4\",attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.addNewFile}},[_vm._v(\" Добавить \")])],1)],1),(!_vm.isEditMode && _vm.sCategName)?_c('b-list-group',{staticClass:\"p-3 overflow-auto\",staticStyle:{\"height\":\"85vh\"}},[(!_vm.data.length)?_c('div',{staticClass:\"text-center text-pr t-b pt-2\"},[_vm._v(\" Изображения отсутствуют \")]):_vm._l((_vm.data),function(file,id){return _c('b-list-group-item',{key:id,staticClass:\"mt-1 p-1 bg-pr brd-se text-light\",class:{'border-primary': _vm.sFileId === id},staticStyle:{\"height\":\"10vh\"},style:(file._c!==_vm.sCategName ? 'display: none' : ''),on:{\"click\":function($event){_vm.sFileId = id},\"dblclick\":_vm.editFile}},[_c('b-row',{staticClass:\"h-100\"},[_c('b-col',{staticClass:\"h-100 text-secondary t-b\",attrs:{\"cols\":\"1\"}},[_vm._v(\" #\"+_vm._s(id)+\" \")]),_c('b-col',{staticClass:\"h-100\",attrs:{\"cols\":\"1\"}},[_c('Preview',{staticStyle:{\"height\":\"8vh\",\"width\":\"8vh\"},attrs:{\"value\":_vm.editor.parser.animData(id)}})],1),_c('b-col',{staticClass:\"h-100 t-b\"},[_vm._v(\" \"+_vm._s(file.n)+\" \")])],1)],1)})],2):(_vm.sCategName)?_c('FormSchema',{attrs:{\"editor\":_vm.editor,\"schema\":_vm.changeCategory(_vm.schema.items, _vm.sCategName),\"value\":_vm.data[_vm.sFileId],\"data\":_vm.editor.project},on:{\"delete\":_vm.onFormSchemaDelete,\"commit\":_vm.onFormSchemaCommit}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":_vm.id}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const N = {\r\n  ANIMATION: '0',\r\n  SPRITE:'1',\r\n}\r\n\r\nfunction generateSprite(elemid, scene, name, data, cfg){\r\n  const el_imgContainer = document.createElement('div');\r\n  el_imgContainer.style.display = 'none';\r\n  document.getElementById(elemid).append(el_imgContainer);\r\n\r\n  return new Promise(success=>{\r\n    const el_img = new Image();\r\n    el_img.src = data;\r\n    el_imgContainer.appendChild(el_img);\r\n    el_img.onload = function(){\r\n      success(scene.textures.addSpriteSheet(name, el_img, cfg))\r\n    };\r\n  })\r\n}\r\n\r\nexport default function(elemid, animData){\r\n  console.log('[ Init anim preview ]')\r\n  console.dir({animData});\r\n\r\n  const Phaser = window.$libs.Phaser || {};\r\n  const elSizePx = Math.trunc(\r\n    +getComputedStyle(document.getElementById(elemid)).height.replace(/px/, '')\r\n  )\r\n  \r\n  async function create(){\r\n    await generateSprite(\r\n      elemid,\r\n      this,\r\n      N.SPRITE,\r\n      animData.sprite,\r\n      { frameWidth: animData.fWidth, frameHeight: animData.fHeight },\r\n    );\r\n    this.anims.create({\r\n      key: N.ANIMATION,\r\n      frames: this.anims.generateFrameNumbers(N.SPRITE, { start: animData.fStart, end: animData.fEnd }),\r\n      frameRate: animData.fRate,\r\n      yoyo: animData.yoyo || false,\r\n      repeat: -1\r\n    });\r\n    let sprite = this.add.sprite(0, 0, N.SPRITE).setOrigin(0);\r\n    sprite.setDisplaySize(elSizePx, elSizePx);\r\n    sprite.anims.play(N.ANIMATION);\r\n  }\r\n\r\n  const game = new Phaser.Game({\r\n    parent: elemid,\r\n    type: Phaser.CANVAS,\r\n    width: elSizePx,\r\n    height: elSizePx,\r\n    pixelArt: true,\r\n    // backgroundColor: '#00000000',\r\n    scene: { create },\r\n  });\r\n\r\n  return {\r\n    // setData(){},\r\n    destroy(){\r\n      game.destroy();\r\n    }\r\n  };\r\n}","<template>\r\n  <div :id=\"id\"></div>\r\n</template>\r\n\r\n<script>\r\nimport initPreview from './initPreview'\r\nimport loadScript from '../../../helpers/scriptLoader'\r\n\r\nlet idai = 0;\r\n\r\nexport default {\r\n  props: ['value'],\r\n  data() {\r\n    return {\r\n      int: {\r\n        destroy: ()=>0,\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    id: () => `apv_${idai++}`,\r\n  },\r\n  async mounted(){\r\n    await loadScript(`e/libs/phaser_3.23.0.js`, true);\r\n    this.int = initPreview(this.id, this.value);\r\n  },\r\n  destroyed(){\r\n    this.int.destroy();\r\n  },\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Preview.vue?vue&type=template&id=7f670143&\"\nimport script from \"./Preview.vue?vue&type=script&lang=js&\"\nexport * from \"./Preview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <b-container fluid class=\"p-2\">\r\n    <b-row class=\"m-0 mb-3\" align-h=\"between\">\r\n\r\n      <b-form-select v-if=\"!isEditMode\"\r\n        v-model=\"sCategName\"\r\n        class=\"w-25\"\r\n      >\r\n        <b-form-select-option v-for=\"categ in categoriesNames\" :key=\"categ\" :value=\"categ\">\r\n          {{ categTitle[categ] }}\r\n        </b-form-select-option>\r\n      </b-form-select>\r\n      <b-button-group v-else>\r\n        <b-button class=\"mr-1\" @click=\"isEditMode = false\" >\r\n          Отмена\r\n        </b-button>\r\n      </b-button-group>\r\n\r\n      <b-button-group v-show=\"!isEditMode\" >\r\n        <b-button v-show=\"sFileId !== null\" @click=\"editFile\" variant=\"success\">\r\n          Редактировать\r\n        </b-button>\r\n        <b-button v-show=\"sFileId !== null\" class=\"ml-1\" @click=\"delFile()\" variant=\"danger\">\r\n          Удалить\r\n        </b-button>\r\n        <b-button class=\"ml-4\" @click=\"addNewFile\" variant=\"primary\">\r\n          Добавить\r\n        </b-button>\r\n      </b-button-group>\r\n\r\n    </b-row>\r\n    <b-list-group v-if=\"!isEditMode && sCategName\" style=\"height: 85vh\" class=\"p-3 overflow-auto\">\r\n\r\n      <div v-if=\"!data.length\"\r\n        class=\"text-center text-pr t-b pt-2\"\r\n      >\r\n        Изображения отсутствуют\r\n      </div>\r\n      <b-list-group-item v-else v-for=\"(file, id) in data\" :key=\"id\"\r\n        style=\"height: 10vh\"\r\n        :style=\"file._c!==sCategName ? 'display: none' : ''\"\r\n        class=\"mt-1 p-1 bg-pr brd-se text-light\"\r\n        :class=\"{'border-primary': sFileId === id}\"\r\n        @click=\"sFileId = id\"\r\n        @dblclick=\"editFile\"\r\n      >\r\n        <b-row class=\"h-100\">\r\n          <b-col class=\"h-100 text-secondary t-b\" cols=1>\r\n            #{{id}}\r\n          </b-col>\r\n          <b-col class=\"h-100\" cols=1>\r\n            <Preview style=\"height:8vh; width:8vh;\" :value=\"editor.parser.animData(id)\"/>\r\n            <!-- <img-pixel\r\n              :src=\"editor.parser.imgByCAI(sCategName, file.i)\"\r\n              :style=\"'height:8vh; width:8vh; border:solid #' + file.c\"\r\n            /> -->\r\n            <!-- <div :style=\"'width:5vh; height:5vh; background-color: #'\"></div> -->\r\n          </b-col>\r\n          <b-col class=\"h-100 t-b\">\r\n            {{file.n}}\r\n          </b-col>\r\n        </b-row>\r\n      </b-list-group-item>\r\n      \r\n    </b-list-group>\r\n    <FormSchema v-else-if=\"sCategName\"\r\n      :editor=\"editor\"\r\n      :schema=\"changeCategory(schema.items, sCategName)\"\r\n      :value=\"data[sFileId]\"\r\n      :data=\"editor.project\"\r\n      @delete=\"onFormSchemaDelete\"\r\n      @commit=\"onFormSchemaCommit\"\r\n    />\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport Preview from './anims/Preview'\r\nimport FormSchema from '../FormSchema'\r\n// import getDataByLink from '../../helpers/getObjectFieldByLink'\r\n\r\n// TODO: Лютый костыль \r\nfunction changeCategory(schema, categ){\r\n  return JSON.parse(\r\n    JSON.stringify(schema)\r\n      .replace(/{CATEG}/, categ)\r\n  )\r\n}\r\n\r\nexport default {\r\n  components: {\r\n    Preview,\r\n    FormSchema,\r\n  },\r\n  props: ['editor', 'schema', 'data'],\r\n  data() {\r\n    return {\r\n      isTargetEdit : false,\r\n      sCategName   : '',\r\n      sFileId      : null,\r\n      isEditMode   : false,\r\n    };\r\n  },\r\n  computed: {\r\n    category(){\r\n      return this.schema.properties;\r\n    },\r\n    categoriesNames(){\r\n      return Object.keys(this.schema.items._categories);\r\n    },\r\n    categTitle(){\r\n      return this.schema.items._categories;\r\n    },\r\n  },\r\n  mounted(){\r\n    this.sCategName = this.categoriesNames[0];\r\n  },\r\n  methods: {\r\n    changeCategory,\r\n    editFile(){\r\n      this.isTargetEdit = true;\r\n      this.isEditMode = true;\r\n    },\r\n    addNewFile(){\r\n      this.isTargetEdit = false;\r\n      this.isEditMode = true;\r\n    },\r\n    delFile(id = this.sFileId){\r\n      const categ = this.sCategName;\r\n      this.data[categ].splice(id, 1); // Удаление старого поля\r\n      this.$emit('change');\r\n      this.$forceUpdate();\r\n    },\r\n    onFormSchemaDelete(){\r\n      this.isEditMode = false;\r\n      this.delFile();\r\n      this.sFileId = null;\r\n    },\r\n    async onFormSchemaCommit(data){\r\n      this.isEditMode = false;\r\n      const categ = this.sCategName;\r\n      const endData = {\r\n        _c: categ,\r\n        ...data,\r\n      }\r\n      console.log('[onFormSchemaCommit]:');\r\n      console.dir(endData);\r\n      if(this.isTargetEdit){\r\n        await this.editor.upd_anim(this.sFileId, endData);\r\n      }else{\r\n        await this.editor.add_anim(endData);\r\n      }\r\n      this.$emit('change')\r\n      this.$forceUpdate();\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnimRes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnimRes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnimRes.vue?vue&type=template&id=6d7ea627&\"\nimport script from \"./AnimRes.vue?vue&type=script&lang=js&\"\nexport * from \"./AnimRes.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"p-2\",attrs:{\"fluid\":\"\"}},[_c('b-row',{staticClass:\"m-0 mb-3\",attrs:{\"align-h\":\"between\"}},[(!_vm.isEditMode)?_c('b-form-select',{staticClass:\"w-25\",model:{value:(_vm.sCategName),callback:function ($$v) {_vm.sCategName=$$v},expression:\"sCategName\"}},_vm._l((_vm.categoriesNames),function(categ){return _c('b-form-select-option',{key:categ,attrs:{\"value\":categ}},[_vm._v(\" \"+_vm._s(_vm.category[categ].title)+\" \")])}),1):_c('b-button-group',[_c('b-button',{staticClass:\"mr-1\",on:{\"click\":function($event){_vm.isEditMode = false}}},[_vm._v(\" Отмена \")])],1),_c('b-button-group',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isEditMode),expression:\"!isEditMode\"}]},[_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sFileId !== null),expression:\"sFileId !== null\"}],attrs:{\"variant\":\"success\"},on:{\"click\":_vm.editFile}},[_vm._v(\" Редактировать \")]),_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sFileId !== null),expression:\"sFileId !== null\"}],staticClass:\"ml-1\",attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.delFile()}}},[_vm._v(\" Удалить \")]),_c('b-button',{staticClass:\"ml-4\",attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.addNewFile}},[_vm._v(\" Добавить \")])],1)],1),(!_vm.isEditMode && _vm.sCategName)?_c('b-list-group',{staticClass:\"p-3 overflow-auto\",staticStyle:{\"height\":\"85vh\"}},[(!_vm.data[_vm.sCategName].length)?_c('div',{staticClass:\"text-center text-secondary t-b pt-2\"},[_vm._v(\" Аудио отсутствует \")]):_vm._l((_vm.data[_vm.sCategName]),function(file,id){return _c('b-list-group-item',{key:id,staticClass:\"mt-1 p-1 bg-pr brd-se text-light\",class:{'border-primary': _vm.sFileId === id},staticStyle:{\"height\":\"10vh\"},on:{\"click\":function($event){_vm.sFileId = id},\"dblclick\":_vm.editFile}},[_c('b-row',{staticClass:\"h-100\"},[_c('b-col',{staticClass:\"h-100 text-secondary t-b\",attrs:{\"cols\":\"1\"}},[_vm._v(\" #\"+_vm._s(id)+\" \")]),_c('b-col',{staticClass:\"h-100\",attrs:{\"cols\":\"1\"}}),_c('b-col',{staticClass:\"h-100 t-b\"},[_vm._v(\" \"+_vm._s(file.n)+\" \")])],1)],1)})],2):(_vm.sCategName)?_c('FormSchema',{attrs:{\"editor\":_vm.editor,\"schema\":_vm.schema.properties[_vm.sCategName].items,\"value\":_vm.isTargetEdit ? _vm.data[_vm.sCategName][_vm.sFileId] : {}},on:{\"commit\":_vm.onFormSchemaCommit}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-container fluid class=\"p-2\">\r\n    <b-row class=\"m-0 mb-3\" align-h=\"between\">\r\n\r\n      <b-form-select v-if=\"!isEditMode\"\r\n        v-model=\"sCategName\"\r\n        class=\"w-25\"\r\n      >\r\n        <b-form-select-option v-for=\"categ in categoriesNames\" :key=\"categ\" :value=\"categ\">\r\n          {{ category[categ].title }}\r\n        </b-form-select-option>\r\n      </b-form-select>\r\n      <b-button-group v-else>\r\n        <b-button class=\"mr-1\" @click=\"isEditMode = false\" >\r\n          Отмена\r\n        </b-button>\r\n      </b-button-group>\r\n\r\n      <b-button-group v-show=\"!isEditMode\" >\r\n        <b-button v-show=\"sFileId !== null\" @click=\"editFile\" variant=\"success\">\r\n          Редактировать\r\n        </b-button>\r\n        <b-button v-show=\"sFileId !== null\" class=\"ml-1\" @click=\"delFile()\" variant=\"danger\">\r\n          Удалить\r\n        </b-button>\r\n        <b-button class=\"ml-4\" @click=\"addNewFile\" variant=\"primary\">\r\n          Добавить\r\n        </b-button>\r\n      </b-button-group>\r\n\r\n    </b-row>\r\n    <b-list-group v-if=\"!isEditMode && sCategName\" style=\"height: 85vh\" class=\"p-3 overflow-auto\">\r\n\r\n      <div v-if=\"!data[sCategName].length\"\r\n        class=\"text-center text-secondary t-b pt-2\"\r\n      >\r\n        Аудио отсутствует\r\n      </div>\r\n      <b-list-group-item v-else v-for=\"(file, id) in data[sCategName]\" :key=\"id\"\r\n        style=\"height: 10vh\"\r\n        class=\"mt-1 p-1 bg-pr brd-se text-light\"\r\n        :class=\"{'border-primary': sFileId === id}\"\r\n        @click=\"sFileId = id\"\r\n        @dblclick=\"editFile\"\r\n      >\r\n        <b-row class=\"h-100\">\r\n          <b-col class=\"h-100 text-secondary t-b\" cols=1>\r\n            #{{id}}\r\n          </b-col>\r\n          <b-col class=\"h-100\" cols=1>\r\n            <!-- <img-pixel\r\n              :src=\"editor.parser.imgByCAI(sCategName, file.i)\"\r\n              :style=\"'height:8vh; width:8vh; border:solid #' + file.c\"\r\n            /> -->\r\n            <!-- <div :style=\"'width:5vh; height:5vh; background-color: #'\"></div> -->\r\n          </b-col>\r\n          <b-col class=\"h-100 t-b\">\r\n            {{file.n}}\r\n          </b-col>\r\n        </b-row>\r\n      </b-list-group-item>\r\n      \r\n    </b-list-group>\r\n    <FormSchema v-else-if=\"sCategName\"\r\n      :editor=\"editor\"\r\n      :schema=\"schema.properties[sCategName].items\"\r\n      :value=\"isTargetEdit ? data[sCategName][sFileId] : {}\"\r\n      @commit=\"onFormSchemaCommit\"\r\n    />\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport FormSchema from '../FormSchema'\r\n\r\nexport default {\r\n  components: {\r\n    FormSchema,\r\n  },\r\n  props: ['editor', 'schema', 'data'],\r\n  data() {\r\n    return {\r\n      isTargetEdit : false,\r\n      sCategName   : '',\r\n      sFileId      : null,\r\n      isEditMode   : false,\r\n    };\r\n  },\r\n  computed: {\r\n    category(){\r\n      return this.schema.properties;\r\n    },\r\n    categoriesNames(){\r\n      return Object.keys(this.schema.properties);\r\n    },\r\n  },\r\n  mounted(){\r\n    this.sCategName = this.categoriesNames[0];\r\n    console.log('sCategName schema:');\r\n    console.dir(this.schema.properties[this.sCategName]);\r\n  },\r\n  methods: {\r\n    editFile(){\r\n      this.isTargetEdit = true;\r\n      this.isEditMode = true;\r\n    },\r\n    addNewFile(){\r\n      this.isTargetEdit = false;\r\n      this.isEditMode = true;\r\n    },\r\n    delFile(id = this.sFileId){\r\n      const categ = this.sCategName;\r\n      this.data[categ].splice(id, 1); // Удаление старого поля\r\n      this.$emit('change');\r\n      this.$forceUpdate();\r\n    },\r\n    onFormSchemaCommit(data){\r\n      this.isEditMode = false;\r\n      // const newSearchName = this.editFileName;\r\n      const categ = this.sCategName;\r\n      if(this.isTargetEdit){\r\n        this.data[categ][this.sFileId] = data;\r\n      }else{\r\n        this.data[categ].push(data);\r\n      }\r\n      this.$emit('change')\r\n    },\r\n    // async onFormSchemaCommit(data){\r\n    //   this.isEditMode = false;\r\n    //   const categ = this.sCategName;\r\n    //   if(this.isTargetEdit){\r\n    //     await this.editor.upd_data(categ, this.sFileId, data);\r\n    //   }else{\r\n    //     await this.editor.add_data(categ, data);\r\n    //   }\r\n    //   this.$emit('change')\r\n    //   this.$forceUpdate();\r\n    // },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioRes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioRes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AudioRes.vue?vue&type=template&id=3b7d17d8&\"\nimport script from \"./AudioRes.vue?vue&type=script&lang=js&\"\nexport * from \"./AudioRes.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div style=\"height: 100vh; width: 100vw;\">\r\n\r\n    <b-navbar class=\"t-b p-1 pl-2 pr-2 bg-pr\">\r\n      <b-button class=\"pt-0 pb-0 bg-lt border-0\" @click=\"isEditFile ? canceFileEdit() : endProjectEdit()\">\r\n        {{isEditFile ? 'Назад' : 'Проекты'}}\r\n      </b-button>\r\n      <b-nav class=\"ml-3 pt-0 pb-0\">\r\n        <b-nav-text class=\"p-0 text-pr\">\r\n          {{ editor.parser.projName('(Без названия)') }} \r\n        </b-nav-text>\r\n        <b-nav-text v-if=\"isEditFile\" class=\"p-0 pl-2 text-dr\">\r\n          {{ '/ ' + sFile.schema.title }}\r\n        </b-nav-text>\r\n      </b-nav>\r\n      <b-navbar-nav class=\"ml-auto\" v-show=\"!isEditFile\">\r\n        <b-button class=\"pt-0 pb-0 mr-3\" @click=\"saveProject\" :disabled=\"changedFiles.size == 0\" :class=\"{'bg-lt text-pr brd-ac': changedFiles.size}\">Сохранить</b-button>\r\n        <b-button class=\"pt-0 pb-0 bg-lt text-pr brd-ac\" @click=\"runProject\">Заупстить</b-button>\r\n      </b-navbar-nav>\r\n    </b-navbar>\r\n\r\n    <b-row v-if=\"!isEditFile\" cols=\"5\" class=\"m-0 p-3\">\r\n      <b-col class=\"p-1\" v-for=\"(file,  ix) in files\" :key=\"ix\"> <!-- f[ключ, схема, данные] -->\r\n        <b-card\r\n          :class=\"`onhover_br-primary bg-pr text-center ${changedFiles.has(file[0]) ? 'brd-ac' : 'brd-se'}`\"\r\n          :footer-class=\"`text-nowrap p-1 text-center bg-lt ${changedFiles.has(file[0]) ? 'text-pr' : 'text-light'}`\"\r\n          :footer=\"file[1].title\"\r\n          @click=\"editFile(file[0], file[1], file[2])\"\r\n        >\r\n          <!-- <img-pixel class=\"p-0\" :src=\"`img/icons/e_${file[0]}.png`\" fail=\"img/icons/e_file.png\"/> -->\r\n          <b-icon :class=\"'iconcol-'+file[0]\" :icon=\"reskeyToIconAssociations[file[0]]\" font-scale=\"12\"/>\r\n        </b-card>\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <div v-else class=\"w-100\" style=\"height: 90%\">\r\n      <MapEditor v-if=\"sFile.schema.widget === 'mapeditor'\"\r\n        ref=\"editor\"\r\n        :schema=\"sFile.schema\"\r\n        :value=\"sFile.data\"\r\n        :editor=\"editor\"\r\n        @change=\"markChanged\"\r\n        @commit=\"commitFileChanges\"\r\n      />\r\n      <!-- <LocalesEditor v-else-if=\"sFile.schema.widget === 'locres'\"\r\n        :project=\"editor.project\"\r\n        :schema=\"sFile.schema\"\r\n        :value=\"sFile.data\"\r\n        @change=\"markChanged\"\r\n        @commit=\"commitFileChanges\"\r\n      /> -->\r\n      <AudioRes v-else-if=\"sFile.schema.widget === 'audres'\"\r\n        :editor=\"editor\"\r\n        :schema=\"sFile.schema\"\r\n        :data=\"sFile.data\"\r\n        @change=\"markChanged\"\r\n        @commit=\"commitFileChanges\"\r\n      />\r\n      <AnimRes v-else-if=\"sFile.schema.widget === 'animres'\"\r\n        :editor=\"editor\"\r\n        :schema=\"sFile.schema\"\r\n        :data=\"sFile.data\"\r\n        @change=\"markChanged\"\r\n        @commit=\"commitFileChanges\"\r\n      />\r\n      <DataRes v-else-if=\"sFile.schema.widget === 'datares'\"\r\n        :editor=\"editor\"\r\n        :schema=\"sFile.schema\"\r\n        :data=\"sFile.data\"\r\n        @change=\"markChanged\"\r\n        @commit=\"commitFileChanges\"\r\n      />\r\n      <ImageResourses v-else-if=\"sFile.schema.widget === 'imgres'\"\r\n        :editor=\"editor\"\r\n        :schema=\"sFile.schema\"\r\n        :data=\"sFile.data\"\r\n        @change=\"markChanged\"\r\n        @commit=\"commitFileChanges\"\r\n      />\r\n      <FormSchema v-else-if=\"sFile.schema.widget === 'form'\"\r\n        class=\"w-75 m-4\"\r\n        :editor=\"editor\"\r\n        :schema=\"sFile.schema\"\r\n        :value=\"sFile.data\"\r\n        @change=\"markChanged\"\r\n        @commit=\"commitFileChanges\"\r\n      /> \r\n      <b-container v-else-if=\"sFile.schema.widget === 'rulesres'\" fluid class=\"h-100 text-light m-2 p-1\">\r\n        <RulesEditor \r\n          style=\"height: calc(100% - 8vh)\"\r\n          :editor=\"editor\"\r\n          :schema=\"sFile.schema\"\r\n          :value=\"sFile.data\"\r\n          @change=\"markChanged\"\r\n          @commit=\"commitFileChanges\" \r\n        /> \r\n      </b-container>\r\n        <!-- class=\"w-75 h-100 m-4\" -->\r\n      <b-container v-else class=\"t-b text-light text-center\">\r\n        Виджет для данного типа отстутствует\r\n      </b-container>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FormSchema from '../FormSchema'\r\nimport MapEditor from '../editor/EditMap'\r\n// import LocalesEditor from '../editor/Locales'\r\nimport ImageResourses from '../editor/ImageResourses'\r\nimport DataRes from '../editor/DataRes'\r\nimport AnimRes from '../editor/AnimRes'\r\nimport AudioRes from '../editor/AudioRes'\r\nimport RulesEditor from './rules/RulesEditor'\r\n\r\nwindow.addEventListener('keydown', e=>{\r\n  if(e.key === 'Escape') vuec.endProjectEdit();\r\n})\r\nlet vuec;\r\n\r\nconst reskeyToIconAssociations = {\r\n  mn: 'file-text',\r\n  d: 'columns-gap',\r\n  i: 'images',\r\n  m: 'map',\r\n  a: 'music-note-beamed',\r\n  n: 'film',\r\n  // l: 'textarea-t',\r\n  r: 'code-slash',\r\n}\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      reskeyToIconAssociations,\r\n      sFile: {\r\n        name: '',\r\n        schema: {},\r\n        data: {},\r\n      },\r\n      changedFiles: new Set(),\r\n      isEditFile: false,\r\n    }\r\n  },\r\n  components: {\r\n    FormSchema,\r\n    MapEditor,\r\n    // LocalesEditor,\r\n    ImageResourses,\r\n    DataRes,\r\n    AnimRes,\r\n    AudioRes,\r\n    RulesEditor,\r\n  },\r\n  props: ['editor'],\r\n  computed: {\r\n    files(){\r\n      const projData = this.editor.project;\r\n      const res = [];\r\n      const schemaProps = this.editor.schema.properties;\r\n      for (let name in schemaProps) {\r\n        if(name==='l')continue; // TODO: Временное отключение раздела локализации\r\n        const schema = schemaProps[name];\r\n        res.push([name, schema, projData[name]])\r\n      }\r\n      // console.log('Сет [files]: ');\r\n      // console.dir(res);\r\n      return res;\r\n    }\r\n  },\r\n  mounted(){\r\n    vuec = this;\r\n  },\r\n  methods: {\r\n    editFile(name, schema, data){\r\n      // console.log('\\tEditFile:');\r\n      // console.table({ name, schema, data });\r\n      Object.assign(this.sFile, { name, schema, data });\r\n      this.isEditFile = true\r\n    },\r\n    markChanged(name = this.sFile.name){\r\n      this.changedFiles.add(name);\r\n    },\r\n    canceFileEdit(){\r\n      // console.log('\\tОтмена изменений: ');\r\n      if(this.$refs.editor && this.$refs.editor.exit){\r\n        this.isEditFile = !this.$refs.editor.exit();\r\n      }else{\r\n        this.isEditFile = false;\r\n      }\r\n    },\r\n    commitFileChanges(newData){\r\n      // console.log('\\tПодтверждение изменений: ');\r\n      // console.dir(newData);\r\n      this.editor.project[this.sFile.name] = newData;\r\n      // console.log('\\tПроект: ');\r\n      // console.dir(this.editor.project);\r\n      this.isEditFile = false;\r\n      this.markChanged();\r\n    },\r\n    endProjectEdit(){\r\n      if(this.isEditFile){\r\n        this.canceFileEdit();\r\n      }else if(this.changedFiles.size){\r\n        const vuec = this;\r\n        this.$store.dispatch('dialog', {\r\n          capt: 'Предупреждение',\r\n          msg: 'Изменения не сохранены, сохранить изменения перед выходом из редактора проекта?',\r\n          btns: [['Отмена'], ['Не сохранять', 'danger'], ['Cохранить', 'primary']],\r\n          onanswer(ix){\r\n            switch (ix) {\r\n              case 0: return;\r\n              case 1: vuec.changedFiles.clear(); break;\r\n              case 2: vuec.saveProject(); break;\r\n            }\r\n            vuec.$emit('exit');\r\n          }\r\n        });\r\n      }else{\r\n        this.$emit('exit');\r\n      }\r\n    },\r\n    saveProject(){\r\n      this.editor.saveChanges();\r\n      this.changedFiles.clear();\r\n      this.$forceUpdate();\r\n    },\r\n    runProject(){\r\n      this.saveProject();\r\n      const routeData = this.$router.resolve({\r\n        path: '/game',\r\n        query: {\r\n          runloc: this.editor.key,\r\n        },\r\n      });\r\n      window.open(routeData.href, '_blank');\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n  #link_gotoroot{\r\n    color: var(--primary);\r\n  }\r\n  #link_gotoroot:hover{\r\n    text-decoration: underline;\r\n  }\r\n\r\n  .iconcol-mn{  color: #cc5405}\r\n  .iconcol-d{   color: #004ac2} \r\n  .iconcol-i{   color: #02b402}\r\n  .iconcol-m{   color: #ad0202}\r\n  .iconcol-a{   color: #6f00b4}\r\n  .iconcol-n{   color: #a2b402}\r\n  .iconcol-r{   color: #0490bb}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProject.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProject.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditProject.vue?vue&type=template&id=137479f8&\"\nimport script from \"./EditProject.vue?vue&type=script&lang=js&\"\nexport * from \"./EditProject.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditProject.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-list-group',{staticClass:\"pr-2 text-nowrap overflow-auto\",staticStyle:{\"height\":\"89vh\"}},_vm._l((_vm.projects.entries()),function(key_proj){return _c('b-list-group-item',{key:key_proj[0],staticClass:\"mt-2 text-light d-flex p-0 bg-pr\",class:_vm.selected === key_proj[0] ? 'brd-ac' : 'brd-se',on:{\"click\":function($event){return _vm.$emit('select', key_proj[0])}}},[_c('img-pixel',{staticClass:\"w-25\",attrs:{\"src\":_vm.editor.parser.projPreview(key_proj[1])}}),_c('div',{staticClass:\"pl-3\"},[_c('h2',{staticClass:\"text-nowrap overflow-hidden\"},[_vm._v(_vm._s(_vm.editor.parser.projName('(Без названия)', key_proj[1])))]),_vm._v(\" Измененен: \"+_vm._s(_vm.editor.parser.projTimeUpd(key_proj[1]))+\" \")])],1)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-list-group style=\"height: 89vh\" class=\"pr-2 text-nowrap overflow-auto\">\r\n    <b-list-group-item\r\n      v-for=\"key_proj in projects.entries()\" :key=\"key_proj[0]\"\r\n      class=\"mt-2 text-light d-flex p-0 bg-pr\"\r\n      :class=\"selected === key_proj[0] ? 'brd-ac' : 'brd-se'\"\r\n      @click=\"$emit('select', key_proj[0])\"\r\n    >\r\n      <img-pixel class=\"w-25\" :src=\"editor.parser.projPreview(key_proj[1])\"/>\r\n      <div class=\"pl-3\">\r\n        <h2 class=\"text-nowrap overflow-hidden\">{{ editor.parser.projName('(Без названия)', key_proj[1]) }}</h2>\r\n        Измененен: {{ editor.parser.projTimeUpd(key_proj[1]) }}\r\n      </div>\r\n    </b-list-group-item>\r\n  </b-list-group>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['projects', 'selected', 'editor'],\r\n  watch: {\r\n    projects(v){\r\n      console.log(':');\r\n      console.dir(v)\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectList.vue?vue&type=template&id=3458c44c&\"\nimport script from \"./ProjectList.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default function getAverageColor(base64img) {\r\n  return new Promise((next)=>{\r\n\r\n    const imgEl = new Image();\r\n    imgEl.src = base64img;\r\n\r\n    console.log('\\n\\n\\t[ getAverageColor ]');\r\n    console.table({base64img});\r\n    imgEl.onload = function(){\r\n\r\n      var blockSize = 5, // only visit every 5 pixels\r\n          defaultRGB = {r:0,g:0,b:0}, // for non-supporting envs\r\n          canvas = document.createElement('canvas'),\r\n          context = canvas.getContext && canvas.getContext('2d'),\r\n          data, width, height,\r\n          i = -4,\r\n          length,\r\n          rgb = {r:0,g:0,b:0},\r\n          count = 0;\r\n    \r\n      if (!context) {\r\n          return defaultRGB;\r\n      }\r\n    \r\n      height = canvas.height = imgEl.naturalHeight || imgEl.offsetHeight || imgEl.height;\r\n      width = canvas.width = imgEl.naturalWidth || imgEl.offsetWidth || imgEl.width;\r\n    \r\n      context.drawImage(imgEl, 0, 0);\r\n    \r\n      try {\r\n          data = context.getImageData(0, 0, width, height);\r\n      } catch(e) {\r\n          /* security error, img on diff domain */\r\n          return defaultRGB;\r\n      }\r\n    \r\n      length = data.data.length;\r\n    \r\n      while ( (i += blockSize * 4) < length ) {\r\n          ++count;\r\n          rgb.r += data.data[i];\r\n          rgb.g += data.data[i+1];\r\n          rgb.b += data.data[i+2];\r\n      }\r\n    \r\n      // ~~ used to floor values\r\n      rgb.r = ~~(rgb.r/count);\r\n      rgb.g = ~~(rgb.g/count);\r\n      rgb.b = ~~(rgb.b/count);\r\n    \r\n      function toHex(num){\r\n        return (num.toString(16)).padStart(2, '0');\r\n      }\r\n\r\n      const hex = toHex(rgb.r)+toHex(rgb.g)+toHex(rgb.b);\r\n    \r\n      console.log('Средний цвет:');\r\n      console.table({from: rgb,to: hex});\r\n      next(hex);\r\n    }\r\n\r\n  })\r\n}","import Convert from './convert'\r\nimport LS from '../helpers/localStorage'\r\nimport ProjectDataParser from './projectDataParser'\r\n\r\nimport LayerFormat from './project_editor/layerFormatter'\r\n\r\nimport getAverageColor from './getAverageColor'\r\n\r\nimport emptyProjectData from './emptyProject.json'\r\n\r\n/** @param  {Editor} edit */\r\nfunction init(edit){\r\n  const {vue, project, schema: projSchema} = edit;\r\n  const thatTimeInMins = Convert.to.time.minutes(Date.now()); // Текущее время в минутах\r\n  // const defaultLang = vue.$store.getters.lang;\r\n\r\n  Object.assign(project.mn, {\r\n    t_c : thatTimeInMins,         // Время создания проекта\r\n    t_u : thatTimeInMins,         // Время изменения проекта\r\n    v_t : vue.$store.getters.vn,  // Целевая версия игрового движка\r\n    v_s : projSchema._v,          // Версия схемы проекта\r\n    // l   : defaultLang,            // Язык по-умолчанию для проекта\r\n  });\r\n\r\n  \r\n  // project.l[defaultLang] = { // Создание файла локализации для языка по-умолчанию\r\n  //   example: 'Hello, Polyx!',\r\n  // }\r\n  \r\n  // edit.create_map();\r\n  // edit.add_data('b', { n: 'violet',   c: '7000d9', is_p: true });\r\n  // edit.add_data('b', { n: 'green', c: '2fc908', is_p: true });\r\n  // edit.add_data('b', { n: 'cyan',  c: '07aaf5', is_p: true });\r\n  // edit.add_data('e', {\r\n  //   w: 0.8,\r\n  //   h: 0.8,\r\n  //   c: 'ff7700',\r\n  //   j: 212,\r\n  //   a: 300,\r\n  //   v: 150,\r\n  // })\r\n}\r\n\r\nconst Schema = {\r\n  PROJECT: 'project',\r\n  MAP:     'project.m_map',\r\n  BLOCK:   'project.d_block',\r\n  RPSTGS:  'project.rules',\r\n}\r\n\r\nexport default class Editor {\r\n\r\n    ___portate(){\r\n      const oldProj = Convert.copy(this.project);\r\n\r\n      // => MANIPULATE\r\n      oldProj.d.b.forEach(b => {\r\n        if(b.i!=null){\r\n          b.i = oldProj.i.b.findIndex(i=>i.__c === b.i)\r\n        }\r\n      });\r\n      // => MANIPULATE\r\n      \r\n      console.log('[ Project Editor ]:');\r\n      console.dir({before: this.project,after: oldProj,});\r\n      return oldProj;\r\n    }\r\n    ___saveProj(key, prolData){\r\n      LS.save(key, prolData, Convert.to.json);\r\n    }\r\n\r\n\r\n    constructor(vue, JSONSchemaHelper) {\r\n      this.vue = vue;\r\n      this.schema = JSONSchemaHelper.schemas.get(Schema.PROJECT);\r\n      this.jsonsh = JSONSchemaHelper;\r\n    }\r\n\r\n    createNewProject(key){\r\n      // this.setProject(key, this.jsonsh.create(Schema.PROJECT));\r\n      this.setProject(key, Convert.copy(emptyProjectData));\r\n      init(this)\r\n      return this.project;\r\n    }\r\n\r\n    saveChanges(){\r\n      this.project.mn.t_u = Convert.to.time.minutes(Date.now()); // Текущее время в минутах\r\n      // this.setProject(this.project);\r\n      if(this.key){\r\n        LS.save(this.key, this.project, Convert.to.json);\r\n      }\r\n    }\r\n\r\n\r\n    setProject(key, data){\r\n      this.key = key;\r\n      this.project = Convert.copy(data);\r\n      this.parser = new ProjectDataParser(this.project);\r\n\r\n      // NOTE: DEBUG\r\n      window.$$$PROJECT = this.project\r\n    }\r\n\r\n    setAutoPreview(base64data){\r\n      this.project.mn.pv_a = base64data;\r\n    }\r\n\r\n\r\n    schema_block(){ return this.jsonsh.get(Schema.BLOCK) }\r\n    async upd_data(categ, ix, data){\r\n      switch(categ){\r\n        case 'b':\r\n          if(!data.c){\r\n            data.c = await getAverageColor(this.parser.imgByCAI('b', data.i))\r\n          }\r\n          break;\r\n      }\r\n      this.project.d[categ][ix] = data;\r\n    }\r\n    async add_data(categ, data){\r\n      switch(categ){\r\n        case 'b':\r\n          if(!data.c){\r\n            data.c = await getAverageColor(this.parser.imgByCAI('b', data.i))\r\n          }\r\n          break;\r\n      }\r\n      this.project.d[categ].push(data);\r\n    }\r\n\r\n\r\n\r\n    schema_map(){ return this.jsonsh.get(Schema.MAP) }\r\n    create_map(){\r\n      const map = this.jsonsh.create(Schema.MAP);\r\n      map.m.t_c = map.m.t_u = Convert.to.time.minutes(Date.now()); // Текущее время в минутах\r\n      map.m.c = '111111';\r\n      \r\n      this.add_map(map);\r\n      return map;\r\n    }\r\n    // edit_mapUpd(ix, data){\r\n    //   data.m.t_u = Convert.to.time.minutes(Date.now());\r\n    //   this.project.m[ix] = data;\r\n    // }\r\n    upd_map(mapId, mapdata){\r\n      const map = this.project.m[mapId];\r\n      map.d.p = mapdata.data.blocksProps;\r\n      map.m.t_u = Convert.to.time.minutes(Date.now());\r\n      map.l = {\r\n        // b: LayerFormat.stringify(layers.b),\r\n        m: LayerFormat.stringify(mapdata.layers.m),\r\n        s: Convert.to.json(mapdata.layers.s),\r\n      };\r\n    }\r\n    add_map(data){\r\n      this.project.m.push(data);\r\n    }\r\n\r\n\r\n    \r\n    upd_anim(ix, data){\r\n      this.project.n[ix] = data;\r\n    }\r\n    add_anim(data){\r\n      this.project.n.push(data);\r\n    }\r\n\r\n\r\n    schema_rpstgs(){ return this.jsonsh.get(Schema.RPSTGS).items.properties.s }\r\n\r\n}","import Ajv from 'ajv'\r\n\r\nconst typeGen = {\r\n  'array': ()=>[],\r\n  'object': ()=>({}),\r\n  'string': ()=>'',\r\n  'number': ()=>0,\r\n  'boolean': ()=>!1,\r\n}\r\n\r\nfunction compile(schemaRoot) {\r\n  const definitions = schemaRoot.definitions;\r\n  // const additions = schemaRoot._additions;\r\n\r\n  function recursive(defs, schema) {\r\n    if(schema.$ref && schema.$ref.startsWith('#')){\r\n      const def = {...defs[schema.$ref.slice(1)]};\r\n      delete def.$id;\r\n      schema = {\r\n        ...def,\r\n        ...schema,\r\n      }\r\n      delete  schema.$ref;\r\n      // TODO: инлайнер внешних схем, по переданному набору схем\r\n    }\r\n    for (let k in schema) {\r\n      if(typeof schema[k] !== 'object')continue;\r\n      schema[k] = recursive(defs, schema[k])\r\n      // Object.assign(schema[k], additions[k]||{})\r\n    }\r\n    return schema;\r\n  }\r\n\r\n  return recursive(definitions, schemaRoot);\r\n  // debugger\r\n}\r\n\r\nfunction create(schema) {\r\n  const r = {}\r\n  const props = schema.properties;\r\n  if(!props)return typeGen['object']();\r\n  for (let k in props) {\r\n    if(props[k].type !== 'object'){\r\n      if(props[k].default == null){\r\n        const t = props[k].type;\r\n        if(!t)return null; \r\n        r[k] = typeGen[t]();\r\n      }else{\r\n        r[k] = props[k].default;\r\n      }\r\n    }else{\r\n      r[k] = create(props[k])\r\n    }\r\n  }\r\n  return r;\r\n}\r\n\r\nexport default function(schemasList) {\r\n  const originalSchemas = new Map(schemasList.map(s=>[s.$id, s]));\r\n  const inlinedSchemas = new Map();\r\n  originalSchemas.forEach((schema, schId)=>{\r\n    const compiledSchema = compile({...schema});\r\n    const defs = compiledSchema.definitions;\r\n    inlinedSchemas.set(schId, compiledSchema);\r\n\r\n    if(defs){\r\n      for (const defId in defs) {\r\n        const defSchema = defs[defId];\r\n        \r\n        inlinedSchemas.set(schId+'.'+defId, defSchema);\r\n      }\r\n    }\r\n  })\r\n\r\n  const ajv = new Ajv({\r\n    schemas: inlinedSchemas.values(),\r\n  });\r\n\r\n  console.log('[ JSONSchemaHelper ] schemas:');\r\n  console.table({\r\n    originalSchemas,\r\n    inlinedSchemas,\r\n  });\r\n  return {\r\n    ajv,\r\n    /** Возвращает структуру со значениями соответствующим типам @param {Object|string} schema_or_sid - JSON-Схема с типом объекта или ее id*/\r\n    create(schema_or_sid){\r\n      let schema = schema_or_sid;\r\n      if(typeof schema_or_sid === 'string'){\r\n        schema = inlinedSchemas.get(schema_or_sid);\r\n        if(!schema){\r\n          console.error(`[ JSONSchemaHelper ] Не найдена схема \"${schema_or_sid}\"`)\r\n        }\r\n      }\r\n      return create(schema);\r\n    },\r\n    get(k){\r\n      return inlinedSchemas.get(k)\r\n    },\r\n    validate(schema, data){\r\n      return ajv.validate(schema, data)\r\n    },\r\n    schemas: inlinedSchemas,\r\n  };\r\n}\r\n","<template>\r\n  <b-container v-if=\"isLoaded && !isEditMode\" class=\"p-0 h-100 w-100\" fluid>\r\n    \r\n    <b-container class=\"editor_col\" style=\"width: 40%;\">\r\n      <img-pixel class=\"w-100\" :src=\"projs.size !== 0 ? editor.parser.projPreview() : 'https://picsum.photos/600/300/'\"/>\r\n      <b-card v-if=\"projs.size !== 0\"\r\n        :title=\"editor.parser.projName('(Без названия)')\"\r\n        text-variant=\"light\"\r\n        class=\"brd-se\"\r\n        body-class=\"bg-pr\"\r\n        footer-class=\"bg-pr\"\r\n      >\r\n        <!-- <template v-slot:header class=\"w-100 h-25\">\r\n        </template> -->\r\n        <span class=\"text-secondary\">{{projectBytes/1000}} КБайт</span>\r\n        <b-card-text class=\"overflow-hidden\" style=\"white-space: pre-line\">\r\n          {{ editor.parser.projDescr() }}\r\n        </b-card-text>\r\n        <template v-slot:footer>\r\n          <b-button variant=\"danger\" @click=\"deleteCurrentProj\">\r\n            Удалить проект\r\n          </b-button>\r\n          <b-button class=\"mr-2\" @click=\"editCurrentProj\" variant=\"success\">\r\n            Редактировать\r\n          </b-button>\r\n        </template>\r\n      </b-card>\r\n      <b-card v-else class=\"text-center text-secondary\">\r\n        <h2>Создайте проект</h2>\r\n      </b-card>\r\n    </b-container>\r\n\r\n    <b-container class=\"editor_col\" style=\"width: 60%;\">\r\n      <b-button class=\"mr-2\" variant=\"primary\" @click=\"newProj\">\r\n        + Создать новый проект\r\n      </b-button>\r\n      <!-- <b-button  variant=\"primary\" disabled>\r\n        + Импортировать проект\r\n      </b-button> -->\r\n      <!-- <b-button  variant=\"success\" @click=\"_test_portateProject\">\r\n        TEST: Портировать данные проекта\r\n      </b-button> -->\r\n      <!-- <b-button  variant=\"success\" @click=\"_test_saveNewProjData\">\r\n        TEST:  Сохранить портированные данные проекта\r\n      </b-button> -->\r\n      <ProjectList ref=\"projls\" v-if=\"projs.size !== 0\" :projects=\"projs\" :selected=\"sprojkey\" :editor=\"editor\" @select=\"selectProject\"/>\r\n      <!-- TODO: сообщение об отсутствии проектов -->\r\n    </b-container>\r\n\r\n\r\n  </b-container>\r\n  <ProjectEditorView v-else-if=\"isLoaded\" :editor=\"editor\" @exit=\"exitEdit\"/>\r\n</template>\r\n\r\n<script>\r\nimport ProjectEditorView from '../components/editor/EditProject'\r\nimport ProjectList from '../components/editor/ProjectList'\r\n\r\nimport LS from '../helpers/localStorage'\r\nimport Convert from '../helpers/convert'\r\nimport Editor from '../helpers/projectEditor'\r\nimport JSONSchemaHelper from '../helpers/JSONSchema'\r\nimport getJSONBytes from '../helpers/getJSONSizeInBytes'\r\n\r\n// import schemaProj from '../../public/schemas/project.json'\r\n\r\nconst LSK_projPef = 'p' // Local storage key: project prefix\r\n\r\nfunction getFirstProjKey(projs) {\r\n  return [...projs.keys()][0];\r\n}\r\n\r\nlet _test_newProjData;\r\n\r\nexport default {\r\n  data(){\r\n    const projsLoaded = LS.many.loadAll(LSK_projPef, Convert.from.json);\r\n    const projs = new Map();\r\n    // Reverse list\r\n    [...projsLoaded.keys()].reverse().forEach(k => projs.set(k, projsLoaded.get(k)))\r\n    // Reverse list\r\n    console.dir('projs:');\r\n    console.dir(projs);\r\n\r\n    return {\r\n      isLoaded: false,\r\n      editor: {},\r\n      projectBytes: 0,\r\n      projs, // Список проектов\r\n      sprojkey: getFirstProjKey(projs), // Выбранный проект\r\n      isEditMode: false,\r\n    };\r\n  },\r\n  components: {\r\n    ProjectEditorView,\r\n    ProjectList,\r\n  },\r\n  watch: {\r\n    isEditMode(v){\r\n      this.$store.dispatch('setSidebarHide', v)\r\n    },\r\n  },\r\n  async mounted(){\r\n    const schemaProj = await import('../../public/schemas/project.json');\r\n    const jsonsh = JSONSchemaHelper([schemaProj]);\r\n\r\n    const projeditor = new Editor(this, jsonsh);\r\n    this.editor = projeditor;\r\n\r\n    this.selectProject(this.sprojkey);\r\n\r\n    console.log('Project Schema:');\r\n    console.table({\r\n      source: schemaProj,\r\n      inlined: this.editor.schema,\r\n    });\r\n    this.isLoaded = true;\r\n  },\r\n  methods: {\r\n    _test_portateProject(){\r\n      _test_newProjData = this.editor.___portate();\r\n    },\r\n    _test_saveNewProjData(){\r\n      this.editor.___saveProj(this.editor.key, _test_newProjData);\r\n    },\r\n\r\n    editCurrentProj(){\r\n      this.isEditMode = true;\r\n      console.dir('\\tРедактирование проекта:');\r\n      console.dir([this.editor.key, this.editor.project]);\r\n    },\r\n\r\n    newProj(){\r\n      const key = LS.many.getNextKey(LSK_projPef);\r\n      const newProject = this.editor.createNewProject(key);\r\n      \r\n      this.projs.set(key, newProject);\r\n      this.sprojkey = key;\r\n      // LS.save(key, newProject, Convert.to.json);\r\n\r\n      console.dir('\\tСоздан проект:');\r\n      console.dir(newProject);\r\n      this.editCurrentProj();\r\n    },\r\n    deleteCurrentProj(){\r\n      const vuec = this;\r\n      this.$store.dispatch('dialog', {\r\n        capt: 'Предупреждение',\r\n        msg: 'Вы действительно хотите удалить проект?',\r\n        btns: [['Отмена'], ['Да', 'danger']],\r\n        onanswer(ix){\r\n          if(ix === 1){\r\n            vuec.projs.delete(vuec.editor.key);\r\n            localStorage.removeItem(vuec.editor.key);\r\n            vuec.$refs.projls.$forceUpdate();\r\n          }\r\n        }\r\n      })\r\n    },\r\n    selectProject(projKey){\r\n      this.sprojkey = projKey;\r\n      const proj = {...this.projs.get(projKey)};\r\n      this.editor.setProject(projKey, proj);\r\n      this.projectBytes = getJSONBytes(JSON.stringify(proj)); // TODO: Оверхедный костыль, \r\n\r\n      console.log(`\\tВыбран проект: ${projKey}`);\r\n      console.dir(proj);\r\n    },\r\n\r\n    exitEdit(){\r\n      this.isEditMode = false;\r\n      console.log('key: '+this.editor.key)\r\n      this.projs.set(this.editor.key, this.editor.project);\r\n      // this.$refs.projls.$forceUpdate();\r\n      // this.selectProject(this.editor.key);\r\n      // const key = this.sprojkey; \r\n      // const loadedThisProj = LS.load(key, null, Convert.from.json);\r\n      // this.projs.set(key, loadedThisProj);\r\n      // this.selectProject(key);\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n  /* html>body div.card.card_projectinfo{\r\n    height: 100%;\r\n  } */\r\n  /* .col > *{\r\n    max-height: 100%;\r\n  } */\r\n  .editor_col{\r\n    \r\n    height: 98vh;\r\n    margin-top: 1vh;\r\n    float: left;\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=70949d64&\"\nimport script from \"./Editor.vue?vue&type=script&lang=js&\"\nexport * from \"./Editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Editor.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nmodule.exports = function generate__limit(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $isMax = $keyword == 'maximum',\n    $exclusiveKeyword = $isMax ? 'exclusiveMaximum' : 'exclusiveMinimum',\n    $schemaExcl = it.schema[$exclusiveKeyword],\n    $isDataExcl = it.opts.$data && $schemaExcl && $schemaExcl.$data,\n    $op = $isMax ? '<' : '>',\n    $notOp = $isMax ? '>' : '<',\n    $errorKeyword = undefined;\n  if ($isDataExcl) {\n    var $schemaValueExcl = it.util.getData($schemaExcl.$data, $dataLvl, it.dataPathArr),\n      $exclusive = 'exclusive' + $lvl,\n      $exclType = 'exclType' + $lvl,\n      $exclIsNumber = 'exclIsNumber' + $lvl,\n      $opExpr = 'op' + $lvl,\n      $opStr = '\\' + ' + $opExpr + ' + \\'';\n    out += ' var schemaExcl' + ($lvl) + ' = ' + ($schemaValueExcl) + '; ';\n    $schemaValueExcl = 'schemaExcl' + $lvl;\n    out += ' var ' + ($exclusive) + '; var ' + ($exclType) + ' = typeof ' + ($schemaValueExcl) + '; if (' + ($exclType) + ' != \\'boolean\\' && ' + ($exclType) + ' != \\'undefined\\' && ' + ($exclType) + ' != \\'number\\') { ';\n    var $errorKeyword = $exclusiveKeyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || '_exclusiveLimit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'' + ($exclusiveKeyword) + ' should be boolean\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else if ( ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n    }\n    out += ' ' + ($exclType) + ' == \\'number\\' ? ( (' + ($exclusive) + ' = ' + ($schemaValue) + ' === undefined || ' + ($schemaValueExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ') ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValueExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) : ( (' + ($exclusive) + ' = ' + ($schemaValueExcl) + ' === true) ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValue) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { var op' + ($lvl) + ' = ' + ($exclusive) + ' ? \\'' + ($op) + '\\' : \\'' + ($op) + '=\\'; ';\n    if ($schema === undefined) {\n      $errorKeyword = $exclusiveKeyword;\n      $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n      $schemaValue = $schemaValueExcl;\n      $isData = $isDataExcl;\n    }\n  } else {\n    var $exclIsNumber = typeof $schemaExcl == 'number',\n      $opStr = $op;\n    if ($exclIsNumber && $isData) {\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ( ' + ($schemaValue) + ' === undefined || ' + ($schemaExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ' ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { ';\n    } else {\n      if ($exclIsNumber && $schema === undefined) {\n        $exclusive = true;\n        $errorKeyword = $exclusiveKeyword;\n        $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n        $schemaValue = $schemaExcl;\n        $notOp += '=';\n      } else {\n        if ($exclIsNumber) $schemaValue = Math[$isMax ? 'min' : 'max']($schemaExcl, $schema);\n        if ($schemaExcl === ($exclIsNumber ? $schemaValue : true)) {\n          $exclusive = true;\n          $errorKeyword = $exclusiveKeyword;\n          $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n          $notOp += '=';\n        } else {\n          $exclusive = false;\n          $opStr += '=';\n        }\n      }\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' || ' + ($data) + ' !== ' + ($data) + ') { ';\n    }\n  }\n  $errorKeyword = $errorKeyword || $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { comparison: ' + ($opExpr) + ', limit: ' + ($schemaValue) + ', exclusive: ' + ($exclusive) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be ' + ($opStr) + ' ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","import LayerFormat from './layerFormatter'\r\n\r\nconst emptyFiller = -1;\r\n\r\nfunction createEmptyMap(width, height){\r\n  return new Array(height).fill([]).map(()=>new Array(width).fill(emptyFiller));\r\n}\r\nfunction resizeLayer(layer, width, height){\r\n  let res = layer.map(r=> r.length >= width ? r.splice(0,width) : r.concat(new Array(width-r.length).fill(emptyFiller)));\r\n  if(res.length >= height){\r\n    res.length = height;\r\n  }else{\r\n    res = res.concat(createEmptyMap(width, height-layer.length))\r\n  }\r\n  return res;\r\n}\r\n\r\nexport default function layerProcess(layerData_str, width, height){\r\n  let layer = layerData_str ? LayerFormat.parse(layerData_str) : createEmptyMap(width, height);\r\n  return resizeLayer(layer, width, height);\r\n}","import Convert from './convert'\r\n\r\n// import LayerFormat from './project_editor/layerFormatter'\r\nimport LayerProcess from './project_editor/layerProcess'\r\n\r\nconst key_searchName = 'n';\r\n\r\nfunction tryJSONParse(data){\r\n  return typeof data === 'string' ? Convert.from.json(data) : data;\r\n}\r\n\r\nconst browserLang = navigator.language || navigator.userLanguage; \r\nconst intlDate = new Intl.DateTimeFormat(browserLang, {\r\n  weekday: 'long',\r\n  year: 'numeric',\r\n  month: 'short',\r\n  day: '2-digit',\r\n  hour: 'numeric',\r\n  minute: 'numeric',\r\n});\r\n\r\nexport default class ProjectDataParser {\r\n\r\n    constructor(projectData = {}) {\r\n      this.project = projectData;\r\n\r\n      this.maps = this.project.m || [];\r\n      this.images = this.project.i || {};\r\n      this.anims = this.project.n || [];\r\n      this.audio = this.project.a || {};\r\n      this.datas = this.project.d || {};\r\n      this.rules = this.project.r || [];\r\n      this.manifest = this.project.mn || {};\r\n      this.cellSize = this.manifest.cs || 16;\r\n    }\r\n\r\n\r\n    \r\n    // NOTE: MANIFEST\r\n    v(){return this.manifest.v_s}\r\n    projName(deflt='', proj = this.project){return tryJSONParse(proj).mn.n || deflt}\r\n    projDescr(deflt='', proj = this.project){return tryJSONParse(proj).mn.d || deflt}\r\n    projPreview(proj = this.project){return tryJSONParse(proj).mn.pv || tryJSONParse(proj).mn.pv_a || 'img/preview.png'}\r\n    isHasAutoPreview(proj = this.project){return tryJSONParse(proj).mn.pv_a != null}\r\n    projTimeUpd(proj = this.project){\r\n      const date = Convert.from.time.minutes(proj.mn.t_u)\r\n      return intlDate.format(date).replace(/^./, l=>l.toUpperCase());\r\n    }\r\n\r\n\r\n    // NOTE: ANIMATIONS\r\n    animData(id){\r\n      const anim = this.anims[id];\r\n      const sprite = this.imgByCAI(anim._c, anim.i);\r\n      return {\r\n        fWidth: anim.w,\r\n        fHeight: anim.h,\r\n        sprite,\r\n        fStart: anim.fs,\r\n        fEnd: anim.fe,\r\n        fRate: anim.s,\r\n        yoyo: anim.yy,\r\n      }\r\n    }\r\n    animCfg(scene, categ, id, texName){\r\n      const anim = this.anims.filter(a=>a._c===categ)[id];\r\n      // console.log(`animCfg(${[scene, categ, id, texName].join(', ')}):`);\r\n      // console.table({filtered: this.anims.filter(a=>a._c===categ), anim});\r\n      // texName;\r\n      return {\r\n        // _fh: anim.h,\r\n        // _fw: anim.w,\r\n        key: ''+id,\r\n        frames:\r\n          anim.fs !== anim.fe\r\n          ? scene.anims.generateFrameNumbers(texName, { start: anim.fs, end: anim.fe })\r\n          : [ { key: texName, frame: anim.fs } ],\r\n        frameRate: anim.s,\r\n        yoyo: anim.yy,\r\n        repeat: anim.r || -1,\r\n      }\r\n    }\r\n\r\n    // NOTE: AUDIOS\r\n    audAll(){\r\n      return {\r\n        e: this.audio.e.map((a, id)=>({ id, name: a.n, info: a.i, data: a.d })),\r\n        m: this.audio.m.map((a, id)=>({ id, name: a.n, info: a.i, data: a.d })),\r\n      }\r\n    }\r\n\r\n    // NOTE: IMAGES\r\n    imgByCAI(category, ingId){\r\n      try {return this.images[category][ingId].d;\r\n      } catch (e) {return ''}\r\n    }\r\n    imgNameByCAI(category, ingId){\r\n      try {return this.images[category][ingId][key_searchName];\r\n      } catch (e) {return ''}\r\n    }\r\n\r\n\r\n    // NOTE: MAPS\r\n    mapSize(mapIx_OR_map){\r\n      const manifest = typeof mapIx_OR_map === 'number' ? this.maps[mapIx_OR_map].m : mapIx_OR_map.m;\r\n      return {\r\n        width: manifest.w,\r\n        height: manifest.h,\r\n      }\r\n    }\r\n    mapColor(mapIx_OR_map){\r\n      const manifest = (typeof mapIx_OR_map === 'number' ? this.maps[mapIx_OR_map].m : mapIx_OR_map.m) || '000000';\r\n      return +('0x' + manifest.c);\r\n    }\r\n    mapData(mapIx){\r\n      const map = this.maps[mapIx];\r\n      const size = this.mapSize(map);\r\n      const layerList = map.l;\r\n      return {\r\n        // b: LayerProcess(layerList.b, width, height),\r\n        data: {\r\n          blocksProps: map.d.p,\r\n        },\r\n        layers: {\r\n          s: Convert.from.json(layerList.s || {}),\r\n          m: LayerProcess(layerList.m, size.width, size.height),\r\n        },\r\n      }\r\n    }\r\n    // mapLayers(mapIx){\r\n    //   const map = this.maps[mapIx];\r\n    //   const size = this.mapSize(map);\r\n    //   const layerList = map.l;\r\n    //   return {\r\n    //     // b: LayerProcess(layerList.b, width, height),\r\n    //     s: Convert.from.json(layerList.s || {}),\r\n    //     m: LayerProcess(layerList.m, size.width, size.height),\r\n    //   }\r\n    // }\r\n    mapGravity(mapIx){\r\n      const map = this.maps[mapIx];\r\n      return map.m.p_g;\r\n    }\r\n      \r\n\r\n\r\n    // NOTE: DATA\r\n    d_blocks(){return this.datas.b || []}\r\n      sumBlockDataList(){\r\n        const blocks = Convert.copy(this.d_blocks());\r\n        blocks.forEach(b => {\r\n          b.i = this.imgByCAI('b', b.i);\r\n        });\r\n        return blocks;\r\n      }\r\n      collisblBlocksIds(){\r\n        const ids = [];\r\n        this.d_blocks().forEach((b, ix) => {\r\n          if(b.is_p) ids.push(ix)\r\n        });\r\n        return ids;\r\n      }\r\n      blocksTextures(){\r\n        return this.sumBlockDataList().map(b=>b.i||b.c);\r\n      }\r\n    d_structs(){return this.datas.s || []}\r\n      sumStructDataList(){\r\n        const structs = Convert.copy(this.d_structs());\r\n        return structs.map(s => ({\r\n          name        : s.n,\r\n          texture     : this.imgByCAI('s', s.i),\r\n          width       : s.w * this.cellSize,\r\n          height      : s.h * this.cellSize,\r\n          color       : s.c,\r\n          isPhysical  : s.is_p,\r\n        }));\r\n      }\r\n      structsTextures(){\r\n        return this.sumStructDataList().map(b=>b.texture||b.color);\r\n      }\r\n      structsSizeList(){\r\n        return this.d_structs().map(s=>[\r\n          s.w * this.cellSize, \r\n          s.h * this.cellSize,\r\n        ]);\r\n      }\r\n    d_entities(){return this.datas.e || []}\r\n      getEntityData(ix){\r\n        const ent = this.d_entities()[ix];\r\n        \r\n        let anims = (ent.al||'').split(' ').filter(v=>v.length).map(v=>+v);\r\n        if(anims[0]===''){ anims = null }\r\n\r\n        return {\r\n          tid     : ix,\r\n          name    : ent.n,\r\n          rules   : ent.rls,\r\n          categ   : 'e',\r\n          descr   : ent.d,\r\n          width   : ent.w * this.cellSize,\r\n          height  : ent.h * this.cellSize,\r\n          anims,\r\n          sprite  : typeof ent.i === 'number' ? this.imgByCAI('e', ent.i) : '',\r\n          color   : +('0x'+ent.c) || 0x005500,\r\n          velX    : ent.vx,\r\n          velY    : ent.vy,\r\n          maxVelX : ent.mx,\r\n          maxVelY : ent.my,\r\n          acelX   : ent.ax,\r\n          acelY   : ent.ay,\r\n          dragX   : ent.dx,\r\n          dragY   : ent.dy,\r\n        }\r\n      }\r\n\r\n\r\n    // NOTE: RULES\r\n    // r_rules(){return this.datas.b}\r\n\r\n\r\n}","'use strict';\n\nvar ruleModules = require('../dotjs')\n  , toHash = require('./util').toHash;\n\nmodule.exports = function rules() {\n  var RULES = [\n    { type: 'number',\n      rules: [ { 'maximum': ['exclusiveMaximum'] },\n               { 'minimum': ['exclusiveMinimum'] }, 'multipleOf', 'format'] },\n    { type: 'string',\n      rules: [ 'maxLength', 'minLength', 'pattern', 'format' ] },\n    { type: 'array',\n      rules: [ 'maxItems', 'minItems', 'items', 'contains', 'uniqueItems' ] },\n    { type: 'object',\n      rules: [ 'maxProperties', 'minProperties', 'required', 'dependencies', 'propertyNames',\n               { 'properties': ['additionalProperties', 'patternProperties'] } ] },\n    { rules: [ '$ref', 'const', 'enum', 'not', 'anyOf', 'oneOf', 'allOf', 'if' ] }\n  ];\n\n  var ALL = [ 'type', '$comment' ];\n  var KEYWORDS = [\n    '$schema', '$id', 'id', '$data', '$async', 'title',\n    'description', 'default', 'definitions',\n    'examples', 'readOnly', 'writeOnly',\n    'contentMediaType', 'contentEncoding',\n    'additionalItems', 'then', 'else'\n  ];\n  var TYPES = [ 'number', 'integer', 'string', 'array', 'object', 'boolean', 'null' ];\n  RULES.all = toHash(ALL);\n  RULES.types = toHash(TYPES);\n\n  RULES.forEach(function (group) {\n    group.rules = group.rules.map(function (keyword) {\n      var implKeywords;\n      if (typeof keyword == 'object') {\n        var key = Object.keys(keyword)[0];\n        implKeywords = keyword[key];\n        keyword = key;\n        implKeywords.forEach(function (k) {\n          ALL.push(k);\n          RULES.all[k] = true;\n        });\n      }\n      ALL.push(keyword);\n      var rule = RULES.all[keyword] = {\n        keyword: keyword,\n        code: ruleModules[keyword],\n        implements: implKeywords\n      };\n      return rule;\n    });\n\n    RULES.all.$comment = {\n      keyword: '$comment',\n      code: ruleModules.$comment\n    };\n\n    if (group.type) RULES.types[group.type] = group;\n  });\n\n  RULES.keywords = toHash(ALL.concat(KEYWORDS));\n  RULES.custom = {};\n\n  return RULES;\n};\n","'use strict';\nmodule.exports = function generate_uniqueItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (($schema || $isData) && it.opts.uniqueItems !== false) {\n    if ($isData) {\n      out += ' var ' + ($valid) + '; if (' + ($schemaValue) + ' === false || ' + ($schemaValue) + ' === undefined) ' + ($valid) + ' = true; else if (typeof ' + ($schemaValue) + ' != \\'boolean\\') ' + ($valid) + ' = false; else { ';\n    }\n    out += ' var i = ' + ($data) + '.length , ' + ($valid) + ' = true , j; if (i > 1) { ';\n    var $itemType = it.schema.items && it.schema.items.type,\n      $typeIsArray = Array.isArray($itemType);\n    if (!$itemType || $itemType == 'object' || $itemType == 'array' || ($typeIsArray && ($itemType.indexOf('object') >= 0 || $itemType.indexOf('array') >= 0))) {\n      out += ' outer: for (;i--;) { for (j = i; j--;) { if (equal(' + ($data) + '[i], ' + ($data) + '[j])) { ' + ($valid) + ' = false; break outer; } } } ';\n    } else {\n      out += ' var itemIndices = {}, item; for (;i--;) { var item = ' + ($data) + '[i]; ';\n      var $method = 'checkDataType' + ($typeIsArray ? 's' : '');\n      out += ' if (' + (it.util[$method]($itemType, 'item', true)) + ') continue; ';\n      if ($typeIsArray) {\n        out += ' if (typeof item == \\'string\\') item = \\'\"\\' + item; ';\n      }\n      out += ' if (typeof itemIndices[item] == \\'number\\') { ' + ($valid) + ' = false; j = itemIndices[item]; break; } itemIndices[item] = i; } ';\n    }\n    out += ' } ';\n    if ($isData) {\n      out += '  }  ';\n    }\n    out += ' if (!' + ($valid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('uniqueItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { i: i, j: j } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT have duplicate items (items ## \\' + j + \\' and \\' + i + \\' are identical)\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema:  ';\n        if ($isData) {\n          out += 'validate.schema' + ($schemaPath);\n        } else {\n          out += '' + ($schema);\n        }\n        out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_validate(it, $keyword, $ruleType) {\n  var out = '';\n  var $async = it.schema.$async === true,\n    $refKeywords = it.util.schemaHasRulesExcept(it.schema, it.RULES.all, '$ref'),\n    $id = it.self._getId(it.schema);\n  if (it.opts.strictKeywords) {\n    var $unknownKwd = it.util.schemaUnknownRules(it.schema, it.RULES.keywords);\n    if ($unknownKwd) {\n      var $keywordsMsg = 'unknown keyword: ' + $unknownKwd;\n      if (it.opts.strictKeywords === 'log') it.logger.warn($keywordsMsg);\n      else throw new Error($keywordsMsg);\n    }\n  }\n  if (it.isTop) {\n    out += ' var validate = ';\n    if ($async) {\n      it.async = true;\n      out += 'async ';\n    }\n    out += 'function(data, dataPath, parentData, parentDataProperty, rootData) { \\'use strict\\'; ';\n    if ($id && (it.opts.sourceCode || it.opts.processCode)) {\n      out += ' ' + ('/\\*# sourceURL=' + $id + ' */') + ' ';\n    }\n  }\n  if (typeof it.schema == 'boolean' || !($refKeywords || it.schema.$ref)) {\n    var $keyword = 'false schema';\n    var $lvl = it.level;\n    var $dataLvl = it.dataLevel;\n    var $schema = it.schema[$keyword];\n    var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n    var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n    var $breakOnError = !it.opts.allErrors;\n    var $errorKeyword;\n    var $data = 'data' + ($dataLvl || '');\n    var $valid = 'valid' + $lvl;\n    if (it.schema === false) {\n      if (it.isTop) {\n        $breakOnError = true;\n      } else {\n        out += ' var ' + ($valid) + ' = false; ';\n      }\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'false schema') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'boolean schema is false\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n    } else {\n      if (it.isTop) {\n        if ($async) {\n          out += ' return data; ';\n        } else {\n          out += ' validate.errors = null; return true; ';\n        }\n      } else {\n        out += ' var ' + ($valid) + ' = true; ';\n      }\n    }\n    if (it.isTop) {\n      out += ' }; return validate; ';\n    }\n    return out;\n  }\n  if (it.isTop) {\n    var $top = it.isTop,\n      $lvl = it.level = 0,\n      $dataLvl = it.dataLevel = 0,\n      $data = 'data';\n    it.rootId = it.resolve.fullPath(it.self._getId(it.root.schema));\n    it.baseId = it.baseId || it.rootId;\n    delete it.isTop;\n    it.dataPathArr = [undefined];\n    if (it.schema.default !== undefined && it.opts.useDefaults && it.opts.strictDefaults) {\n      var $defaultMsg = 'default is ignored in the schema root';\n      if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n      else throw new Error($defaultMsg);\n    }\n    out += ' var vErrors = null; ';\n    out += ' var errors = 0;     ';\n    out += ' if (rootData === undefined) rootData = data; ';\n  } else {\n    var $lvl = it.level,\n      $dataLvl = it.dataLevel,\n      $data = 'data' + ($dataLvl || '');\n    if ($id) it.baseId = it.resolve.url(it.baseId, $id);\n    if ($async && !it.async) throw new Error('async schema in sync schema');\n    out += ' var errs_' + ($lvl) + ' = errors;';\n  }\n  var $valid = 'valid' + $lvl,\n    $breakOnError = !it.opts.allErrors,\n    $closingBraces1 = '',\n    $closingBraces2 = '';\n  var $errorKeyword;\n  var $typeSchema = it.schema.type,\n    $typeIsArray = Array.isArray($typeSchema);\n  if ($typeSchema && it.opts.nullable && it.schema.nullable === true) {\n    if ($typeIsArray) {\n      if ($typeSchema.indexOf('null') == -1) $typeSchema = $typeSchema.concat('null');\n    } else if ($typeSchema != 'null') {\n      $typeSchema = [$typeSchema, 'null'];\n      $typeIsArray = true;\n    }\n  }\n  if ($typeIsArray && $typeSchema.length == 1) {\n    $typeSchema = $typeSchema[0];\n    $typeIsArray = false;\n  }\n  if (it.schema.$ref && $refKeywords) {\n    if (it.opts.extendRefs == 'fail') {\n      throw new Error('$ref: validation keywords used in schema at path \"' + it.errSchemaPath + '\" (see option extendRefs)');\n    } else if (it.opts.extendRefs !== true) {\n      $refKeywords = false;\n      it.logger.warn('$ref: keywords ignored in schema at path \"' + it.errSchemaPath + '\"');\n    }\n  }\n  if (it.schema.$comment && it.opts.$comment) {\n    out += ' ' + (it.RULES.all.$comment.code(it, '$comment'));\n  }\n  if ($typeSchema) {\n    if (it.opts.coerceTypes) {\n      var $coerceToTypes = it.util.coerceToTypes(it.opts.coerceTypes, $typeSchema);\n    }\n    var $rulesGroup = it.RULES.types[$typeSchema];\n    if ($coerceToTypes || $typeIsArray || $rulesGroup === true || ($rulesGroup && !$shouldUseGroup($rulesGroup))) {\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type';\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type',\n        $method = $typeIsArray ? 'checkDataTypes' : 'checkDataType';\n      out += ' if (' + (it.util[$method]($typeSchema, $data, true)) + ') { ';\n      if ($coerceToTypes) {\n        var $dataType = 'dataType' + $lvl,\n          $coerced = 'coerced' + $lvl;\n        out += ' var ' + ($dataType) + ' = typeof ' + ($data) + '; ';\n        if (it.opts.coerceTypes == 'array') {\n          out += ' if (' + ($dataType) + ' == \\'object\\' && Array.isArray(' + ($data) + ')) ' + ($dataType) + ' = \\'array\\'; ';\n        }\n        out += ' var ' + ($coerced) + ' = undefined; ';\n        var $bracesCoercion = '';\n        var arr1 = $coerceToTypes;\n        if (arr1) {\n          var $type, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $type = arr1[$i += 1];\n            if ($i) {\n              out += ' if (' + ($coerced) + ' === undefined) { ';\n              $bracesCoercion += '}';\n            }\n            if (it.opts.coerceTypes == 'array' && $type != 'array') {\n              out += ' if (' + ($dataType) + ' == \\'array\\' && ' + ($data) + '.length == 1) { ' + ($coerced) + ' = ' + ($data) + ' = ' + ($data) + '[0]; ' + ($dataType) + ' = typeof ' + ($data) + ';  } ';\n            }\n            if ($type == 'string') {\n              out += ' if (' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\') ' + ($coerced) + ' = \\'\\' + ' + ($data) + '; else if (' + ($data) + ' === null) ' + ($coerced) + ' = \\'\\'; ';\n            } else if ($type == 'number' || $type == 'integer') {\n              out += ' if (' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' === null || (' + ($dataType) + ' == \\'string\\' && ' + ($data) + ' && ' + ($data) + ' == +' + ($data) + ' ';\n              if ($type == 'integer') {\n                out += ' && !(' + ($data) + ' % 1)';\n              }\n              out += ')) ' + ($coerced) + ' = +' + ($data) + '; ';\n            } else if ($type == 'boolean') {\n              out += ' if (' + ($data) + ' === \\'false\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === null) ' + ($coerced) + ' = false; else if (' + ($data) + ' === \\'true\\' || ' + ($data) + ' === 1) ' + ($coerced) + ' = true; ';\n            } else if ($type == 'null') {\n              out += ' if (' + ($data) + ' === \\'\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === false) ' + ($coerced) + ' = null; ';\n            } else if (it.opts.coerceTypes == 'array' && $type == 'array') {\n              out += ' if (' + ($dataType) + ' == \\'string\\' || ' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' == null) ' + ($coerced) + ' = [' + ($data) + ']; ';\n            }\n          }\n        }\n        out += ' ' + ($bracesCoercion) + ' if (' + ($coerced) + ' === undefined) {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else {  ';\n        var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n          $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n        out += ' ' + ($data) + ' = ' + ($coerced) + '; ';\n        if (!$dataLvl) {\n          out += 'if (' + ($parentData) + ' !== undefined)';\n        }\n        out += ' ' + ($parentData) + '[' + ($parentDataProperty) + '] = ' + ($coerced) + '; } ';\n      } else {\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      }\n      out += ' } ';\n    }\n  }\n  if (it.schema.$ref && !$refKeywords) {\n    out += ' ' + (it.RULES.all.$ref.code(it, '$ref')) + ' ';\n    if ($breakOnError) {\n      out += ' } if (errors === ';\n      if ($top) {\n        out += '0';\n      } else {\n        out += 'errs_' + ($lvl);\n      }\n      out += ') { ';\n      $closingBraces2 += '}';\n    }\n  } else {\n    var arr2 = it.RULES;\n    if (arr2) {\n      var $rulesGroup, i2 = -1,\n        l2 = arr2.length - 1;\n      while (i2 < l2) {\n        $rulesGroup = arr2[i2 += 1];\n        if ($shouldUseGroup($rulesGroup)) {\n          if ($rulesGroup.type) {\n            out += ' if (' + (it.util.checkDataType($rulesGroup.type, $data)) + ') { ';\n          }\n          if (it.opts.useDefaults) {\n            if ($rulesGroup.type == 'object' && it.schema.properties) {\n              var $schema = it.schema.properties,\n                $schemaKeys = Object.keys($schema);\n              var arr3 = $schemaKeys;\n              if (arr3) {\n                var $propertyKey, i3 = -1,\n                  l3 = arr3.length - 1;\n                while (i3 < l3) {\n                  $propertyKey = arr3[i3 += 1];\n                  var $sch = $schema[$propertyKey];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + it.util.getProperty($propertyKey);\n                    if (it.compositeRule) {\n                      if (it.opts.strictDefaults) {\n                        var $defaultMsg = 'default is ignored for: ' + $passData;\n                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n                        else throw new Error($defaultMsg);\n                      }\n                    } else {\n                      out += ' if (' + ($passData) + ' === undefined ';\n                      if (it.opts.useDefaults == 'empty') {\n                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \\'\\' ';\n                      }\n                      out += ' ) ' + ($passData) + ' = ';\n                      if (it.opts.useDefaults == 'shared') {\n                        out += ' ' + (it.useDefault($sch.default)) + ' ';\n                      } else {\n                        out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                      }\n                      out += '; ';\n                    }\n                  }\n                }\n              }\n            } else if ($rulesGroup.type == 'array' && Array.isArray(it.schema.items)) {\n              var arr4 = it.schema.items;\n              if (arr4) {\n                var $sch, $i = -1,\n                  l4 = arr4.length - 1;\n                while ($i < l4) {\n                  $sch = arr4[$i += 1];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + '[' + $i + ']';\n                    if (it.compositeRule) {\n                      if (it.opts.strictDefaults) {\n                        var $defaultMsg = 'default is ignored for: ' + $passData;\n                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n                        else throw new Error($defaultMsg);\n                      }\n                    } else {\n                      out += ' if (' + ($passData) + ' === undefined ';\n                      if (it.opts.useDefaults == 'empty') {\n                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \\'\\' ';\n                      }\n                      out += ' ) ' + ($passData) + ' = ';\n                      if (it.opts.useDefaults == 'shared') {\n                        out += ' ' + (it.useDefault($sch.default)) + ' ';\n                      } else {\n                        out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                      }\n                      out += '; ';\n                    }\n                  }\n                }\n              }\n            }\n          }\n          var arr5 = $rulesGroup.rules;\n          if (arr5) {\n            var $rule, i5 = -1,\n              l5 = arr5.length - 1;\n            while (i5 < l5) {\n              $rule = arr5[i5 += 1];\n              if ($shouldUseRule($rule)) {\n                var $code = $rule.code(it, $rule.keyword, $rulesGroup.type);\n                if ($code) {\n                  out += ' ' + ($code) + ' ';\n                  if ($breakOnError) {\n                    $closingBraces1 += '}';\n                  }\n                }\n              }\n            }\n          }\n          if ($breakOnError) {\n            out += ' ' + ($closingBraces1) + ' ';\n            $closingBraces1 = '';\n          }\n          if ($rulesGroup.type) {\n            out += ' } ';\n            if ($typeSchema && $typeSchema === $rulesGroup.type && !$coerceToTypes) {\n              out += ' else { ';\n              var $schemaPath = it.schemaPath + '.type',\n                $errSchemaPath = it.errSchemaPath + '/type';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n                if ($typeIsArray) {\n                  out += '' + ($typeSchema.join(\",\"));\n                } else {\n                  out += '' + ($typeSchema);\n                }\n                out += '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should be ';\n                  if ($typeIsArray) {\n                    out += '' + ($typeSchema.join(\",\"));\n                  } else {\n                    out += '' + ($typeSchema);\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              out += ' } ';\n            }\n          }\n          if ($breakOnError) {\n            out += ' if (errors === ';\n            if ($top) {\n              out += '0';\n            } else {\n              out += 'errs_' + ($lvl);\n            }\n            out += ') { ';\n            $closingBraces2 += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces2) + ' ';\n  }\n  if ($top) {\n    if ($async) {\n      out += ' if (errors === 0) return data;           ';\n      out += ' else throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; ';\n      out += ' return errors === 0;       ';\n    }\n    out += ' }; return validate;';\n  } else {\n    out += ' var ' + ($valid) + ' = errors === errs_' + ($lvl) + ';';\n  }\n  out = it.util.cleanUpCode(out);\n  if ($top) {\n    out = it.util.finalCleanUpCode(out, $async);\n  }\n\n  function $shouldUseGroup($rulesGroup) {\n    var rules = $rulesGroup.rules;\n    for (var i = 0; i < rules.length; i++)\n      if ($shouldUseRule(rules[i])) return true;\n  }\n\n  function $shouldUseRule($rule) {\n    return it.schema[$rule.keyword] !== undefined || ($rule.implements && $ruleImplementsSomeKeyword($rule));\n  }\n\n  function $ruleImplementsSomeKeyword($rule) {\n    var impl = $rule.implements;\n    for (var i = 0; i < impl.length; i++)\n      if (it.schema[impl[i]] !== undefined) return true;\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxItems' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' ' + ($data) + '.length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxItems') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' items\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_if(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $thenSch = it.schema['then'],\n    $elseSch = it.schema['else'],\n    $thenPresent = $thenSch !== undefined && (it.opts.strictKeywords ? typeof $thenSch == 'object' && Object.keys($thenSch).length > 0 : it.util.schemaHasRules($thenSch, it.RULES.all)),\n    $elsePresent = $elseSch !== undefined && (it.opts.strictKeywords ? typeof $elseSch == 'object' && Object.keys($elseSch).length > 0 : it.util.schemaHasRules($elseSch, it.RULES.all)),\n    $currentBaseId = $it.baseId;\n  if ($thenPresent || $elsePresent) {\n    var $ifClause;\n    $it.createErrors = false;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = true;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    out += '  ' + (it.validate($it)) + ' ';\n    $it.baseId = $currentBaseId;\n    $it.createErrors = true;\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    if ($thenPresent) {\n      out += ' if (' + ($nextValid) + ') {  ';\n      $it.schema = it.schema['then'];\n      $it.schemaPath = it.schemaPath + '.then';\n      $it.errSchemaPath = it.errSchemaPath + '/then';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'then\\'; ';\n      } else {\n        $ifClause = '\\'then\\'';\n      }\n      out += ' } ';\n      if ($elsePresent) {\n        out += ' else { ';\n      }\n    } else {\n      out += ' if (!' + ($nextValid) + ') { ';\n    }\n    if ($elsePresent) {\n      $it.schema = it.schema['else'];\n      $it.schemaPath = it.schemaPath + '.else';\n      $it.errSchemaPath = it.errSchemaPath + '/else';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'else\\'; ';\n      } else {\n        $ifClause = '\\'else\\'';\n      }\n      out += ' } ';\n    }\n    out += ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('if') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { failingKeyword: ' + ($ifClause) + ' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match \"\\' + ' + ($ifClause) + ' + \\'\" schema\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' }   ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n    out = it.util.cleanUpCode(out);\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_enum(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $i = 'i' + $lvl,\n    $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ';';\n  if ($isData) {\n    out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n  }\n  out += '' + ($valid) + ' = false;for (var ' + ($i) + '=0; ' + ($i) + '<' + ($vSchema) + '.length; ' + ($i) + '++) if (equal(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + '])) { ' + ($valid) + ' = true; break; }';\n  if ($isData) {\n    out += '  }  ';\n  }\n  out += ' if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('enum') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValues: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to one of the allowed values\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_allOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $allSchemasEmpty = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n        $allSchemasEmpty = false;\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    if ($allSchemasEmpty) {\n      out += ' if (true) { ';\n    } else {\n      out += ' ' + ($closingBraces.slice(0, -1)) + ' ';\n    }\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\n\n\nvar Cache = module.exports = function Cache() {\n  this._cache = {};\n};\n\n\nCache.prototype.put = function Cache_put(key, value) {\n  this._cache[key] = value;\n};\n\n\nCache.prototype.get = function Cache_get(key) {\n  return this._cache[key];\n};\n\n\nCache.prototype.del = function Cache_del(key) {\n  delete this._cache[key];\n};\n\n\nCache.prototype.clear = function Cache_clear() {\n  this._cache = {};\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProject.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProject.vue?vue&type=style&index=0&lang=css&\"","'use strict';\n\nmodule.exports = function (data, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (node) {\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        if (node === undefined) return;\n        if (typeof node == 'number') return isFinite(node) ? '' + node : 'null';\n        if (typeof node !== 'object') return JSON.stringify(node);\n\n        var i, out;\n        if (Array.isArray(node)) {\n            out = '[';\n            for (i = 0; i < node.length; i++) {\n                if (i) out += ',';\n                out += stringify(node[i]) || 'null';\n            }\n            return out + ']';\n        }\n\n        if (node === null) return 'null';\n\n        if (seen.indexOf(node) !== -1) {\n            if (cycles) return JSON.stringify('__cycle__');\n            throw new TypeError('Converting circular structure to JSON');\n        }\n\n        var seenIndex = seen.push(node) - 1;\n        var keys = Object.keys(node).sort(cmp && cmp(node));\n        out = '';\n        for (i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = stringify(node[key]);\n\n            if (!value) continue;\n            if (out) out += ',';\n            out += JSON.stringify(key) + ':' + value;\n        }\n        seen.splice(seenIndex, 1);\n        return '{' + out + '}';\n    })(data);\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Field.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Field.vue?vue&type=style&index=0&lang=css&\"","'use strict';\n\n\nmodule.exports = {\n  copy: copy,\n  checkDataType: checkDataType,\n  checkDataTypes: checkDataTypes,\n  coerceToTypes: coerceToTypes,\n  toHash: toHash,\n  getProperty: getProperty,\n  escapeQuotes: escapeQuotes,\n  equal: require('fast-deep-equal'),\n  ucs2length: require('./ucs2length'),\n  varOccurences: varOccurences,\n  varReplace: varReplace,\n  cleanUpCode: cleanUpCode,\n  finalCleanUpCode: finalCleanUpCode,\n  schemaHasRules: schemaHasRules,\n  schemaHasRulesExcept: schemaHasRulesExcept,\n  schemaUnknownRules: schemaUnknownRules,\n  toQuotedString: toQuotedString,\n  getPathExpr: getPathExpr,\n  getPath: getPath,\n  getData: getData,\n  unescapeFragment: unescapeFragment,\n  unescapeJsonPointer: unescapeJsonPointer,\n  escapeFragment: escapeFragment,\n  escapeJsonPointer: escapeJsonPointer\n};\n\n\nfunction copy(o, to) {\n  to = to || {};\n  for (var key in o) to[key] = o[key];\n  return to;\n}\n\n\nfunction checkDataType(dataType, data, negate) {\n  var EQUAL = negate ? ' !== ' : ' === '\n    , AND = negate ? ' || ' : ' && '\n    , OK = negate ? '!' : ''\n    , NOT = negate ? '' : '!';\n  switch (dataType) {\n    case 'null': return data + EQUAL + 'null';\n    case 'array': return OK + 'Array.isArray(' + data + ')';\n    case 'object': return '(' + OK + data + AND +\n                          'typeof ' + data + EQUAL + '\"object\"' + AND +\n                          NOT + 'Array.isArray(' + data + '))';\n    case 'integer': return '(typeof ' + data + EQUAL + '\"number\"' + AND +\n                           NOT + '(' + data + ' % 1)' +\n                           AND + data + EQUAL + data + ')';\n    default: return 'typeof ' + data + EQUAL + '\"' + dataType + '\"';\n  }\n}\n\n\nfunction checkDataTypes(dataTypes, data) {\n  switch (dataTypes.length) {\n    case 1: return checkDataType(dataTypes[0], data, true);\n    default:\n      var code = '';\n      var types = toHash(dataTypes);\n      if (types.array && types.object) {\n        code = types.null ? '(': '(!' + data + ' || ';\n        code += 'typeof ' + data + ' !== \"object\")';\n        delete types.null;\n        delete types.array;\n        delete types.object;\n      }\n      if (types.number) delete types.integer;\n      for (var t in types)\n        code += (code ? ' && ' : '' ) + checkDataType(t, data, true);\n\n      return code;\n  }\n}\n\n\nvar COERCE_TO_TYPES = toHash([ 'string', 'number', 'integer', 'boolean', 'null' ]);\nfunction coerceToTypes(optionCoerceTypes, dataTypes) {\n  if (Array.isArray(dataTypes)) {\n    var types = [];\n    for (var i=0; i<dataTypes.length; i++) {\n      var t = dataTypes[i];\n      if (COERCE_TO_TYPES[t]) types[types.length] = t;\n      else if (optionCoerceTypes === 'array' && t === 'array') types[types.length] = t;\n    }\n    if (types.length) return types;\n  } else if (COERCE_TO_TYPES[dataTypes]) {\n    return [dataTypes];\n  } else if (optionCoerceTypes === 'array' && dataTypes === 'array') {\n    return ['array'];\n  }\n}\n\n\nfunction toHash(arr) {\n  var hash = {};\n  for (var i=0; i<arr.length; i++) hash[arr[i]] = true;\n  return hash;\n}\n\n\nvar IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nvar SINGLE_QUOTE = /'|\\\\/g;\nfunction getProperty(key) {\n  return typeof key == 'number'\n          ? '[' + key + ']'\n          : IDENTIFIER.test(key)\n            ? '.' + key\n            : \"['\" + escapeQuotes(key) + \"']\";\n}\n\n\nfunction escapeQuotes(str) {\n  return str.replace(SINGLE_QUOTE, '\\\\$&')\n            .replace(/\\n/g, '\\\\n')\n            .replace(/\\r/g, '\\\\r')\n            .replace(/\\f/g, '\\\\f')\n            .replace(/\\t/g, '\\\\t');\n}\n\n\nfunction varOccurences(str, dataVar) {\n  dataVar += '[^0-9]';\n  var matches = str.match(new RegExp(dataVar, 'g'));\n  return matches ? matches.length : 0;\n}\n\n\nfunction varReplace(str, dataVar, expr) {\n  dataVar += '([^0-9])';\n  expr = expr.replace(/\\$/g, '$$$$');\n  return str.replace(new RegExp(dataVar, 'g'), expr + '$1');\n}\n\n\nvar EMPTY_ELSE = /else\\s*{\\s*}/g\n  , EMPTY_IF_NO_ELSE = /if\\s*\\([^)]+\\)\\s*\\{\\s*\\}(?!\\s*else)/g\n  , EMPTY_IF_WITH_ELSE = /if\\s*\\(([^)]+)\\)\\s*\\{\\s*\\}\\s*else(?!\\s*if)/g;\nfunction cleanUpCode(out) {\n  return out.replace(EMPTY_ELSE, '')\n            .replace(EMPTY_IF_NO_ELSE, '')\n            .replace(EMPTY_IF_WITH_ELSE, 'if (!($1))');\n}\n\n\nvar ERRORS_REGEXP = /[^v.]errors/g\n  , REMOVE_ERRORS = /var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g\n  , REMOVE_ERRORS_ASYNC = /var errors = 0;|var vErrors = null;/g\n  , RETURN_VALID = 'return errors === 0;'\n  , RETURN_TRUE = 'validate.errors = null; return true;'\n  , RETURN_ASYNC = /if \\(errors === 0\\) return data;\\s*else throw new ValidationError\\(vErrors\\);/\n  , RETURN_DATA_ASYNC = 'return data;'\n  , ROOTDATA_REGEXP = /[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g\n  , REMOVE_ROOTDATA = /if \\(rootData === undefined\\) rootData = data;/;\n\nfunction finalCleanUpCode(out, async) {\n  var matches = out.match(ERRORS_REGEXP);\n  if (matches && matches.length == 2) {\n    out = async\n          ? out.replace(REMOVE_ERRORS_ASYNC, '')\n               .replace(RETURN_ASYNC, RETURN_DATA_ASYNC)\n          : out.replace(REMOVE_ERRORS, '')\n               .replace(RETURN_VALID, RETURN_TRUE);\n  }\n\n  matches = out.match(ROOTDATA_REGEXP);\n  if (!matches || matches.length !== 3) return out;\n  return out.replace(REMOVE_ROOTDATA, '');\n}\n\n\nfunction schemaHasRules(schema, rules) {\n  if (typeof schema == 'boolean') return !schema;\n  for (var key in schema) if (rules[key]) return true;\n}\n\n\nfunction schemaHasRulesExcept(schema, rules, exceptKeyword) {\n  if (typeof schema == 'boolean') return !schema && exceptKeyword != 'not';\n  for (var key in schema) if (key != exceptKeyword && rules[key]) return true;\n}\n\n\nfunction schemaUnknownRules(schema, rules) {\n  if (typeof schema == 'boolean') return;\n  for (var key in schema) if (!rules[key]) return key;\n}\n\n\nfunction toQuotedString(str) {\n  return '\\'' + escapeQuotes(str) + '\\'';\n}\n\n\nfunction getPathExpr(currentPath, expr, jsonPointers, isNumber) {\n  var path = jsonPointers // false by default\n              ? '\\'/\\' + ' + expr + (isNumber ? '' : '.replace(/~/g, \\'~0\\').replace(/\\\\//g, \\'~1\\')')\n              : (isNumber ? '\\'[\\' + ' + expr + ' + \\']\\'' : '\\'[\\\\\\'\\' + ' + expr + ' + \\'\\\\\\']\\'');\n  return joinPaths(currentPath, path);\n}\n\n\nfunction getPath(currentPath, prop, jsonPointers) {\n  var path = jsonPointers // false by default\n              ? toQuotedString('/' + escapeJsonPointer(prop))\n              : toQuotedString(getProperty(prop));\n  return joinPaths(currentPath, path);\n}\n\n\nvar JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nvar RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, lvl, paths) {\n  var up, jsonPointer, data, matches;\n  if ($data === '') return 'rootData';\n  if ($data[0] == '/') {\n    if (!JSON_POINTER.test($data)) throw new Error('Invalid JSON-pointer: ' + $data);\n    jsonPointer = $data;\n    data = 'rootData';\n  } else {\n    matches = $data.match(RELATIVE_JSON_POINTER);\n    if (!matches) throw new Error('Invalid JSON-pointer: ' + $data);\n    up = +matches[1];\n    jsonPointer = matches[2];\n    if (jsonPointer == '#') {\n      if (up >= lvl) throw new Error('Cannot access property/index ' + up + ' levels up, current level is ' + lvl);\n      return paths[lvl - up];\n    }\n\n    if (up > lvl) throw new Error('Cannot access data ' + up + ' levels up, current level is ' + lvl);\n    data = 'data' + ((lvl - up) || '');\n    if (!jsonPointer) return data;\n  }\n\n  var expr = data;\n  var segments = jsonPointer.split('/');\n  for (var i=0; i<segments.length; i++) {\n    var segment = segments[i];\n    if (segment) {\n      data += getProperty(unescapeJsonPointer(segment));\n      expr += ' && ' + data;\n    }\n  }\n  return expr;\n}\n\n\nfunction joinPaths (a, b) {\n  if (a == '\"\"') return b;\n  return (a + ' + ' + b).replace(/' \\+ '/g, '');\n}\n\n\nfunction unescapeFragment(str) {\n  return unescapeJsonPointer(decodeURIComponent(str));\n}\n\n\nfunction escapeFragment(str) {\n  return encodeURIComponent(escapeJsonPointer(str));\n}\n\n\nfunction escapeJsonPointer(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n\n\nfunction unescapeJsonPointer(str) {\n  return str.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n","'use strict';\n\nvar IDENTIFIER = /^[a-z_$][a-z0-9_$-]*$/i;\nvar customRuleCode = require('./dotjs/custom');\nvar definitionSchema = require('./definition_schema');\n\nmodule.exports = {\n  add: addKeyword,\n  get: getKeyword,\n  remove: removeKeyword,\n  validate: validateKeyword\n};\n\n\n/**\n * Define custom keyword\n * @this  Ajv\n * @param {String} keyword custom keyword, should be unique (including different from all standard, custom and macro keywords).\n * @param {Object} definition keyword definition object with properties `type` (type(s) which the keyword applies to), `validate` or `compile`.\n * @return {Ajv} this for method chaining\n */\nfunction addKeyword(keyword, definition) {\n  /* jshint validthis: true */\n  /* eslint no-shadow: 0 */\n  var RULES = this.RULES;\n  if (RULES.keywords[keyword])\n    throw new Error('Keyword ' + keyword + ' is already defined');\n\n  if (!IDENTIFIER.test(keyword))\n    throw new Error('Keyword ' + keyword + ' is not a valid identifier');\n\n  if (definition) {\n    this.validateKeyword(definition, true);\n\n    var dataType = definition.type;\n    if (Array.isArray(dataType)) {\n      for (var i=0; i<dataType.length; i++)\n        _addRule(keyword, dataType[i], definition);\n    } else {\n      _addRule(keyword, dataType, definition);\n    }\n\n    var metaSchema = definition.metaSchema;\n    if (metaSchema) {\n      if (definition.$data && this._opts.$data) {\n        metaSchema = {\n          anyOf: [\n            metaSchema,\n            { '$ref': 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n      definition.validateSchema = this.compile(metaSchema, true);\n    }\n  }\n\n  RULES.keywords[keyword] = RULES.all[keyword] = true;\n\n\n  function _addRule(keyword, dataType, definition) {\n    var ruleGroup;\n    for (var i=0; i<RULES.length; i++) {\n      var rg = RULES[i];\n      if (rg.type == dataType) {\n        ruleGroup = rg;\n        break;\n      }\n    }\n\n    if (!ruleGroup) {\n      ruleGroup = { type: dataType, rules: [] };\n      RULES.push(ruleGroup);\n    }\n\n    var rule = {\n      keyword: keyword,\n      definition: definition,\n      custom: true,\n      code: customRuleCode,\n      implements: definition.implements\n    };\n    ruleGroup.rules.push(rule);\n    RULES.custom[keyword] = rule;\n  }\n\n  return this;\n}\n\n\n/**\n * Get keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Object|Boolean} custom keyword definition, `true` if it is a predefined keyword, `false` otherwise.\n */\nfunction getKeyword(keyword) {\n  /* jshint validthis: true */\n  var rule = this.RULES.custom[keyword];\n  return rule ? rule.definition : this.RULES.keywords[keyword] || false;\n}\n\n\n/**\n * Remove keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Ajv} this for method chaining\n */\nfunction removeKeyword(keyword) {\n  /* jshint validthis: true */\n  var RULES = this.RULES;\n  delete RULES.keywords[keyword];\n  delete RULES.all[keyword];\n  delete RULES.custom[keyword];\n  for (var i=0; i<RULES.length; i++) {\n    var rules = RULES[i].rules;\n    for (var j=0; j<rules.length; j++) {\n      if (rules[j].keyword == keyword) {\n        rules.splice(j, 1);\n        break;\n      }\n    }\n  }\n  return this;\n}\n\n\n/**\n * Validate keyword definition\n * @this  Ajv\n * @param {Object} definition keyword definition object.\n * @param {Boolean} throwError true to throw exception if definition is invalid\n * @return {boolean} validation result\n */\nfunction validateKeyword(definition, throwError) {\n  validateKeyword.errors = null;\n  var v = this._validateKeyword = this._validateKeyword\n                                  || this.compile(definitionSchema, true);\n\n  if (v(definition)) return true;\n  validateKeyword.errors = v.errors;\n  if (throwError)\n    throw new Error('custom keyword definition is invalid: '  + this.errorsText(v.errors));\n  else\n    return false;\n}\n"],"sourceRoot":""}