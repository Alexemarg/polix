(function(t){function e(e){for(var a,r,i=e[0],c=e[1],u=e[2],l=0,d=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);f&&f(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var i=n[r];0!==o[i]&&(a=!1)}a&&(s.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},r={app:0},o={app:0},s=[];function i(t){return c.p+"js/"+({about:"about","editor~game":"editor~game",editor:"editor",game:"game",news:"news",settings:"settings"}[t]||t)+"-legacy."+{about:"6dc532b3","editor~game":"4658db67",editor:"423ba99f",game:"b53670f0",news:"745097d2",settings:"8c8a391c","chunk-2d0ac44a":"22b726ca","chunk-2d0cf34c":"a4c143ba","chunk-2d237182":"5f8750ca"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={editor:1,game:1,news:1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var a="css/"+({about:"about","editor~game":"editor~game",editor:"editor",game:"game",news:"news",settings:"settings"}[t]||t)+"."+{about:"31d6cfe0","editor~game":"31d6cfe0",editor:"8f3b8862",game:"0fac81a8",news:"2c2765ac",settings:"31d6cfe0","chunk-2d0ac44a":"31d6cfe0","chunk-2d0cf34c":"31d6cfe0","chunk-2d237182":"31d6cfe0"}[t]+".css",o=c.p+a,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var u=s[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===o))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],l=u.getAttribute("data-href");if(l===a||l===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var a=e&&e.target&&e.target.src||o,s=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete r[t],f.parentNode.removeChild(f),n(s)},f.href=o;var b=document.getElementsByTagName("head")[0];b.appendChild(f)})).then((function(){r[t]=0})));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,n){a=o[t]=[e,n]}));e.push(a[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}o[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/polix/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),r=n.n(a);r.a},"14ee":function(t,e,n){},"17ed":function(t,e,n){},2816:function(t,e,n){},"2dae":function(t,e,n){"use strict";var a=n("14ee"),r=n.n(a);r.a},"4eab":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"img_pixel",style:t.url?"background: url("+t.url+")":"background: #"+(t.color||"0000")},[n("img",{staticStyle:{height:"100%",width:"100%",visibility:"hidden"},attrs:{src:t.url},on:{error:function(e){!t.src.startsWith("data:")&&(t.url=t.fail)}}})])},r=[],o={props:["src","fail","color"],data:function(){return{url:this.src}},watch:{src:function(t){this.url=t}}},s=o,i=(n("c186"),n("2877")),c=Object(i["a"])(s,a,r,!1,null,null,null);e["default"]=c.exports},"56d7":function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"set",(function(){return T})),n.d(a,"sva",(function(){return z})),n.d(a,"gameProjData",(function(){return B}));var r={};n.r(r),n.d(r,"loadLang",(function(){return q})),n.d(r,"loadVersList",(function(){return R})),n.d(r,"changeVersion",(function(){return V})),n.d(r,"loadBuild",(function(){return I})),n.d(r,"loadEngine",(function(){return K})),n.d(r,"setSidebarHide",(function(){return U})),n.d(r,"dialog",(function(){return F}));n("4160"),n("d3b7"),n("ac1f"),n("5319"),n("159b"),n("ddb0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ff-main bg-dr",attrs:{id:"app"}},[n("div",{attrs:{id:"frame"}},[n("Sidebar",{directives:[{name:"show",rawName:"v-show",value:!t.isSbHidden,expression:"!isSbHidden"}]}),n("main",{staticClass:"p-0 bg-noise"},[n("router-view")],1)],1),n("b-modal",{attrs:{id:"modal_dialog",title:t.modal.capt,"header-class":"bg-lt text-light ff-main","body-class":"bg-pr text-light ff-sec","footer-class":"bg-lt text-light ff-main",centered:""},on:{close:function(e){return t.modal.onanswer(0)}}},[n("p",{staticStyle:{height:"30vh"}},[t._v(" "+t._s(t.modal.msg)+" ")]),t._t("default",t._l(t.modal.btns,(function(e,a){return n("b-button",{key:a,attrs:{variant:e[1]},on:{click:function(e){t.modal.onanswer(a),t.$bvModal.hide("modal_dialog")}}},[t._v(" "+t._s(e[0])+" ")])})),{slot:"modal-footer"})],2)],1)},i=[],c=n("5530"),u=n("2f62"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",{staticClass:"bg-noise text-pr bg-pr",class:{minimized:t.isMn},attrs:{id:"sb"}},[n("b-row",{staticClass:"m-0 bg-lt"},[n("b-col",{staticClass:"p-0"},[n("b-button",{staticClass:"m-3 p-0 border-0",attrs:{id:"b_menu"},on:{click:function(e){t.isMn=!t.isMn}}},[n("b-icon",{staticClass:"text-pr",attrs:{icon:"list","font-scale":"2.5"}})],1)],1)],1),n("b-nav",{attrs:{variant:"link",vertical:"",small:""}},[n("Navigation"),n("footer",{staticClass:"sb_minzbl t-pc t-ss text-se"},[t._v(" 2020 "+t._s(t.$t("allRgRvd"))+" ")])],1)],1)},d=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-nav",{attrs:{vertical:"",id:"nav"}},[n("b-nav-item",{attrs:{to:"/game"}},[n("b-row",{staticClass:"m-0 p-3 text-pr"},[n("b-col",{staticClass:"p-0",attrs:{cols:"auto"}},[n("b-icon",{staticClass:"text-pr",attrs:{icon:"controller","font-scale":"2"}})],1),n("b-col",{staticClass:"sb_minzbl p-0 pl-3 pt-2"},[t._v(" "+t._s(t.$t("m_game"))+" ")])],1)],1),n("b-nav-item",{attrs:{to:"/editor"}},[n("b-row",{staticClass:"m-0 p-3 text-pr"},[n("b-col",{staticClass:"p-0",attrs:{cols:"auto"}},[n("b-icon",{staticClass:"text-pr",attrs:{icon:"pencil-square","font-scale":"2"}})],1),n("b-col",{staticClass:"sb_minzbl p-0 pl-3 pt-2"},[t._v(" "+t._s(t.$t("m_editor"))+" ")])],1)],1),n("b-nav-item",{attrs:{to:"/wiki"}},[n("b-row",{staticClass:"m-0 p-3 text-pr"},[n("b-col",{staticClass:"p-0",attrs:{cols:"auto"}},[n("b-icon",{staticClass:"text-pr",attrs:{icon:"book","font-scale":"2"}})],1),n("b-col",{staticClass:"sb_minzbl p-0 pl-3 pt-2"},[t._v(" "+t._s(t.$t("m_wiki"))+" ")])],1)],1),n("b-nav-item",{attrs:{to:"/news",disabled:""}},[n("b-row",{staticClass:"m-0 p-3 text-pr"},[n("b-col",{staticClass:"p-0",attrs:{cols:"auto"}},[n("b-icon",{staticClass:"text-pr",attrs:{icon:"newspaper","font-scale":"2"}})],1),n("b-col",{staticClass:"sb_minzbl p-0 pl-3 pt-2"},[t._v(" "+t._s(t.$t("m_news"))+" ")])],1)],1),n("b-nav-item",{attrs:{to:"/settings",disabled:""}},[n("b-row",{staticClass:"m-0 p-3 text-pr"},[n("b-col",{staticClass:"p-0",attrs:{cols:"auto"}},[n("b-icon",{staticClass:"text-pr",attrs:{icon:"gear","font-scale":"2"}})],1),n("b-col",{staticClass:"sb_minzbl p-0 pl-3 pt-2"},[t._v(" "+t._s(t.$t("m_stgs"))+" ")])],1)],1),n("b-nav-item",{attrs:{to:"/about",disabled:""}},[n("b-row",{staticClass:"m-0 p-3 text-pr"},[n("b-col",{staticClass:"p-0",attrs:{cols:"auto"}},[n("b-icon",{staticClass:"text-pr",attrs:{icon:"info-circle","font-scale":"2"}})],1),n("b-col",{staticClass:"sb_minzbl p-0 pl-3 pt-2"},[t._v(" "+t._s(t.$t("m_about"))+" ")])],1)],1)],1)},b=[],p=(n("963f"),n("2877")),m={},v=Object(p["a"])(m,f,b,!1,null,null,null),g=v.exports,h=n("6e92"),w=n("f8cc"),_="i_sb_ismn",y={data:function(){var t=this;return h["a"].watch(_,(function(){t.isMn=h["a"].load(_,!1,w["a"].from.bool)})),{isMn:h["a"].load(_,!1,w["a"].from.bool),testn:0}},components:{Navigation:g},watch:{isMn:function(t){h["a"].save(_,t,w["a"].to.bool)}},methods:{}},C=y,x=(n("2dae"),Object(p["a"])(C,l,d,!1,null,null,null)),j=x.exports,O={data:function(){return{}},components:{Sidebar:j},computed:Object(c["a"])({},Object(u["b"])(["modal","isSbHidden"])),mounted:function(){}},S=O,k=(n("034f"),Object(p["a"])(S,s,i,!1,null,null,null)),E=k.exports,$=n("8c4f");o["default"].use($["a"]);var P=[{path:"*",redirect:"/game"},{path:"/game",component:function(){return Promise.all([n.e("editor~game"),n.e("game")]).then(n.bind(null,"9365"))}},{path:"/editor",component:function(){return Promise.all([n.e("editor~game"),n.e("editor")]).then(n.bind(null,"be56"))}},{path:"/wiki",component:function(){return n.e("news").then(n.bind(null,"7a06"))}},{path:"/news",component:function(){return n.e("news").then(n.bind(null,"4b86"))}},{path:"/settings",component:function(){return n.e("settings").then(n.bind(null,"b41f"))}},{path:"/about",component:function(){return n.e("about").then(n.bind(null,"a1d1"))}}],N=new $["a"]({base:"/polix/",routes:P,mode:"history"}),M=(n("6062"),n("3ca3"),{vlist:[],build:{},issbhidden:!1,sva:h["a"].load("s_va","last"),lang:h["a"].load("s_l","ru"),langlist:new Set(["ru","en"]),progress:[0,0,""],session:{type:"",starttime:0},project:{},modal:{}}),L=M,A={verNum:function(t){return t.build.v},selVerAlias:function(t){return t.sva},lang:function(t){return t.lang},langList:function(t){return t.langlist},vlist:function(t){return t.vlist},sva:function(t){return t.sva},vn:function(t){return t.build.v||(/^\d+\.\d+\.\d+$/.test(t.sva)?t.sva:"*.*.*")},v:function(t){return t.build.v},progress:function(t){return t.progress},modal:function(t){return t.modal},isSbHidden:function(t){return t.issbhidden}};n("99af");function T(t,e){Object.assign(t,e)}function z(t,e){h["a"].save("s_va",e.a||e.n),t.build.v=e.n}function B(t,e){t.sgproj=e;var n="p/".concat(t.sgproj.devid,"/").concat(t.sgproj.projid,"/");window.$shared.R={img:n+"i/",aud:n+"a/",shd:n+"s/",map:n+"m/",loc:n+"l/"}}var D=n("a925");o["default"].use(D["a"]);var H=new D["a"],J=n("b56f");function q(t,e){var n=t.commit,a=(t.dispatch,t.getters);a.langList.has(a.lang)||(e="ru"),fetch("lang/".concat(e,".json")).then((function(t){return t.json()})).then((function(t){H.setLocaleMessage(e,t),H.locale=e,document.querySelector("html").setAttribute("lang",e),h["a"].save("s_l",e),n("set",{lang:e})})).catch((function(t){console.error('Не удалось загрузить файл локализации языка "'+e+'": ',t)}))}function R(t){var e=t.commit;t.dispatch;return new Promise((function(t,n){fetch("e/build/list.json").then((function(t){return t.json()})).then((function(n){e("set",{vlist:n}),t()})).catch(n)}))}function V(t,e){var n=t.commit;t.dispatch;n("sva",e),location.reload()}function I(t){var e=t.commit,n=(t.dispatch,t.getters);return new Promise((function(t,a){fetch("e/build/"+n.sva+".json").then((function(t){return t.json()})).then((function(n){e("set",{build:n}),t()})).catch(a)}))}function K(t,e){t.commit,t.dispatch;var n=t.getters;return new Promise((function(t,a){Object(J["a"])("e/core/".concat(n.v,"/").concat(e,".js")).then((function(a){console.log("Библиотеки загружены"),console.log("Загрузка ядра: ".concat(e,"_").concat(n.v,".js")),t("Процесс загрузки движка успешно завершен")})).catch((function(t){return a("Ошибка загрузки библиотек: ".concat(t))}))}))}function U(t){var e=t.commit,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e("set",{issbhidden:n})}function F(t,e){t.commit("set",{modal:e}),ot.$bvModal.show("modal_dialog")}o["default"].use(u["a"]);var W=new u["a"].Store({state:L,actions:r,mutations:a,getters:A,strict:!0}),G=(n("f9e3"),n("2dd8"),n("5f5b")),Q=n("498a"),X=n("dbbe"),Y=n("a7e2"),Z=n("0025"),tt=n("8c60"),et=n("1f1a"),nt=n("3c97"),at=n("b1e0");o["default"].config.productionTip=!1,o["default"].use(G["a"]),o["default"].use(Q["a"]),o["default"].use(X["a"]),o["default"].use(Y["a"]),o["default"].use(Z["a"]),o["default"].use(tt["a"]),o["default"].use(et["a"]),o["default"].use(nt["a"]),o["default"].use(at["a"]);var rt=n("917b");rt.keys().forEach((function(t){var e=rt(t),n=t.replace(/(^\.\/)|(\.\w+$)/g,"");/^_/.test(n)||o["default"].component(n,e.default||e)}));var ot=e["default"]=new o["default"]({router:N,store:W,i18n:H,render:function(t){return t(E)}}).$mount("#app");W.dispatch("loadLang",W.getters.lang).catch((function(t){console.log("Ошибка при загрузке языка"),console.dir(t)})),W.dispatch("loadBuild").catch((function(t){console.log("Ошибка при загрузке информации о версии движка"),console.dir(t)}))},"6e92":function(t,e,n){"use strict";n("4160"),n("d81d"),n("4ec9"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("3ca3"),n("466d"),n("159b"),n("ddb0");var a=new Map;function r(t,e){window.localStorage.setItem(t,e)}function o(t,e){var n=window.localStorage.getItem(t);return null!=n?n:e}window.addEventListener("storage",(function(t){var e=a.get(t.key);e&&e(t.newValue,t)}));var s="#";function i(t){var e=[],n=new RegExp("^"+t+s+"\\d+$");for(var a in localStorage)localStorage.hasOwnProperty(a)&&n.test(a)&&e.push(a.match(/\d+$/)[0]);return e.sort((function(t,e){return t-e})),e.map((function(e){return t+s+e}))}e["a"]={watch:function(t,e){return a.set(t,e)},save:function(t,e,n){r(t,n?n(e):e)},load:function(t,e,n){var a=o(t,e);return n?n(a):a},many:{getNextKey:function(t){var e=0;while(o(t+s+e))++e;return t+s+e},loadAll:function(t,e){var n=i(t),a=new Map;return n.forEach((function(t){var n=o(t),r=e?e(n):n;null==r||"number"===typeof r&&isNaN(r)||a.set(t,r)})),a},loadKeys:i}}},"85ec":function(t,e,n){},"917b":function(t,e,n){var a={"./ProgressBar.vue":"fc05","./img-pixel.vue":"4eab"};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=o,t.exports=r,r.id="917b"},"963f":function(t,e,n){"use strict";var a=n("2816"),r=n.n(a);r.a},b56f:function(t,e,n){"use strict";n("d3b7"),n("6062"),n("3ca3"),n("ddb0");var a=new Set;e["a"]=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(n,r){if(e&&a.has(t))return n();var o=document.createElement("script");o.src=t,o.onload=function(){a.add(t),n()},o.onerror=function(){r()},document.head.append(o)}))}},c186:function(t,e,n){"use strict";var a=n("17ed"),r=n.n(a);r.a},d720:function(t,e,n){"use strict";var a=n("f247"),r=n.n(a);r.a},f247:function(t,e,n){},f8cc:function(t,e,n){"use strict";n("b65f");e["a"]={from:{bool:function(t){return!!+t},json:function(t,e){if("string"!==typeof t)return e;try{return JSON.parse(t)}catch(n){return e}},time:{minutes:function(t){return new Date(6e4*t)}}},to:{bool:function(t){return+t},json:JSON.stringify,time:{minutes:function(t){return Math.trunc(t/6e4)}}},copy:function(t){return JSON.parse(JSON.stringify(t))}}},fc05:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"progs"},t._l(t.val[1],(function(e){return n("div",{key:e,class:e>t.val[0]?"bg-lt":"bg-ac"},[n("div")])})),0)},r=[],o={props:{val:Array}},s=o,i=(n("d720"),n("2877")),c=Object(i["a"])(s,a,r,!1,null,null,null);e["default"]=c.exports}});
//# sourceMappingURL=app-legacy.51fe355b.js.map